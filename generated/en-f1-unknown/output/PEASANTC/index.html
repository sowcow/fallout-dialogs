<!DOCTYPE html><html><head><title>PEASANTC</title><meta charset="utf-8" /></head><body><svg width="1096pt" height="1433pt"
 viewBox="0.00 0.00 1096.19 1433.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1429.4)">
<title>PEASANTC</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1429.4 1092.19,-1429.4 1092.19,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-1407.4" rx="27" ry="18"/>
</g>
<!-- destroy_p_proc -->
<g id="node2" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-1273.56" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M146.68,-1399.47C122.7,-1391.55 86.35,-1376.47 63,-1352.4 49.31,-1338.28 40.16,-1318.01 34.52,-1301.7"/>
<polygon fill="#555555" stroke="#555555" points="37.68,-1301.11 31.3,-1292.65 31.01,-1303.24 37.68,-1301.11"/>
</g>
<!-- map_enter_p_proc -->
<g id="node3" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="99" cy="-1273.56" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;map_enter_p_proc -->
<g id="edge2" class="edge">
<title>start&#45;&gt;map_enter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M159.62,-1390.74C152.18,-1380.17 142.49,-1365.77 135,-1352.4 125.72,-1335.83 116.75,-1316.44 110.08,-1301.16"/>
<polygon fill="#555555" stroke="#555555" points="113.02,-1300.14 105.86,-1292.33 106.59,-1302.9 113.02,-1300.14"/>
</g>
<!-- map_update_p_proc -->
<g id="node4" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-1273.56" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;map_update_p_proc -->
<g id="edge3" class="edge">
<title>start&#45;&gt;map_update_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M171,-1389.16C171,-1367.15 171,-1328.78 171,-1302.55"/>
<polygon fill="#555555" stroke="#555555" points="174.5,-1302.8 171,-1292.8 167.5,-1302.8 174.5,-1302.8"/>
</g>
<!-- pickup_p_proc -->
<g id="node5" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="342" cy="-1273.56" rx="125.92" ry="18"/>
<text text-anchor="middle" x="342" y="-1268.88" font-family="Times,serif" font-size="14.00">Please leave me alone!</text>
</g>
<!-- start&#45;&gt;pickup_p_proc -->
<g id="edge4" class="edge">
<title>start&#45;&gt;pickup_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M188.02,-1393.28C216.68,-1371.18 274.96,-1326.24 311.03,-1298.44"/>
<polygon fill="#555555" stroke="#555555" points="312.91,-1300.64 318.69,-1291.76 308.63,-1295.09 312.91,-1300.64"/>
</g>
<!-- talk_p_proc -->
<g id="node6" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="625" cy="-1273.56" rx="139.12" ry="78.84"/>
<text text-anchor="middle" x="625" y="-1312.01" font-family="Times,serif" font-size="14.00">Please leave me alone!</text>
<text text-anchor="middle" x="625" y="-1294.76" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="625" y="-1277.51" font-family="Times,serif" font-size="14.00">Get out of here!</text>
<text text-anchor="middle" x="625" y="-1260.26" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="625" y="-1243.01" font-family="Times,serif" font-size="14.00">I&#39;ve heard bad things</text>
<text text-anchor="middle" x="625" y="-1225.76" font-family="Times,serif" font-size="14.00">about you, are they true?</text>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge5" class="edge">
<title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M191.51,-1395.4C196.47,-1393.11 201.83,-1390.93 207,-1389.4 323.11,-1354.92 361.66,-1389.37 477,-1352.4 491.15,-1347.86 505.56,-1342.03 519.56,-1335.6"/>
<polygon fill="#555555" stroke="#555555" points="520.63,-1338.49 528.18,-1331.06 517.64,-1332.16 520.63,-1338.49"/>
</g>
<!-- sleeping -->
<g id="node8" class="node">
<title>sleeping</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-1127.66" rx="27" ry="18"/>
</g>
<!-- map_update_p_proc&#45;&gt;sleeping -->
<g id="edge6" class="edge">
<title>map_update_p_proc&#45;&gt;sleeping</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M171,-1255.2C171,-1230.78 171,-1186.02 171,-1156.81"/>
<polygon fill="#555555" stroke="#555555" points="174.5,-1157.08 171,-1147.08 167.5,-1157.08 174.5,-1157.08"/>
</g>
<!-- PeasantC00 -->
<g id="node9" class="node">
<title>PeasantC00</title>
<ellipse fill="#ffffff" stroke="#000000" cx="625" cy="-1127.66" rx="127.99" ry="30.05"/>
<text text-anchor="middle" x="625" y="-1131.61" font-family="Times,serif" font-size="14.00">I hope you&#39;re not going</text>
<text text-anchor="middle" x="625" y="-1114.36" font-family="Times,serif" font-size="14.00">to kick me out of here.</text>
</g>
<!-- talk_p_proc&#45;&gt;PeasantC00 -->
<g id="edge7" class="edge">
<title>talk_p_proc&#45;&gt;PeasantC00</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M625,-1194.29C625,-1185.51 625,-1176.86 625,-1168.86"/>
<polygon fill="#555555" stroke="#555555" points="628.5,-1169.04 625,-1159.04 621.5,-1169.04 628.5,-1169.04"/>
</g>
<!-- damage_p_proc -->
<g id="node7" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="243" cy="-1407.4" rx="27" ry="18"/>
</g>
<!-- PeasantCEnd -->
<g id="node10" class="node">
<title>PeasantCEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="542" cy="-30.05" rx="27" ry="18"/>
</g>
<!-- PeasantC00&#45;&gt;PeasantCEnd -->
<g id="edge8" class="edge">
<title>PeasantC00&#45;&gt;PeasantCEnd</title>
<path fill="none" stroke="#579900" d="M573.53,-1099.83C531.49,-1073.8 479,-1030.02 479,-973.66 479,-973.66 479,-973.66 479,-337.57 479,-232.58 514.9,-111.43 532.5,-58.35"/>
<polygon fill="#579900" stroke="#579900" points="536.08,-59.68 535.96,-49.08 529.45,-57.44 536.08,-59.68"/>
<text text-anchor="middle" x="491.38" y="-683.61" font-family="Times,serif" font-size="14.00" fill="#579900">No.</text>
</g>
<!-- PeasantC00a -->
<g id="node11" class="node">
<title>PeasantC00a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="633" cy="-972.66" rx="27" ry="18"/>
</g>
<!-- PeasantC00&#45;&gt;PeasantC00a -->
<g id="edge9" class="edge">
<title>PeasantC00&#45;&gt;PeasantC00a</title>
<path fill="none" stroke="#990084" d="M624.62,-1097.2C624.58,-1081.69 624.8,-1062.36 625.75,-1045.11 626.54,-1030.76 628.09,-1014.86 629.55,-1001.7"/>
<polygon fill="#990084" stroke="#990084" points="633.12,-1002.29 630.8,-991.95 626.17,-1001.48 633.12,-1002.29"/>
<text text-anchor="middle" x="708.62" y="-1066.31" font-family="Times,serif" font-size="14.00" fill="#990084">That&#39;s a strange way to</text>
<text text-anchor="middle" x="708.62" y="-1049.06" font-family="Times,serif" font-size="14.00" fill="#990084">start a conversation.</text>
</g>
<!-- PeasantC01 -->
<g id="node12" class="node">
<title>PeasantC01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="815" cy="-972.66" rx="128.52" ry="54.45"/>
<text text-anchor="middle" x="815" y="-993.86" font-family="Times,serif" font-size="14.00">Oh, well, if you want to</text>
<text text-anchor="middle" x="815" y="-976.61" font-family="Times,serif" font-size="14.00">stay a while, go right</text>
<text text-anchor="middle" x="815" y="-959.36" font-family="Times,serif" font-size="14.00">ahead. I think we are</text>
<text text-anchor="middle" x="815" y="-942.11" font-family="Times,serif" font-size="14.00"> safe here.</text>
</g>
<!-- PeasantC00&#45;&gt;PeasantC01 -->
<g id="edge10" class="edge">
<title>PeasantC00&#45;&gt;PeasantC01</title>
<path fill="none" stroke="#009981" d="M737.97,-1113.23C758.59,-1106.09 778.22,-1095.44 793,-1079.61 803.63,-1068.23 809.68,-1053.12 813,-1037.88"/>
<polygon fill="#009981" stroke="#009981" points="816.57,-1038.81 814.89,-1028.35 809.68,-1037.58 816.57,-1038.81"/>
<text text-anchor="middle" x="831.75" y="-1057.69" font-family="Times,serif" font-size="14.00" fill="#009981">Hnnn.</text>
</g>
<!-- PeasantC03 -->
<g id="node13" class="node">
<title>PeasantC03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="633" cy="-802.37" rx="126.4" ry="78.84"/>
<text text-anchor="middle" x="633" y="-840.82" font-family="Times,serif" font-size="14.00">Well, it&#39;s true. After</text>
<text text-anchor="middle" x="633" y="-823.57" font-family="Times,serif" font-size="14.00">what happened to my</text>
<text text-anchor="middle" x="633" y="-806.32" font-family="Times,serif" font-size="14.00">friends, I gotta protect</text>
<text text-anchor="middle" x="633" y="-789.07" font-family="Times,serif" font-size="14.00">my</text>
<text text-anchor="middle" x="633" y="-771.82" font-family="Times,serif" font-size="14.00">turf. I just hope you&#39;re</text>
<text text-anchor="middle" x="633" y="-754.57" font-family="Times,serif" font-size="14.00">not gonna kill me.</text>
</g>
<!-- PeasantC00a&#45;&gt;PeasantC03 -->
<g id="edge11" class="edge">
<title>PeasantC00a&#45;&gt;PeasantC03</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M633,-954.29C633,-939.14 633,-915.93 633,-892.23"/>
<polygon fill="#555555" stroke="#555555" points="636.5,-892.33 633,-882.33 629.5,-892.33 636.5,-892.33"/>
</g>
<!-- PeasantC02 -->
<g id="node14" class="node">
<title>PeasantC02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="894" cy="-802.37" rx="116.32" ry="66.64"/>
<text text-anchor="middle" x="894" y="-832.2" font-family="Times,serif" font-size="14.00">Well, you gotta be</text>
<text text-anchor="middle" x="894" y="-814.95" font-family="Times,serif" font-size="14.00">careful these days. I</text>
<text text-anchor="middle" x="894" y="-797.7" font-family="Times,serif" font-size="14.00">hope you&#39;re having a</text>
<text text-anchor="middle" x="894" y="-780.45" font-family="Times,serif" font-size="14.00">better life</text>
<text text-anchor="middle" x="894" y="-763.2" font-family="Times,serif" font-size="14.00"> than I am.</text>
</g>
<!-- PeasantC00a&#45;&gt;PeasantC02 -->
<g id="edge12" class="edge">
<title>PeasantC00a&#45;&gt;PeasantC02</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M642.89,-955.81C650.88,-944.1 663.06,-928.47 677,-918.22 712.17,-892.35 729.07,-900.98 768,-881.22 781.41,-874.41 795.27,-866.64 808.68,-858.72"/>
<polygon fill="#555555" stroke="#555555" points="810.09,-861.36 816.88,-853.22 806.5,-855.35 810.09,-861.36"/>
</g>
<!-- PeasantC03&#45;&gt;PeasantCEnd -->
<g id="edge15" class="edge">
<title>PeasantC03&#45;&gt;PeasantCEnd</title>
<path fill="none" stroke="#059900" d="M598.42,-726.39C588.93,-703.28 579.47,-677.47 573,-653.03 514.04,-430.49 531.72,-147.83 539.33,-59.04"/>
<polygon fill="#059900" stroke="#059900" points="542.89,-59.54 540.29,-49.27 535.92,-58.92 542.89,-59.54"/>
<text text-anchor="middle" x="572.38" y="-585.73" font-family="Times,serif" font-size="14.00" fill="#059900">No.</text>
</g>
<!-- PeasantC04 -->
<g id="node15" class="node">
<title>PeasantC04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="622" cy="-635.03" rx="40.16" ry="18"/>
<text text-anchor="middle" x="622" y="-630.36" font-family="Times,serif" font-size="14.00">Gack!</text>
</g>
<!-- PeasantC03&#45;&gt;PeasantC04 -->
<g id="edge13" class="edge">
<title>PeasantC03&#45;&gt;PeasantC04</title>
<path fill="none" stroke="#995500" d="M624.51,-723.22C624.02,-717.24 623.59,-711.29 623.25,-705.53 622.44,-691.97 622.1,-676.9 621.97,-664.27"/>
<polygon fill="#995500" stroke="#995500" points="625.47,-664.45 621.91,-654.47 618.47,-664.49 625.47,-664.45"/>
<text text-anchor="middle" x="697.88" y="-692.23" font-family="Times,serif" font-size="14.00" fill="#995500">No, I won&#39;t hurt you.</text>
<text text-anchor="middle" x="697.88" y="-674.98" font-family="Times,serif" font-size="14.00" fill="#995500">Much.</text>
</g>
<!-- PeasantC03a -->
<g id="node16" class="node">
<title>PeasantC03a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="793" cy="-635.03" rx="27" ry="18"/>
</g>
<!-- PeasantC03&#45;&gt;PeasantC03a -->
<g id="edge14" class="edge">
<title>PeasantC03&#45;&gt;PeasantC03a</title>
<path fill="none" stroke="#280099" d="M726.5,-749.14C743.08,-736.58 758.89,-721.97 771,-705.53 779.92,-693.43 785.3,-677.6 788.5,-664.11"/>
<polygon fill="#280099" stroke="#280099" points="792.1,-664.96 790.71,-654.46 785.25,-663.54 792.1,-664.96"/>
<text text-anchor="middle" x="862.5" y="-683.61" font-family="Times,serif" font-size="14.00" fill="#280099">Why do you say that?</text>
</g>
<!-- PeasantC06 -->
<g id="node17" class="node">
<title>PeasantC06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="719" cy="-338.57" rx="148.67" ry="225.21"/>
<text text-anchor="middle" x="719" y="-480.52" font-family="Times,serif" font-size="14.00">Those &#39;helpful&#39; healing</text>
<text text-anchor="middle" x="719" y="-463.27" font-family="Times,serif" font-size="14.00">guys wanted my friend&#39;s</text>
<text text-anchor="middle" x="719" y="-446.02" font-family="Times,serif" font-size="14.00">place, so they took it.</text>
<text text-anchor="middle" x="719" y="-428.77" font-family="Times,serif" font-size="14.00">I don&#39;t know what</text>
<text text-anchor="middle" x="719" y="-411.52" font-family="Times,serif" font-size="14.00">happened to my friends.</text>
<text text-anchor="middle" x="719" y="-394.27" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="719" y="-377.02" font-family="Times,serif" font-size="14.00">There&#39;s nobody around to</text>
<text text-anchor="middle" x="719" y="-359.77" font-family="Times,serif" font-size="14.00">help me.</text>
<text text-anchor="middle" x="719" y="-342.52" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="719" y="-325.27" font-family="Times,serif" font-size="14.00">Gizmo laughed at me when</text>
<text text-anchor="middle" x="719" y="-308.02" font-family="Times,serif" font-size="14.00">I asked for his help.</text>
<text text-anchor="middle" x="719" y="-290.77" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="719" y="-273.52" font-family="Times,serif" font-size="14.00">Killian is too busy</text>
<text text-anchor="middle" x="719" y="-256.27" font-family="Times,serif" font-size="14.00">cleaning up Gizmo&#39;s mess</text>
<text text-anchor="middle" x="719" y="-239.02" font-family="Times,serif" font-size="14.00">to help.</text>
<text text-anchor="middle" x="719" y="-221.77" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="719" y="-204.52" font-family="Times,serif" font-size="14.00">And Killian is too busy</text>
<text text-anchor="middle" x="719" y="-187.27" font-family="Times,serif" font-size="14.00">to help me.</text>
</g>
<!-- PeasantC03a&#45;&gt;PeasantC06 -->
<g id="edge16" class="edge">
<title>PeasantC03a&#45;&gt;PeasantC06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M788.7,-616.93C785.36,-603.61 780.3,-583.5 774.41,-560.06"/>
<polygon fill="#555555" stroke="#555555" points="777.57,-559.29 771.74,-550.44 770.79,-560.99 777.57,-559.29"/>
</g>
<!-- PeasantC05 -->
<g id="node18" class="node">
<title>PeasantC05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="987" cy="-338.57" rx="101.19" ry="18"/>
<text text-anchor="middle" x="987" y="-333.89" font-family="Times,serif" font-size="14.00">No reason. Really.</text>
</g>
<!-- PeasantC03a&#45;&gt;PeasantC05 -->
<g id="edge17" class="edge">
<title>PeasantC03a&#45;&gt;PeasantC05</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M812,-621.66C830.46,-608.9 858.34,-587.56 877,-563.78 926.46,-500.73 961.84,-411.84 977.69,-367.3"/>
<polygon fill="#555555" stroke="#555555" points="981.31,-368.56 981.3,-357.97 974.7,-366.26 981.31,-368.56"/>
</g>
<!-- PeasantC06&#45;&gt;PeasantCEnd -->
<g id="edge19" class="edge">
<title>PeasantC06&#45;&gt;PeasantCEnd</title>
<path fill="none" stroke="#005e99" d="M621.18,-168.17C595.91,-124.41 571.67,-82.43 556.81,-56.7"/>
<polygon fill="#005e99" stroke="#005e99" points="559.44,-55.26 551.41,-48.35 553.38,-58.76 559.44,-55.26"/>
<text text-anchor="middle" x="631.88" y="-82.05" font-family="Times,serif" font-size="14.00" fill="#005e99">That&#39;s a shame.</text>
</g>
<!-- PeasantC07 -->
<g id="node19" class="node">
<title>PeasantC07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="719" cy="-30.05" rx="126.4" ry="30.05"/>
<text text-anchor="middle" x="719" y="-34" font-family="Times,serif" font-size="14.00">I hope so, I really hope</text>
<text text-anchor="middle" x="719" y="-16.75" font-family="Times,serif" font-size="14.00">so.</text>
</g>
<!-- PeasantC06&#45;&gt;PeasantC07 -->
<g id="edge18" class="edge">
<title>PeasantC06&#45;&gt;PeasantC07</title>
<path fill="none" stroke="#990031" d="M719,-113.19C719,-97.7 719,-83.45 719,-71.32"/>
<polygon fill="#990031" stroke="#990031" points="722.5,-71.37 719,-61.37 715.5,-71.37 722.5,-71.37"/>
<text text-anchor="middle" x="767" y="-82.05" font-family="Times,serif" font-size="14.00" fill="#990031">Are you safe?</text>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 18) then begin\n  call destroy_p_proc;\nend\nelse begin\n  if (script_action == 15) then begin\n    call map_enter_p_proc;\n  end\n  else begin\n    if (script_action == 23) then begin\n      call map_update_p_proc;\n    end\n    else begin\n      if (script_action == 4) then begin\n        call pickup_p_proc;\n      end\n      else begin\n        if (script_action == 11) then begin\n          call talk_p_proc;\n        end\n      end\n    end\n  end\nend\n","damage_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(247, 1);\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(247, 1);\n  if (source_obj == dude_obj) then begin\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n      set_global_var(156, 1);\n      set_global_var(157, 0);\n    end\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n      set_global_var(157, 1);\n      set_global_var(156, 0);\n    end\n    set_global_var(159, global_var(159) + 1);\n    if ((global_var(159) % 2) == 0) then begin\n      set_global_var(155, global_var(155) - 1);\n    end\n  end\nend\n","map_enter_p_proc":"if (map_var(2) == 1) then begin\n  set_obj_visibility(self_obj, 1);\n  removal_ptr := self_obj;\nend\nelse begin\n  sleep_time := random(2215, 2230);\n  wake_time := random(715, 730);\n  if ((game_time / (10 * 60 * 60 * 24)) < 80) then begin\n    sleep_tile := 15275;\n    home_tile := 14267;\n  end\n  else begin\n    sleep_tile := 23524;\n    home_tile := 23923;\n  end\nend\n","map_update_p_proc":"call sleeping;\n","pickup_p_proc":"set_local_var(1, 1);\nfloat_msg(self_obj, message_str(438, 124), 2);\n","talk_p_proc":"if (local_var(2) == 1) then begin\n  float_msg(self_obj, message_str(185, 166), 0);\nend\nelse begin\n  if (local_var(1) == 1) then begin\n    float_msg(self_obj, message_str(438, 124), 2);\n  end\n  else begin\n    if ((game_time / (10 * 60 * 60 * 24)) < 80) then begin\n      set_local_var(0, 1);\n      if (global_var(247) == 1) then begin\n        float_msg(self_obj, message_str(438, 100), 2);\n      end\n      else begin\n        if (global_var(155) < -10) then begin\n          float_msg(self_obj, message_str(438, 101), 7);\n        end\n        else begin\n          if (get_critter_stat(dude_obj, 34) == 0) then begin\n            float_msg(self_obj, message_str(438, random(102, 103)), 3);\n          end\n          else begin\n            float_msg(self_obj, message_str(438, random(102, 104)), 3);\n          end\n        end\n      end\n    end\n    else begin\n      set_map_var(2, 1);\n      start_gdialog(438, self_obj, 4, -1, -1);\n      gsay_start;\n      call PeasantC00;\n      gsay_end;\n      end_dialogue;\n    end\n  end\nend\n","PeasantC00":"gsay_reply(438, 105);\ngiq_option(4, 438, 106, PeasantCEnd, 50);\ngiq_option(5, 438, 107, PeasantC00a, 50);\ngiq_option(-3, 438, 108, PeasantC01, 50);\n","PeasantC00a":"if (is_success(roll_vs_skill(dude_obj, 14, 0))) then begin\n  call PeasantC03;\nend\nelse begin\n  call PeasantC02;\nend\n","PeasantC01":"gsay_message(438, 109, 50);\n","PeasantC02":"gsay_message(438, 110, 50);\n","PeasantC03":"gsay_reply(438, 111);\ngiq_option(5, 438, 112, PeasantC04, 51);\ngiq_option(6, 438, 113, PeasantC03a, 50);\ngiq_option(4, 438, 106, PeasantCEnd, 50);\n","PeasantC03a":"if (is_success(roll_vs_skill(dude_obj, 14, -10))) then begin\n  call PeasantC06;\nend\nelse begin\n  call PeasantC05;\nend\n","PeasantC04":"set_local_var(1, 1);\ngsay_message(438, 114, 51);\n","PeasantC05":"gsay_message(438, 115, 50);\n","PeasantC06":"variable LVar0 := 0;\nLVar0 := message_str(438, 116);\nif (global_var(37) == 1) then begin\n  if (global_var(38) == 1) then begin\n    LVar0 := LVar0 + message_str(438, 120);\n  end\n  else begin\n    LVar0 := LVar0 + message_str(438, 119);\n  end\nend\nelse begin\n  if (global_var(38) == 1) then begin\n    LVar0 := LVar0 + message_str(438, 118);\n  end\n  else begin\n    LVar0 := LVar0 + message_str(438, 117);\n  end\nend\ngsay_reply(438, LVar0);\ngiq_option(5, 438, 121, PeasantC07, 50);\ngiq_option(5, 438, 122, PeasantCEnd, 50);\n","PeasantC07":"gsay_message(438, 123, 50);\n","PeasantCEnd":"[]","sleeping":"if (local_var(2) == 1) then begin\n  if (not(night_person) and (game_time_hour >= wake_time) and (game_time_hour < sleep_time) or (night_person and ((game_time_hour >= wake_time) or (game_time_hour < sleep_time)))) then begin\n    if (((game_time_hour - wake_time) < 10) and ((game_time_hour - wake_time) > 0)) then begin\n      if (tile_num(self_obj) != home_tile) then begin\n        animate_move_obj_to_tile(self_obj, home_tile, 0);\n      end\n      else begin\n        set_local_var(2, 0);\n      end\n    end\n    else begin\n      move_to(self_obj, home_tile, elevation(self_obj));\n      if (tile_num(self_obj) == home_tile) then begin\n        set_local_var(2, 0);\n      end\n    end\n  end\nend\nelse begin\n  if (night_person and (game_time_hour >= sleep_time) and (game_time_hour < wake_time) or (not(night_person) and ((game_time_hour >= sleep_time) or (game_time_hour < wake_time)))) then begin\n    if (((game_time_hour - sleep_time) < 10) and ((game_time_hour - sleep_time) > 0)) then begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        animate_move_obj_to_tile(self_obj, self_obj, 0);\n      end\n      else begin\n        set_local_var(2, 1);\n      end\n    end\n    else begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        move_to(self_obj, sleep_tile, elevation(self_obj));\n      end\n      else begin\n        set_local_var(2, 1);\n      end\n    end\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(name, code, x, y) {
    $('#thecode').show();
    $('#thecode').text("# " + name + "\n" + code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(nodeName, Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>