<!DOCTYPE html><html><head><title>ALEX</title><meta charset="utf-8" /></head><body><svg width="1028pt" height="695pt"
 viewBox="0.00 0.00 1027.83 694.58" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 690.58)">
<title>ALEX</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-690.58 1023.83,-690.58 1023.83,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="338.58" cy="-668.58" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="179.58" cy="-583.53" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;critter_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;critter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M315,-659.37C289.55,-650.02 248.26,-633.45 215.58,-613.58 211.56,-611.14 207.5,-608.29 203.63,-605.36"/>
<polygon fill="#555555" stroke="#555555" points="206.03,-602 196.03,-598.5 201.66,-607.47 206.03,-602"/>
</g>
<!-- destroy_p_proc -->
<g id="node3" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="251.58" cy="-583.53" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge2" class="edge">
<title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M323.82,-653.49C310.28,-640.56 290.01,-621.22 274.39,-606.3"/>
<polygon fill="#555555" stroke="#555555" points="277.35,-604.34 267.7,-599.96 272.52,-609.4 277.35,-604.34"/>
</g>
<!-- look_at_p_proc -->
<g id="node4" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="426.58" cy="-583.53" rx="130.11" ry="30.05"/>
<text text-anchor="middle" x="426.58" y="-587.48" font-family="Times,serif" font-size="14.00">You see: Alex, the night</text>
<text text-anchor="middle" x="426.58" y="-570.23" font-family="Times,serif" font-size="14.00">watch Regulator.</text>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge3" class="edge">
<title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M353.51,-653.49C363.08,-644.45 375.98,-632.28 388.27,-620.68"/>
<polygon fill="#555555" stroke="#555555" points="390.35,-623.58 395.22,-614.17 385.55,-618.49 390.35,-623.58"/>
</g>
<!-- talk_p_proc -->
<g id="node5" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="648.58" cy="-583.53" rx="73.83" ry="18"/>
<text text-anchor="middle" x="648.58" y="-578.85" font-family="Times,serif" font-size="14.00">Come on in, </text>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge4" class="edge">
<title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M364.34,-662.36C406.67,-653.57 493.47,-634.71 565.58,-613.58 576.57,-610.36 588.25,-606.53 599.26,-602.72"/>
<polygon fill="#555555" stroke="#555555" points="600.3,-605.72 608.58,-599.11 597.99,-599.11 600.3,-605.72"/>
</g>
<!-- sleeping -->
<g id="node6" class="node">
<title>sleeping</title>
<ellipse fill="#ffffff" stroke="#000000" cx="179.58" cy="-474.22" rx="27" ry="18"/>
</g>
<!-- critter_p_proc&#45;&gt;sleeping -->
<g id="edge5" class="edge">
<title>critter_p_proc&#45;&gt;sleeping</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M179.58,-565.29C179.58,-548.55 179.58,-522.86 179.58,-503.19"/>
<polygon fill="#555555" stroke="#555555" points="183.08,-503.42 179.58,-493.42 176.08,-503.42 183.08,-503.42"/>
</g>
<!-- Alex01 -->
<g id="node7" class="node">
<title>Alex01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="776.58" cy="-474.22" rx="114.73" ry="42.25"/>
<text text-anchor="middle" x="776.58" y="-486.8" font-family="Times,serif" font-size="14.00">Sorry, I can&#39;t let you</text>
<text text-anchor="middle" x="776.58" y="-469.55" font-family="Times,serif" font-size="14.00">in. Come back in the</text>
<text text-anchor="middle" x="776.58" y="-452.3" font-family="Times,serif" font-size="14.00">morning.</text>
</g>
<!-- talk_p_proc&#45;&gt;Alex01 -->
<g id="edge6" class="edge">
<title>talk_p_proc&#45;&gt;Alex01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M668.58,-565.76C683.09,-553.59 703.46,-536.52 722.6,-520.47"/>
<polygon fill="#555555" stroke="#555555" points="724.58,-522.54 730,-513.43 720.09,-517.17 724.58,-522.54"/>
</g>
<!-- Alex02 -->
<g id="node8" class="node">
<title>Alex02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="519.58" cy="-474.22" rx="123.81" ry="18"/>
<text text-anchor="middle" x="519.58" y="-469.55" font-family="Times,serif" font-size="14.00">Halt! Who goes there?</text>
</g>
<!-- talk_p_proc&#45;&gt;Alex02 -->
<g id="edge7" class="edge">
<title>talk_p_proc&#45;&gt;Alex02</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M628.42,-565.76C606.87,-547.83 572.51,-519.26 548.17,-499.01"/>
<polygon fill="#555555" stroke="#555555" points="550.94,-495.93 541.02,-492.23 546.47,-501.31 550.94,-495.93"/>
</g>
<!-- Alex03 -->
<g id="node9" class="node">
<title>Alex03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="284.58" cy="-270.43" rx="139.12" ry="54.45"/>
<text text-anchor="middle" x="284.58" y="-291.63" font-family="Times,serif" font-size="14.00">No strangers are allowed</text>
<text text-anchor="middle" x="284.58" y="-274.38" font-family="Times,serif" font-size="14.00">within the walls of</text>
<text text-anchor="middle" x="284.58" y="-257.13" font-family="Times,serif" font-size="14.00">Adytum, by order of the</text>
<text text-anchor="middle" x="284.58" y="-239.88" font-family="Times,serif" font-size="14.00">mayor.</text>
</g>
<!-- Alex02&#45;&gt;Alex03 -->
<g id="edge8" class="edge">
<title>Alex02&#45;&gt;Alex03</title>
<path fill="none" stroke="#008599" d="M431.58,-461.2C375.36,-451.57 309.76,-435.99 291.83,-413.97 274.36,-392.53 270.75,-362.69 272.23,-335.85"/>
<polygon fill="#008599" stroke="#008599" points="275.79,-336.2 273.11,-325.95 268.81,-335.64 275.79,-336.2"/>
<text text-anchor="middle" x="369.45" y="-400.67" font-family="Times,serif" font-size="14.00" fill="#008599">I&#39;m just a traveler. I&#39;d</text>
<text text-anchor="middle" x="369.45" y="-383.42" font-family="Times,serif" font-size="14.00" fill="#008599">like to come inside.</text>
</g>
<!-- Alex05 -->
<g id="node10" class="node">
<title>Alex05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="667.58" cy="-270.43" rx="137" ry="91.04"/>
<text text-anchor="middle" x="667.58" y="-317.51" font-family="Times,serif" font-size="14.00">Look, it is my duty and</text>
<text text-anchor="middle" x="667.58" y="-300.26" font-family="Times,serif" font-size="14.00">my honor to serve as the</text>
<text text-anchor="middle" x="667.58" y="-283.01" font-family="Times,serif" font-size="14.00">night watch for Adytum,</text>
<text text-anchor="middle" x="667.58" y="-265.76" font-family="Times,serif" font-size="14.00">so it is my business.</text>
<text text-anchor="middle" x="667.58" y="-248.51" font-family="Times,serif" font-size="14.00">You turn around and</text>
<text text-anchor="middle" x="667.58" y="-231.26" font-family="Times,serif" font-size="14.00">leave, or I&#39;ll have to</text>
<text text-anchor="middle" x="667.58" y="-214.01" font-family="Times,serif" font-size="14.00">get serious.</text>
</g>
<!-- Alex02&#45;&gt;Alex05 -->
<g id="edge9" class="edge">
<title>Alex02&#45;&gt;Alex05</title>
<path fill="none" stroke="#998000" d="M532.2,-456.02C547.79,-434.75 575.5,-396.97 601.81,-361.1"/>
<polygon fill="#998000" stroke="#998000" points="605.01,-363.66 608.1,-353.52 599.37,-359.52 605.01,-363.66"/>
<text text-anchor="middle" x="666.33" y="-392.05" font-family="Times,serif" font-size="14.00" fill="#998000">None of your business.</text>
</g>
<!-- Alex06 -->
<g id="node11" class="node">
<title>Alex06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="431.58" cy="-54.45" rx="126.93" ry="30.05"/>
<text text-anchor="middle" x="431.58" y="-58.4" font-family="Times,serif" font-size="14.00">Try coming back in the</text>
<text text-anchor="middle" x="431.58" y="-41.15" font-family="Times,serif" font-size="14.00">morning.</text>
</g>
<!-- Alex02&#45;&gt;Alex06 -->
<g id="edge10" class="edge">
<title>Alex02&#45;&gt;Alex06</title>
<path fill="none" stroke="#530099" d="M566.58,-457.1C591.86,-448.82 623.69,-439.03 652.58,-431.97 696.45,-421.27 711.8,-433.39 752.58,-413.97 784.87,-398.6 796.52,-392.91 813.58,-361.47 863.63,-269.23 912.3,-203.5 840.58,-126.89 819.8,-104.7 597.24,-115.53 567.58,-108.89 544.07,-103.63 519.29,-94.92 497.41,-86.04"/>
<polygon fill="#530099" stroke="#530099" points="498.83,-82.43 488.25,-81.82 496.15,-88.89 498.83,-82.43"/>
<text text-anchor="middle" x="948.2" y="-265.76" font-family="Times,serif" font-size="14.00" fill="#530099">Um, sorry. I&#39;ll leave.</text>
</g>
<!-- Alex02&#45;&gt;Alex06 -->
<g id="edge11" class="edge">
<title>Alex02&#45;&gt;Alex06</title>
<path fill="none" stroke="#009927" d="M509.69,-456.08C497.87,-434.69 478.51,-396.64 469.08,-361.47 441.92,-260.27 460.89,-230.55 445.58,-126.89 444.07,-116.7 442.11,-105.76 440.12,-95.57"/>
<polygon fill="#009927" stroke="#009927" points="443.38,-95.01 437.99,-85.89 436.52,-96.38 443.38,-95.01"/>
<text text-anchor="middle" x="494.83" y="-265.76" font-family="Times,serif" font-size="14.00" fill="#009927">Nghgh.</text>
</g>
<!-- Alex03&#45;&gt;Alex06 -->
<g id="edge13" class="edge">
<title>Alex03&#45;&gt;Alex06</title>
<path fill="none" stroke="#003299" d="M280.04,-215.6C280.25,-187.02 284.93,-152.61 302.33,-126.89 314.37,-109.09 332.39,-95.29 351.18,-84.77"/>
<polygon fill="#003299" stroke="#003299" points="352.53,-87.48 359.74,-79.72 349.26,-81.29 352.53,-87.48"/>
<text text-anchor="middle" x="374.2" y="-139.47" font-family="Times,serif" font-size="14.00" fill="#003299">Um, sorry. I&#39;ll leave.</text>
</g>
<!-- Alex04 -->
<g id="node12" class="node">
<title>Alex04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="129.58" cy="-54.45" rx="129.58" ry="54.45"/>
<text text-anchor="middle" x="129.58" y="-75.65" font-family="Times,serif" font-size="14.00">I&#39;m sorry, but I can&#39;t</text>
<text text-anchor="middle" x="129.58" y="-58.4" font-family="Times,serif" font-size="14.00">let you in. Turn around</text>
<text text-anchor="middle" x="129.58" y="-41.15" font-family="Times,serif" font-size="14.00">and leave or I&#39;ll have to</text>
<text text-anchor="middle" x="129.58" y="-23.9" font-family="Times,serif" font-size="14.00"> shoot.</text>
</g>
<!-- Alex03&#45;&gt;Alex04 -->
<g id="edge12" class="edge">
<title>Alex03&#45;&gt;Alex04</title>
<path fill="none" stroke="#990006" d="M199.39,-226.91C174.44,-210.06 149.95,-188.21 135.33,-161.39 128.51,-148.89 125.29,-134.28 124.11,-119.98"/>
<polygon fill="#990006" stroke="#990006" points="127.56,-119.95 123.58,-110.13 120.57,-120.29 127.56,-119.95"/>
<text text-anchor="middle" x="210.2" y="-148.09" font-family="Times,serif" font-size="14.00" fill="#990006">I just need a place to</text>
<text text-anchor="middle" x="210.2" y="-130.84" font-family="Times,serif" font-size="14.00" fill="#990006">sleep for the night.</text>
</g>
<!-- Alex05&#45;&gt;Alex06 -->
<g id="edge14" class="edge">
<title>Alex05&#45;&gt;Alex06</title>
<path fill="none" stroke="#5f9900" d="M579.98,-200.17C564.84,-187.55 549.44,-174.29 535.33,-161.39 511.06,-139.22 485.19,-112.81 465.35,-91.9"/>
<polygon fill="#5f9900" stroke="#5f9900" points="468.47,-90.05 459.06,-85.18 463.38,-94.85 468.47,-90.05"/>
<text text-anchor="middle" x="606.2" y="-139.47" font-family="Times,serif" font-size="14.00" fill="#5f9900">Um, sorry. I&#39;ll leave.</text>
</g>
<!-- Alex07 -->
<g id="node13" class="node">
<title>Alex07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="696.58" cy="-54.45" rx="120.03" ry="30.05"/>
<text text-anchor="middle" x="696.58" y="-58.4" font-family="Times,serif" font-size="14.00">Oh, that&#39;s it. Now the</text>
<text text-anchor="middle" x="696.58" y="-41.15" font-family="Times,serif" font-size="14.00">gloves are off!</text>
</g>
<!-- Alex05&#45;&gt;Alex07 -->
<g id="edge15" class="edge">
<title>Alex05&#45;&gt;Alex07</title>
<path fill="none" stroke="#99008c" d="M679.79,-179.3C683.75,-150.12 687.94,-119.21 691.14,-95.58"/>
<polygon fill="#99008c" stroke="#99008c" points="694.71,-96.31 692.58,-85.93 687.77,-95.37 694.71,-96.31"/>
<text text-anchor="middle" x="771.45" y="-148.09" font-family="Times,serif" font-size="14.00" fill="#99008c">Get out of my face, John</text>
<text text-anchor="middle" x="771.45" y="-130.84" font-family="Times,serif" font-size="14.00" fill="#99008c">Law.</text>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (not(initialized)) then begin\n  critter_add_trait(self_obj, 1, 6, 49);\n  sleep_tile := 14275;\n  home_tile := 11300;\n  wake_time := 2030;\n  sleep_time := 730;\n  night_person := 1;\n  if (obj_is_carrying_obj_pid(self_obj, 41) == 0) then begin\n    item_caps_adjust(self_obj, random(0, 20));\n  end\n  initialized := 1;\nend\nelse begin\n  if (script_action == 12) then begin\n    call critter_p_proc;\n  end\n  else begin\n    if (script_action == 18) then begin\n      call destroy_p_proc;\n    end\n    else begin\n      if (script_action == 21) then begin\n        call look_at_p_proc;\n      end\n      else begin\n        if (script_action == 11) then begin\n          call talk_p_proc;\n        end\n      end\n    end\n  end\nend\n","critter_p_proc":"if (obj_can_see_obj(self_obj, dude_obj)) then begin\n  if (hostile) then begin\n    hostile := 0;\n    attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n  end\n  else begin\n    if (local_var(0) == 0) then begin\n      if (tile_distance_objs(self_obj, dude_obj) < 12) then begin\n        dialogue_system_enter;\n      end\n    end\n    if (tile_distance(tile_num(dude_obj), 10700) > tile_distance(tile_num(dude_obj), 11900)) then begin\n      if (global_var(128) < 2) then begin\n        hostile := 1;\n      end\n    end\n  end\nend\nelse begin\n  call sleeping;\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(159, global_var(159) + 1);\n  if ((global_var(159) % 2) == 0) then begin\n    set_global_var(155, global_var(155) - 1);\n  end\nend\n","look_at_p_proc":"if (local_var(0)) then begin\n  script_overrides;\n  display_msg(message_str(670, 100));\nend\n","talk_p_proc":"if (global_var(128) == 2) then begin\n  float_msg(self_obj, message_str(670, 101) + proto_data(obj_pid(dude_obj), 1), 0);\nend\nelse begin\n  if (local_var(0)) then begin\n    call Alex01;\n  end\n  else begin\n    start_gdialog(670, self_obj, 4, -1, -1);\n    gsay_start;\n    call Alex02;\n    gsay_end;\n    end_dialogue;\n  end\nend\n","Alex01":"float_msg(self_obj, message_str(670, 102), 0);\n","Alex02":"set_local_var(0, 1);\ngsay_reply(670, 103);\ngiq_option(4, 670, 104, Alex03, 50);\ngiq_option(4, 670, 105, Alex05, 51);\ngiq_option(4, 670, 106, Alex06, 50);\ngiq_option(-3, 670, 114, Alex06, 50);\n","Alex03":"gsay_reply(670, 107);\ngiq_option(4, 670, 108, Alex04, 50);\ngiq_option(4, 670, 106, Alex06, 50);\n","Alex04":"gsay_message(670, 109, 50);\n","Alex05":"gsay_reply(670, 110);\ngiq_option(4, 670, 106, Alex06, 50);\ngiq_option(4, 670, 111, Alex07, 50);\n","Alex06":"gsay_message(670, 112, 50);\n","Alex07":"hostile := 1;\ngsay_message(670, 113, 51);\n","sleeping":"if (local_var(1) == 1) then begin\n  if (not(night_person) and (game_time_hour >= wake_time) and (game_time_hour < sleep_time) or (night_person and ((game_time_hour >= wake_time) or (game_time_hour < sleep_time)))) then begin\n    if (((game_time_hour - wake_time) < 10) and ((game_time_hour - wake_time) > 0)) then begin\n      if (tile_num(self_obj) != home_tile) then begin\n        animate_move_obj_to_tile(self_obj, home_tile, 0);\n      end\n      else begin\n        set_local_var(1, 0);\n      end\n    end\n    else begin\n      move_to(self_obj, home_tile, elevation(self_obj));\n      if (tile_num(self_obj) == home_tile) then begin\n        set_local_var(1, 0);\n      end\n    end\n  end\nend\nelse begin\n  if (night_person and (game_time_hour >= sleep_time) and (game_time_hour < wake_time) or (not(night_person) and ((game_time_hour >= sleep_time) or (game_time_hour < wake_time)))) then begin\n    if (((game_time_hour - sleep_time) < 10) and ((game_time_hour - sleep_time) > 0)) then begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        animate_move_obj_to_tile(self_obj, self_obj, 0);\n      end\n      else begin\n        set_local_var(1, 1);\n      end\n    end\n    else begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        move_to(self_obj, sleep_tile, elevation(self_obj));\n      end\n      else begin\n        set_local_var(1, 1);\n      end\n    end\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>