<!DOCTYPE html><html><head><title>thsupmut</title><meta charset="utf-8" /></head><body><svg width="1441pt" height="1058pt"
 viewBox="0.00 0.00 1440.82 1057.58" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1053.58)">
<title>thsupmut</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1053.58 1436.82,-1053.58 1436.82,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="200.91" cy="-1031.58" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="92.91" cy="-958.58" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;critter_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;critter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M182.1,-1018.21C165.06,-1007.01 139.75,-990.37 120.44,-977.68"/>
<polygon fill="#555555" stroke="#555555" points="122.79,-974.37 112.51,-971.8 118.94,-980.22 122.79,-974.37"/>
</g>
<!-- look_at_p_proc -->
<g id="node3" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="164.91" cy="-958.58" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge2" class="edge">
<title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M192.56,-1014.11C188.29,-1005.68 182.99,-995.23 178.18,-985.74"/>
<polygon fill="#555555" stroke="#555555" points="180.86,-984.29 173.22,-976.95 174.62,-987.46 180.86,-984.29"/>
</g>
<!-- pickup_p_proc -->
<g id="node4" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="236.91" cy="-958.58" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;pickup_p_proc -->
<g id="edge3" class="edge">
<title>start&#45;&gt;pickup_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M209.26,-1014.11C213.53,-1005.68 218.83,-995.23 223.65,-985.74"/>
<polygon fill="#555555" stroke="#555555" points="227.21,-987.46 228.61,-976.95 220.96,-984.29 227.21,-987.46"/>
</g>
<!-- talk_p_proc -->
<g id="node5" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="308.91" cy="-958.58" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge4" class="edge">
<title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M219.72,-1018.21C236.76,-1007.01 262.07,-990.37 281.38,-977.68"/>
<polygon fill="#555555" stroke="#555555" points="282.88,-980.22 289.32,-971.8 279.04,-974.37 282.88,-980.22"/>
</g>
<!-- goto7 -->
<g id="node7" class="node">
<title>goto7</title>
<ellipse fill="#ffffff" stroke="#000000" cx="152.91" cy="-771.02" rx="152.91" ry="30.05"/>
<text text-anchor="middle" x="152.91" y="-774.97" font-family="Times,serif" font-size="14.00">И снова добро пожаловать.</text>
<text text-anchor="middle" x="152.91" y="-757.72" font-family="Times,serif" font-size="14.00">Теперь ты нам поможешь.</text>
</g>
<!-- talk_p_proc&#45;&gt;goto7 -->
<g id="edge5" class="edge">
<title>talk_p_proc&#45;&gt;goto7</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M296.15,-942.39C271.89,-913.54 218.52,-850.06 184.22,-809.26"/>
<polygon fill="#555555" stroke="#555555" points="186.32,-807.32 177.2,-801.92 180.96,-811.82 186.32,-807.32"/>
</g>
<!-- goto0 -->
<g id="node8" class="node">
<title>goto0</title>
<ellipse fill="#ffffff" stroke="#000000" cx="454.91" cy="-861.33" rx="151.85" ry="42.25"/>
<text text-anchor="middle" x="454.91" y="-873.9" font-family="Times,serif" font-size="14.00">Приветствую, о затычка</text>
<text text-anchor="middle" x="454.91" y="-856.65" font-family="Times,serif" font-size="14.00">наша. Ты как раз вовремя,</text>
<text text-anchor="middle" x="454.91" y="-839.4" font-family="Times,serif" font-size="14.00">чтобы нам помочь.</text>
</g>
<!-- talk_p_proc&#45;&gt;goto0 -->
<g id="edge6" class="edge">
<title>talk_p_proc&#45;&gt;goto0</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M327.7,-945.32C342.93,-935.38 365.37,-920.74 387.18,-906.51"/>
<polygon fill="#555555" stroke="#555555" points="388.68,-909.06 395.14,-900.67 384.86,-903.2 388.68,-909.06"/>
</g>
<!-- destroy_p_proc -->
<g id="node6" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="272.91" cy="-1031.58" rx="27" ry="18"/>
</g>
<!-- combat -->
<g id="node10" class="node">
<title>combat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="605.91" cy="-18" rx="27" ry="18"/>
</g>
<!-- goto7&#45;&gt;combat -->
<g id="edge21" class="edge">
<title>goto7&#45;&gt;combat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M145.42,-740.83C136.53,-703.59 122.91,-637.07 122.91,-579.22 122.91,-579.22 122.91,-579.22 122.91,-172.14 122.91,-78.81 454.81,-34.98 568.35,-22.72"/>
<polygon fill="#555555" stroke="#555555" points="568.68,-26.1 578.26,-21.56 567.94,-19.13 568.68,-26.1"/>
</g>
<!-- goto1 -->
<g id="node9" class="node">
<title>goto1</title>
<ellipse fill="#ffffff" stroke="#000000" cx="288.91" cy="-578.22" rx="150.79" ry="42.25"/>
<text text-anchor="middle" x="288.91" y="-590.8" font-family="Times,serif" font-size="14.00">Это неважно, тупица. Иди</text>
<text text-anchor="middle" x="288.91" y="-573.55" font-family="Times,serif" font-size="14.00">за мной, я приставлю тебя</text>
<text text-anchor="middle" x="288.91" y="-556.3" font-family="Times,serif" font-size="14.00">к работе.</text>
</g>
<!-- goto0&#45;&gt;goto1 -->
<g id="edge7" class="edge">
<title>goto0&#45;&gt;goto1</title>
<path fill="none" stroke="#001499" d="M430.6,-819.15C400.86,-768.8 350.56,-683.61 318.58,-629.46"/>
<polygon fill="#001499" stroke="#001499" points="321.12,-627.88 313.02,-621.05 315.09,-631.44 321.12,-627.88"/>
<text text-anchor="middle" x="427.91" y="-766.35" font-family="Times,serif" font-size="14.00" fill="#001499">А?</text>
</g>
<!-- goto0&#45;&gt;combat -->
<g id="edge8" class="edge">
<title>goto0&#45;&gt;combat</title>
<path fill="none" stroke="#419900" d="M461.61,-818.82C470.01,-755.3 479.11,-631.33 440.91,-535.97 436.96,-526.11 428.9,-527.92 425.16,-517.97 400.51,-452.37 420.49,-430.22 425.16,-360.29 428.22,-314.43 422.32,-300.65 438.91,-257.79 473.28,-169 547.36,-81.71 584.2,-41.7"/>
<polygon fill="#419900" stroke="#419900" points="586.42,-44.37 590.68,-34.67 581.3,-39.6 586.42,-44.37"/>
<text text-anchor="middle" x="510.79" y="-434.46" font-family="Times,serif" font-size="14.00" fill="#419900">Конечно. Не проблема.</text>
</g>
<!-- goto2 -->
<g id="node11" class="node">
<title>goto2</title>
<ellipse fill="#ffffff" stroke="#000000" cx="559.91" cy="-300.04" rx="119.5" ry="42.25"/>
<text text-anchor="middle" x="559.91" y="-312.61" font-family="Times,serif" font-size="14.00">Это не просьба. Твое</text>
<text text-anchor="middle" x="559.91" y="-295.36" font-family="Times,serif" font-size="14.00">желание не имеет</text>
<text text-anchor="middle" x="559.91" y="-278.11" font-family="Times,serif" font-size="14.00">значения.</text>
</g>
<!-- goto0&#45;&gt;goto2 -->
<g id="edge9" class="edge">
<title>goto0&#45;&gt;goto2</title>
<path fill="none" stroke="#99006d" d="M478.99,-819.15C514.03,-756.6 577.47,-632.72 600.91,-517.97 614.94,-449.31 621.8,-427.19 600.91,-360.29 599.92,-357.11 598.69,-353.95 597.28,-350.84"/>
<polygon fill="#99006d" stroke="#99006d" points="599.96,-349.39 592.26,-342.11 593.74,-352.6 599.96,-349.39"/>
<text text-anchor="middle" x="634.91" y="-676.05" font-family="Times,serif" font-size="14.00" fill="#99006d">Прости. Много дел.</text>
</g>
<!-- goto3 -->
<g id="node12" class="node">
<title>goto3</title>
<ellipse fill="#ffffff" stroke="#000000" cx="911.91" cy="-680.72" rx="124.8" ry="42.25"/>
<text text-anchor="middle" x="911.91" y="-693.3" font-family="Times,serif" font-size="14.00">Разве ты не тот, кто</text>
<text text-anchor="middle" x="911.91" y="-676.05" font-family="Times,serif" font-size="14.00">хочет принести мир в</text>
<text text-anchor="middle" x="911.91" y="-658.8" font-family="Times,serif" font-size="14.00">пустоши?</text>
</g>
<!-- goto0&#45;&gt;goto3 -->
<g id="edge10" class="edge">
<title>goto0&#45;&gt;goto3</title>
<path fill="none" stroke="#009998" d="M556.78,-829.54C583.67,-820.86 612.55,-811.06 638.91,-801.08 704.04,-776.43 776.16,-744.7 829.92,-720.15"/>
<polygon fill="#009998" stroke="#009998" points="831.1,-723 838.73,-715.65 828.18,-716.63 831.1,-723"/>
<text text-anchor="middle" x="869.41" y="-774.97" font-family="Times,serif" font-size="14.00" fill="#009998">А с чего бы это мне вам</text>
<text text-anchor="middle" x="869.41" y="-757.72" font-family="Times,serif" font-size="14.00" fill="#009998">помогать?</text>
</g>
<!-- goto1&#45;&gt;combat -->
<g id="edge11" class="edge">
<title>goto1&#45;&gt;combat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M284.75,-535.63C277.34,-436.37 273.79,-184.24 410.91,-54 433,-33.02 517.85,-24.32 568.06,-20.95"/>
<polygon fill="#555555" stroke="#555555" points="568.05,-24.39 577.81,-20.27 567.61,-17.41 568.05,-24.39"/>
</g>
<!-- goto2&#45;&gt;combat -->
<g id="edge12" class="edge">
<title>goto2&#45;&gt;combat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M561.89,-257.61C565.02,-208.34 572.86,-123.96 591.91,-54 592.68,-51.2 593.6,-48.31 594.59,-45.46"/>
<polygon fill="#555555" stroke="#555555" points="598.11,-47.06 598.42,-36.47 591.58,-44.55 598.11,-47.06"/>
</g>
<!-- goto4 -->
<g id="node13" class="node">
<title>goto4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="867.91" cy="-439.13" rx="149.73" ry="78.84"/>
<text text-anchor="middle" x="867.91" y="-477.58" font-family="Times,serif" font-size="14.00">Мы полагаем, что если бы</text>
<text text-anchor="middle" x="867.91" y="-460.33" font-family="Times,serif" font-size="14.00">все, мутанты и люди,</text>
<text text-anchor="middle" x="867.91" y="-443.08" font-family="Times,serif" font-size="14.00">смогли бы научиться</text>
<text text-anchor="middle" x="867.91" y="-425.83" font-family="Times,serif" font-size="14.00">работать вместе, это</text>
<text text-anchor="middle" x="867.91" y="-408.58" font-family="Times,serif" font-size="14.00">помогло бы решить</text>
<text text-anchor="middle" x="867.91" y="-391.33" font-family="Times,serif" font-size="14.00">множество проблем.</text>
</g>
<!-- goto3&#45;&gt;goto4 -->
<g id="edge13" class="edge">
<title>goto3&#45;&gt;goto4</title>
<path fill="none" stroke="#996b00" d="M904.3,-638.26C898.74,-608.02 891.01,-565.93 884.11,-528.31"/>
<polygon fill="#996b00" stroke="#996b00" points="887.43,-528.04 882.18,-518.83 880.55,-529.3 887.43,-528.04"/>
<text text-anchor="middle" x="1000.79" y="-590.8" font-family="Times,serif" font-size="14.00" fill="#996b00">Да, только я не понимаю,</text>
<text text-anchor="middle" x="1000.79" y="-573.55" font-family="Times,serif" font-size="14.00" fill="#996b00">как это связано с помощью</text>
<text text-anchor="middle" x="1000.79" y="-556.3" font-family="Times,serif" font-size="14.00" fill="#996b00">вам.</text>
</g>
<!-- goto6 -->
<g id="node14" class="node">
<title>goto6</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1279.91" cy="-300.04" rx="152.91" ry="42.25"/>
<text text-anchor="middle" x="1279.91" y="-312.61" font-family="Times,serif" font-size="14.00">Если таково твое желание,</text>
<text text-anchor="middle" x="1279.91" y="-295.36" font-family="Times,serif" font-size="14.00">то мы тебе в этом</text>
<text text-anchor="middle" x="1279.91" y="-278.11" font-family="Times,serif" font-size="14.00">поспособствуем.</text>
</g>
<!-- goto3&#45;&gt;goto6 -->
<g id="edge14" class="edge">
<title>goto3&#45;&gt;goto6</title>
<path fill="none" stroke="#3f0099" d="M1023.64,-661.44C1052.68,-652.66 1082.37,-639.67 1105.91,-620.47 1192.72,-549.67 1242.77,-423.61 1265.32,-352.87"/>
<polygon fill="#3f0099" stroke="#3f0099" points="1268.95,-354.01 1268.58,-343.43 1262.26,-351.93 1268.95,-354.01"/>
<text text-anchor="middle" x="1275.16" y="-582.17" font-family="Times,serif" font-size="14.00" fill="#3f0099">Нет. Мне больше по душе</text>
<text text-anchor="middle" x="1275.16" y="-564.92" font-family="Times,serif" font-size="14.00" fill="#3f0099">всеобщее разрушение.</text>
</g>
<!-- goto4&#45;&gt;combat -->
<g id="edge15" class="edge">
<title>goto4&#45;&gt;combat</title>
<path fill="none" stroke="#009912" d="M808.97,-366.67C774.97,-329.52 729.41,-286.09 680.91,-257.79 656.68,-243.65 637.91,-261.72 620.41,-239.79 597.3,-210.83 600.79,-100.14 603.91,-47.34"/>
<polygon fill="#009912" stroke="#009912" points="607.46,-47.62 604.6,-37.42 600.48,-47.18 607.46,-47.62"/>
<text text-anchor="middle" x="725.66" y="-177.09" font-family="Times,serif" font-size="14.00" fill="#009912">Звучит многообещающе. Я в</text>
<text text-anchor="middle" x="725.66" y="-159.84" font-family="Times,serif" font-size="14.00" fill="#009912">деле.</text>
</g>
<!-- goto4&#45;&gt;combat -->
<g id="edge16" class="edge">
<title>goto4&#45;&gt;combat</title>
<path fill="none" stroke="#99001b" d="M863.68,-360.03C858.05,-268.34 847.03,-126.2 831.91,-106.5 786.32,-47.12 694.92,-28.01 643.42,-21.88"/>
<polygon fill="#99001b" stroke="#99001b" points="644.08,-18.32 633.76,-20.73 643.32,-25.28 644.08,-18.32"/>
<text text-anchor="middle" x="904.91" y="-168.47" font-family="Times,serif" font-size="14.00" fill="#99001b">И не надейся.</text>
</g>
<!-- goto5 -->
<g id="node15" class="node">
<title>goto5</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1130.91" cy="-173.14" rx="157.15" ry="66.64"/>
<text text-anchor="middle" x="1130.91" y="-202.97" font-family="Times,serif" font-size="14.00">Все совершенно прекрасно.</text>
<text text-anchor="middle" x="1130.91" y="-185.72" font-family="Times,serif" font-size="14.00">Возможно, ограниченные</text>
<text text-anchor="middle" x="1130.91" y="-168.47" font-family="Times,serif" font-size="14.00">возможности твоего черепа</text>
<text text-anchor="middle" x="1130.91" y="-151.22" font-family="Times,serif" font-size="14.00">не позволяют тебе</text>
<text text-anchor="middle" x="1130.91" y="-133.97" font-family="Times,serif" font-size="14.00">продвинуться в мышлении.</text>
</g>
<!-- goto4&#45;&gt;goto5 -->
<g id="edge17" class="edge">
<title>goto4&#45;&gt;goto5</title>
<path fill="none" stroke="#004799" d="M908.08,-362.69C929.03,-327.98 956.96,-287.93 988.91,-257.79 999.03,-248.25 1010.43,-239.31 1022.25,-231.1"/>
<polygon fill="#004799" stroke="#004799" points="1024.02,-233.45 1030.36,-224.96 1020.11,-227.65 1024.02,-233.45"/>
<text text-anchor="middle" x="1053.41" y="-303.99" font-family="Times,serif" font-size="14.00" fill="#004799">Что&#45;то мне тут не</text>
<text text-anchor="middle" x="1053.41" y="-286.74" font-family="Times,serif" font-size="14.00" fill="#004799">нравится.</text>
</g>
<!-- goto6&#45;&gt;combat -->
<g id="edge20" class="edge">
<title>goto6&#45;&gt;combat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1300.39,-257.7C1324.06,-203.32 1353.57,-108.32 1301.91,-54 1279.08,-29.99 785.66,-21.44 643.76,-19.48"/>
<polygon fill="#555555" stroke="#555555" points="644.07,-15.97 634.03,-19.33 643.98,-22.97 644.07,-15.97"/>
</g>
<!-- goto5&#45;&gt;combat -->
<g id="edge18" class="edge">
<title>goto5&#45;&gt;combat</title>
<path fill="none" stroke="#749900" d="M1016.23,-127.21C997.47,-120.12 978.19,-112.99 959.91,-106.5 935.68,-97.89 927.06,-101.58 904.91,-88.5 885.55,-77.07 888.24,-63.61 867.91,-54 828.97,-35.59 706.25,-25.36 643.57,-21.21"/>
<polygon fill="#749900" stroke="#749900" points="644.16,-17.68 633.95,-20.53 643.71,-24.66 644.16,-17.68"/>
<text text-anchor="middle" x="996.41" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#749900">Наверное, вы правы. Я в</text>
<text text-anchor="middle" x="996.41" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#749900">деле.</text>
</g>
<!-- goto5&#45;&gt;combat -->
<g id="edge19" class="edge">
<title>goto5&#45;&gt;combat</title>
<path fill="none" stroke="#920099" d="M1121.11,-106.19C1114.86,-86.41 1104.63,-66.63 1087.91,-54 1052.83,-27.49 752.05,-20.93 644.2,-19.42"/>
<polygon fill="#920099" stroke="#920099" points="644.25,-15.91 634.2,-19.27 644.15,-22.91 644.25,-15.91"/>
<text text-anchor="middle" x="1206.16" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#920099">Может, и так. Дай&#45;ка я</text>
<text text-anchor="middle" x="1206.16" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#920099">посмотрю на твой череп.</text>
</g>
<!-- gotoend -->
<g id="node16" class="node">
<title>gotoend</title>
<ellipse fill="#ffffff" stroke="#000000" cx="344.91" cy="-1031.58" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (ONLY_ONCE) then begin\n  ONLY_ONCE := 0;\n  critter_add_trait(self_obj, 1, 6, 34);\n  critter_add_trait(self_obj, 1, 5, 49);\nend\nelse begin\n  if (script_action == 12) then begin\n    call critter_p_proc;\n  end\n  else begin\n    if (script_action == 21) then begin\n      call look_at_p_proc;\n    end\n    else begin\n      if (script_action == 4) then begin\n        call pickup_p_proc;\n      end\n      else begin\n        if (script_action == 11) then begin\n          call talk_p_proc;\n        end\n      end\n    end\n  end\nend\n","critter_p_proc":"if (Hostile) then begin\n  Hostile := 0;\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(160, global_var(160) + 1);\n  if ((global_var(160) % 6) == 0) then begin\n    set_global_var(155, global_var(155) + 1);\n  end\nend\n","look_at_p_proc":"script_overrides;\nif (rndx == 0) then begin\n  rndx := random(100, 109);\nend\ndisplay_msg(message_str(265, rndx));\n","pickup_p_proc":"Hostile := 1;\n","talk_p_proc":"script_overrides;\nstart_gdialog(265, self_obj, 4, -1, -1);\ngsay_start;\nif (local_var(0)) then begin\n  call goto7;\nend\nelse begin\n  call goto0;\nend\ngsay_end;\nend_dialogue;\n","goto0":"set_local_var(0, 1);\ngsay_reply(265, 110);\ngiq_option(-3, 265, 111, goto1, 50);\ngiq_option(4, 265, 112, combat, 50);\ngiq_option(4, 265, 113, goto2, 50);\ngiq_option(6, 265, 114, goto3, 50);\n","goto1":"gsay_message(265, 115, 50);\ncall combat;\n","goto2":"gsay_message(265, 116, 50);\ncall combat;\n","goto3":"gsay_reply(265, 117);\ngiq_option(6, 265, 118, goto4, 50);\ngiq_option(6, 265, 119, goto6, 50);\n","goto4":"gsay_reply(265, 120);\ngiq_option(6, 265, 121, combat, 50);\ngiq_option(6, 265, 122, combat, 50);\ngiq_option(8, 265, 123, goto5, 50);\n","goto5":"gsay_reply(265, 124);\ngiq_option(8, 265, 125, combat, 50);\ngiq_option(8, 265, 126, combat, 50);\n","goto6":"gsay_message(265, 127, 50);\ncall combat;\n","goto7":"gsay_message(265, 128, 50);\ncall combat;\n","combat":"Hostile := 1;\n","gotoend":"[]"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(name, code, x, y) {
    $('#thecode').show();
    $('#thecode').text("# " + name + "\n" + code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(nodeName, Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>