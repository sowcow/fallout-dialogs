<!DOCTYPE html><html><head><title>cave01</title><meta charset="utf-8" /></head><body><svg width="4638pt" height="308pt"
 viewBox="0.00 0.00 4638.43 308.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 304.5)">
<title>cave01</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-304.5 4634.43,-304.5 4634.43,4 -4,4"/>
<!-- checkPartyMembersNearDoor -->
<g id="node1" class="node">
<title>checkPartyMembersNearDoor</title>
<ellipse fill="#ffffff" stroke="#000000" cx="28.57" cy="-258.25" rx="27" ry="18"/>
</g>
<!-- Choose_Encounter -->
<g id="node2" class="node">
<title>Choose_Encounter</title>
<ellipse fill="#ffffff" stroke="#000000" cx="131.57" cy="-90" rx="27" ry="18"/>
</g>
<!-- Choose_Pid -->
<g id="node3" class="node">
<title>Choose_Pid</title>
<ellipse fill="#ffffff" stroke="#000000" cx="43.57" cy="-18" rx="27" ry="18"/>
</g>
<!-- placeCritter -->
<g id="node4" class="node">
<title>placeCritter</title>
<ellipse fill="#ffffff" stroke="#000000" cx="378.57" cy="-258.25" rx="27" ry="18"/>
</g>
<!-- start -->
<g id="node5" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="450.57" cy="-258.25" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node6" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="203.57" cy="-258.25" rx="129.58" ry="42.25"/>
<text text-anchor="middle" x="203.57" y="-270.82" font-family="Times,serif" font-size="14.00">You hear some sounds</text>
<text text-anchor="middle" x="203.57" y="-253.57" font-family="Times,serif" font-size="14.00">coming from within the</text>
<text text-anchor="middle" x="203.57" y="-236.32" font-family="Times,serif" font-size="14.00">caves.</text>
</g>
<!-- LoadCritters -->
<g id="node7" class="node">
<title>LoadCritters</title>
<ellipse fill="#ffffff" stroke="#000000" cx="167.57" cy="-162" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc&#45;&gt;LoadCritters -->
<g id="edge1" class="edge">
<title>map_enter_p_proc&#45;&gt;LoadCritters</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M187.78,-215.91C184.45,-207.21 181.03,-198.23 177.96,-190.21"/>
<polygon fill="#555555" stroke="#555555" points="180.89,-189.05 174.05,-180.96 174.35,-191.55 180.89,-189.05"/>
</g>
<!-- LoadChests -->
<g id="node8" class="node">
<title>LoadChests</title>
<ellipse fill="#ffffff" stroke="#000000" cx="239.57" cy="-162" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc&#45;&gt;LoadChests -->
<g id="edge2" class="edge">
<title>map_enter_p_proc&#45;&gt;LoadChests</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M219.36,-215.91C222.68,-207.21 226.11,-198.23 229.18,-190.21"/>
<polygon fill="#555555" stroke="#555555" points="232.79,-191.55 233.09,-180.96 226.25,-189.05 232.79,-191.55"/>
</g>
<!-- LoadCritters&#45;&gt;Choose_Encounter -->
<g id="edge3" class="edge">
<title>LoadCritters&#45;&gt;Choose_Encounter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M159.22,-144.76C154.95,-136.46 149.65,-126.15 144.83,-116.79"/>
<polygon fill="#555555" stroke="#555555" points="147.56,-115.44 139.87,-108.15 141.33,-118.64 147.56,-115.44"/>
</g>
<!-- LoadCritterPos -->
<g id="node11" class="node">
<title>LoadCritterPos</title>
<ellipse fill="#ffffff" stroke="#000000" cx="203.57" cy="-90" rx="27" ry="18"/>
</g>
<!-- LoadCritters&#45;&gt;LoadCritterPos -->
<g id="edge4" class="edge">
<title>LoadCritters&#45;&gt;LoadCritterPos</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M175.92,-144.76C180.19,-136.46 185.49,-126.15 190.3,-116.79"/>
<polygon fill="#555555" stroke="#555555" points="193.8,-118.64 195.27,-108.15 187.58,-115.44 193.8,-118.64"/>
</g>
<!-- map_update_p_proc -->
<g id="node9" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="522.57" cy="-258.25" rx="27" ry="18"/>
</g>
<!-- map_exit_p_proc -->
<g id="node10" class="node">
<title>map_exit_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="594.57" cy="-258.25" rx="27" ry="18"/>
</g>
<!-- LoadCritterPos&#45;&gt;Choose_Pid -->
<g id="edge5" class="edge">
<title>LoadCritterPos&#45;&gt;Choose_Pid</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M176.46,-88.29C134.32,-85.91 118.17,-77.99 104.57,-72 65.89,-54.97 55.24,-53.03 16.57,-36 5.57,-31.16 -7.09,-25.05 5.65,-21.63"/>
<polygon fill="#555555" stroke="#555555" points="5.96,-24.97 15.3,-19.96 4.87,-18.05 5.96,-24.97"/>
</g>
<!-- LoadCritterPos&#45;&gt;Choose_Pid -->
<g id="edge7" class="edge">
<title>LoadCritterPos&#45;&gt;Choose_Pid</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M176.61,-87.63C149.78,-84.67 135.09,-77.51 122.57,-72 83.89,-54.97 73.24,-53.03 34.57,-36 30.84,-34.36 26.92,-32.57 23.65,-30.79"/>
<polygon fill="#555555" stroke="#555555" points="25.89,-28.98 16.99,-23.24 20.37,-33.28 25.89,-28.98"/>
</g>
<!-- LoadCritterPos&#45;&gt;Choose_Pid -->
<g id="edge9" class="edge">
<title>LoadCritterPos&#45;&gt;Choose_Pid</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M177.08,-85.76C162.8,-82.26 150.94,-76.57 140.57,-72 105.37,-56.5 93.38,-53.5 61.49,-39.86"/>
<polygon fill="#555555" stroke="#555555" points="62.99,-36.27 52.43,-35.49 60.2,-42.69 62.99,-36.27"/>
</g>
<!-- LoadCritterPos&#45;&gt;Choose_Pid -->
<g id="edge11" class="edge">
<title>LoadCritterPos&#45;&gt;Choose_Pid</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M179.52,-81.37C172.6,-78.37 165.27,-74.95 158.57,-72 122.69,-56.2 110.93,-53.39 71.13,-36.1"/>
<polygon fill="#555555" stroke="#555555" points="72.86,-32.6 62.29,-31.78 70.04,-39.01 72.86,-32.6"/>
</g>
<!-- LoadCritterPos&#45;&gt;Choose_Pid -->
<g id="edge13" class="edge">
<title>LoadCritterPos&#45;&gt;Choose_Pid</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M185.85,-76.22C182.77,-74.77 179.61,-73.34 176.57,-72 137.89,-54.97 127.24,-53.03 88.57,-36 85.01,-34.43 81.27,-32.73 77.51,-31.03"/>
<polygon fill="#555555" stroke="#555555" points="79.18,-27.5 68.62,-26.63 76.33,-33.89 79.18,-27.5"/>
</g>
<!-- LoadCritterPos&#45;&gt;Choose_Pid -->
<g id="edge15" class="edge">
<title>LoadCritterPos&#45;&gt;Choose_Pid</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M195.71,-72.51C195.33,-72.34 194.95,-72.17 194.57,-72 155.89,-54.97 145.24,-53.03 106.57,-36 98.79,-32.57 90.17,-28.52 80.33,-25.22"/>
<polygon fill="#555555" stroke="#555555" points="81.64,-21.67 71.06,-22.24 79.68,-28.39 81.64,-21.67"/>
</g>
<!-- LoadCritterPos&#45;&gt;Choose_Pid -->
<g id="edge17" class="edge">
<title>LoadCritterPos&#45;&gt;Choose_Pid</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.15,-85.76C234.8,-82.26 222.94,-76.57 212.57,-72 173.89,-54.97 163.24,-53.03 124.57,-36 113.81,-31.26 101.45,-25.31 81.15,-21.85"/>
<polygon fill="#555555" stroke="#555555" points="81.91,-18.29 71.53,-20.37 80.95,-25.22 81.91,-18.29"/>
</g>
<!-- LoadCritterPos&#45;&gt;Choose_Pid -->
<g id="edge19" class="edge">
<title>LoadCritterPos&#45;&gt;Choose_Pid</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.84,-88.04C259.27,-85.4 243.73,-77.79 230.57,-72 191.89,-54.97 181.24,-53.03 142.57,-36 130.19,-30.55 115.7,-23.5 81.42,-20.48"/>
<polygon fill="#555555" stroke="#555555" points="81.9,-16.93 71.68,-19.71 81.4,-23.91 81.9,-16.93"/>
</g>
<!-- placeCritter(choose_enc_pid, choose_enc_sid, 12666) -->
<g id="node12" class="node">
<title>placeCritter(choose_enc_pid, choose_enc_sid, 12666)</title>
<ellipse fill="none" stroke="black" cx="364.57" cy="-18" rx="275.86" ry="18"/>
<text text-anchor="middle" x="364.57" y="-13.32" font-family="Times,serif" font-size="14.00">placeCritter(choose_enc_pid, choose_enc_sid, 12666)</text>
</g>
<!-- LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 12666) -->
<g id="edge6" class="edge">
<title>LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 12666)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M225.96,-79.27C248.93,-69.28 285.44,-53.41 315.22,-40.46"/>
<polygon fill="#555555" stroke="#555555" points="316.25,-43.39 324.03,-36.19 313.46,-36.97 316.25,-43.39"/>
</g>
<!-- placeCritter(choose_enc_pid, choose_enc_sid, 16067) -->
<g id="node13" class="node">
<title>placeCritter(choose_enc_pid, choose_enc_sid, 16067)</title>
<ellipse fill="none" stroke="black" cx="934.57" cy="-18" rx="275.86" ry="18"/>
<text text-anchor="middle" x="934.57" y="-13.32" font-family="Times,serif" font-size="14.00">placeCritter(choose_enc_pid, choose_enc_sid, 16067)</text>
</g>
<!-- LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 16067) -->
<g id="edge8" class="edge">
<title>LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 16067)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.45,-86.43C316.97,-78.14 593.01,-51.71 772.67,-34.5"/>
<polygon fill="#555555" stroke="#555555" points="772.93,-37.9 782.56,-33.46 772.27,-30.93 772.93,-37.9"/>
</g>
<!-- placeCritter(choose_enc_pid, choose_enc_sid, 20266) -->
<g id="node14" class="node">
<title>placeCritter(choose_enc_pid, choose_enc_sid, 20266)</title>
<ellipse fill="none" stroke="black" cx="1504.57" cy="-18" rx="275.86" ry="18"/>
<text text-anchor="middle" x="1504.57" y="-13.32" font-family="Times,serif" font-size="14.00">placeCritter(choose_enc_pid, choose_enc_sid, 20266)</text>
</g>
<!-- LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 20266) -->
<g id="edge10" class="edge">
<title>LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 20266)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.66,-87.66C348.31,-81.83 826.74,-57.96 1219.57,-36 1244.58,-34.6 1270.82,-33.09 1296.84,-31.57"/>
<polygon fill="#555555" stroke="#555555" points="1296.79,-35.02 1306.57,-30.94 1296.38,-28.03 1296.79,-35.02"/>
</g>
<!-- placeCritter(choose_enc_pid, choose_enc_sid, 21888) -->
<g id="node15" class="node">
<title>placeCritter(choose_enc_pid, choose_enc_sid, 21888)</title>
<ellipse fill="none" stroke="black" cx="2074.57" cy="-18" rx="275.86" ry="18"/>
<text text-anchor="middle" x="2074.57" y="-13.32" font-family="Times,serif" font-size="14.00">placeCritter(choose_enc_pid, choose_enc_sid, 21888)</text>
</g>
<!-- LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 21888) -->
<g id="edge12" class="edge">
<title>LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 21888)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.73,-88.36C384.17,-84.68 1157.98,-65.38 1789.57,-36 1815.8,-34.78 1843.37,-33.34 1870.61,-31.82"/>
<polygon fill="#555555" stroke="#555555" points="1870.65,-35.26 1880.44,-31.21 1870.26,-28.27 1870.65,-35.26"/>
</g>
<!-- placeCritter(choose_enc_pid, choose_enc_sid, 28901) -->
<g id="node16" class="node">
<title>placeCritter(choose_enc_pid, choose_enc_sid, 28901)</title>
<ellipse fill="none" stroke="black" cx="2644.57" cy="-18" rx="275.86" ry="18"/>
<text text-anchor="middle" x="2644.57" y="-13.32" font-family="Times,serif" font-size="14.00">placeCritter(choose_enc_pid, choose_enc_sid, 28901)</text>
</g>
<!-- LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 28901) -->
<g id="edge14" class="edge">
<title>LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 28901)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.95,-88.69C414.65,-86.53 1487.01,-72.74 2359.57,-36 2386.47,-34.87 2414.78,-33.45 2442.69,-31.92"/>
<polygon fill="#555555" stroke="#555555" points="2442.58,-35.38 2452.37,-31.33 2442.19,-28.39 2442.58,-35.38"/>
</g>
<!-- placeCritter(choose_enc_pid, choose_enc_sid, 24506) -->
<g id="node17" class="node">
<title>placeCritter(choose_enc_pid, choose_enc_sid, 24506)</title>
<ellipse fill="none" stroke="black" cx="3214.57" cy="-18" rx="275.86" ry="18"/>
<text text-anchor="middle" x="3214.57" y="-13.32" font-family="Times,serif" font-size="14.00">placeCritter(choose_enc_pid, choose_enc_sid, 24506)</text>
</g>
<!-- LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 24506) -->
<g id="edge16" class="edge">
<title>LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 24506)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.78,-88.89C439.91,-87.93 1813.92,-80.1 2929.57,-36 2956.8,-34.92 2985.48,-33.53 3013.73,-31.99"/>
<polygon fill="#555555" stroke="#555555" points="3013.73,-35.44 3023.53,-31.4 3013.35,-28.45 3013.73,-35.44"/>
</g>
<!-- placeCritter(choose_enc_pid, choose_enc_sid, 20326) -->
<g id="node18" class="node">
<title>placeCritter(choose_enc_pid, choose_enc_sid, 20326)</title>
<ellipse fill="none" stroke="black" cx="3784.57" cy="-18" rx="275.86" ry="18"/>
<text text-anchor="middle" x="3784.57" y="-13.32" font-family="Times,serif" font-size="14.00">placeCritter(choose_enc_pid, choose_enc_sid, 20326)</text>
</g>
<!-- LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 20326) -->
<g id="edge18" class="edge">
<title>LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 20326)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.7,-89.01C462.9,-89.05 2139.91,-87.46 3499.57,-36 3527.02,-34.96 3555.94,-33.58 3584.41,-32.04"/>
<polygon fill="#555555" stroke="#555555" points="3584.5,-35.49 3594.3,-31.45 3584.12,-28.5 3584.5,-35.49"/>
</g>
<!-- placeCritter(choose_enc_pid, choose_enc_sid, 14300) -->
<g id="node19" class="node">
<title>placeCritter(choose_enc_pid, choose_enc_sid, 14300)</title>
<ellipse fill="none" stroke="black" cx="4354.57" cy="-18" rx="275.86" ry="18"/>
<text text-anchor="middle" x="4354.57" y="-13.32" font-family="Times,serif" font-size="14.00">placeCritter(choose_enc_pid, choose_enc_sid, 14300)</text>
</g>
<!-- LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 14300) -->
<g id="edge20" class="edge">
<title>LoadCritterPos&#45;&gt;placeCritter(choose_enc_pid, choose_enc_sid, 14300)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.84,-89.11C484.98,-90 2465.54,-94.8 4069.57,-36 4097.13,-34.99 4126.18,-33.62 4154.76,-32.08"/>
<polygon fill="#555555" stroke="#555555" points="4154.89,-35.53 4164.68,-31.49 4154.51,-28.54 4154.89,-35.53"/>
</g>
<!-- Initial_Inven -->
<g id="node20" class="node">
<title>Initial_Inven</title>
<ellipse fill="#ffffff" stroke="#000000" cx="666.57" cy="-258.25" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"checkPartyMembersNearDoor":"if (party_member_obj(16777278) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777278)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777376) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777376)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777377) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777377)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777305) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777305)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777313) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777313)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777323) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777323)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777352) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777352)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777378) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777378)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777368) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777368)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777379) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777379)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777380) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777380)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777295) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777295)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777381) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777381)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777407) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777407)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777411) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777411)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777412) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777412)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777413) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777413)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777481) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777481)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777558) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777558)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777600) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777600)) <= 5) then begin\n    return 1;\n  end\nend\nreturn 0;\n","Choose_Encounter":"variable LVar0 := 0;\nspecial_theif_encounter := 0;\nLVar0 := random(1, 13);\nif (LVar0 == 1) then begin\n  active_encounter_pids := 1;\n  if (get_pc_stat(1) < 6) then begin\n    encounter_pid1 := 16777296;\n    encounter_sid1 := 615;\n    total_encounter_mobs := random(3, 5);\n  end\n  else begin\n    if (get_pc_stat(1) < 12) then begin\n      encounter_pid1 := 16777297;\n      encounter_sid1 := 615;\n      total_encounter_mobs := random(3, 5);\n    end\n    else begin\n      if (get_pc_stat(1) < 13) then begin\n        encounter_pid1 := 16777456;\n        encounter_sid1 := 615;\n        total_encounter_mobs := random(3, 5);\n      end\n      else begin\n        encounter_pid1 := 16777457;\n        encounter_sid1 := 615;\n        total_encounter_mobs := random(3, 5);\n      end\n    end\n  end\nend\nelse begin\n  if (LVar0 == 2) then begin\n    active_encounter_pids := 1;\n    if (get_pc_stat(1) < 5) then begin\n      encounter_pid1 := 16777299;\n      encounter_sid1 := 615;\n      total_encounter_mobs := random(3, 5);\n    end\n    else begin\n      if (get_pc_stat(1) < 12) then begin\n        encounter_pid1 := 16777302;\n        encounter_sid1 := 615;\n        total_encounter_mobs := random(3, 5);\n      end\n      else begin\n        if (get_pc_stat(1) < 13) then begin\n          encounter_pid1 := 16777456;\n          encounter_sid1 := 615;\n          total_encounter_mobs := random(3, 5);\n        end\n        else begin\n          encounter_pid1 := 16777457;\n          encounter_sid1 := 615;\n          total_encounter_mobs := random(3, 5);\n        end\n      end\n    end\n  end\n  else begin\n    if (LVar0 == 3) then begin\n      active_encounter_pids := 1;\n      encounter_pid1 := 16777221;\n      encounter_sid1 := 616;\n      total_encounter_mobs := random(3, 5);\n    end\n    else begin\n      if (LVar0 == 4) then begin\n        active_encounter_pids := 1;\n        encounter_pid1 := 16777222;\n        encounter_sid1 := 616;\n        total_encounter_mobs := random(3, 5);\n      end\n      else begin\n        if (LVar0 == 5) then begin\n          active_encounter_pids := 1;\n          encounter_pid1 := 16777223;\n          encounter_sid1 := 22;\n          total_encounter_mobs := random(3, 5);\n        end\n        else begin\n          if (LVar0 == 6) then begin\n            active_encounter_pids := 1;\n            encounter_pid1 := 16777224;\n            encounter_sid1 := 22;\n            total_encounter_mobs := 5;\n          end\n          else begin\n            if (LVar0 == 7) then begin\n              active_encounter_pids := 1;\n              encounter_pid1 := 16777333;\n              encounter_sid1 := 617;\n              total_encounter_mobs := random(3, 5);\n            end\n            else begin\n              if (LVar0 == 8) then begin\n                active_encounter_pids := 1;\n                encounter_pid1 := 16777334;\n                encounter_sid1 := 617;\n                total_encounter_mobs := random(4, 5);\n              end\n              else begin\n                if (LVar0 == 9) then begin\n                  active_encounter_pids := 2;\n                  if (get_pc_stat(1) < 5) then begin\n                    encounter_pid1 := 16777296;\n                    encounter_pid2 := 16777299;\n                    encounter_sid1 := 615;\n                    encounter_sid2 := 615;\n                    total_encounter_mobs := random(3, 5);\n                  end\n                  else begin\n                    encounter_pid1 := 16777297;\n                    encounter_pid2 := 16777302;\n                    encounter_sid1 := 615;\n                    encounter_sid2 := 615;\n                    if (get_pc_stat(1) > 12) then begin\n                      active_encounter_pids := 3;\n                      encounter_pid3 := 16777456;\n                      encounter_sid3 := 615;\n                    end\n                    else begin\n                      if (get_pc_stat(1) > 15) then begin\n                        active_encounter_pids := 3;\n                        encounter_pid3 := 16777457;\n                        encounter_sid3 := 615;\n                      end\n                    end\n                    total_encounter_mobs := 5;\n                  end\n                end\n                else begin\n                  if (LVar0 == 10) then begin\n                    active_encounter_pids := 2;\n                    encounter_pid1 := 16777221;\n                    encounter_pid2 := 16777222;\n                    encounter_sid1 := 616;\n                    encounter_sid2 := 616;\n                    total_encounter_mobs := random(3, 5);\n                  end\n                  else begin\n                    if (LVar0 == 11) then begin\n                      active_encounter_pids := 2;\n                      encounter_pid1 := 16777223;\n                      encounter_pid2 := 16777224;\n                      encounter_sid1 := 22;\n                      encounter_sid2 := 22;\n                      total_encounter_mobs := 5;\n                    end\n                    else begin\n                      if (LVar0 == 12) then begin\n                        active_encounter_pids := 2;\n                        encounter_pid1 := 16777333;\n                        encounter_pid1 := 16777334;\n                        encounter_sid1 := 617;\n                        encounter_sid2 := 617;\n                        total_encounter_mobs := 5;\n                      end\n                      else begin\n                        if (LVar0 == 13) then begin\n                          if (is_success(do_check(dude_obj, 6, 0))) then begin\n                            special_theif_encounter := 1;\n                            active_encounter_pids := 2;\n                            if (get_pc_stat(1) < 5) then begin\n                              encounter_pid1 := 16777486;\n                              encounter_pid2 := 16777487;\n                              encounter_sid1 := 625;\n                              encounter_sid2 := 625;\n                              total_encounter_mobs := random(2, 3);\n                            end\n                            else begin\n                              if (get_pc_stat(1) < 11) then begin\n                                encounter_pid1 := 16777400;\n                                encounter_pid2 := 16777401;\n                                encounter_sid1 := 625;\n                                encounter_sid2 := 625;\n                                total_encounter_mobs := random(3, 4);\n                              end\n                              else begin\n                                encounter_pid1 := 16777403;\n                                encounter_pid2 := 16777404;\n                                encounter_sid1 := 625;\n                                encounter_sid2 := 625;\n                                total_encounter_mobs := random(3, 4);\n                              end\n                            end\n                          end\n                        end\n                      end\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend\n","Choose_Pid":"variable LVar0 := 0;\nLVar0 := random(1, active_encounter_pids);\nif (LVar0 == 1) then begin\n  choose_enc_pid := encounter_pid1;\n  choose_enc_sid := encounter_sid1;\nend\nelse begin\n  if (LVar0 == 2) then begin\n    choose_enc_pid := encounter_pid2;\n    choose_enc_sid := encounter_sid2;\n  end\n  else begin\n    if (LVar0 == 3) then begin\n      choose_enc_pid := encounter_pid3;\n      choose_enc_sid := encounter_sid3;\n    end\n    else begin\n      if (LVar0 == 4) then begin\n        choose_enc_pid := encounter_pid4;\n        choose_enc_sid := encounter_sid4;\n      end\n      else begin\n        if (LVar0 == 5) then begin\n          choose_enc_pid := encounter_pid5;\n          choose_enc_sid := encounter_sid5;\n        end\n        else begin\n          if (LVar0 == 6) then begin\n            choose_enc_pid := encounter_pid6;\n            choose_enc_sid := encounter_sid6;\n          end\n          else begin\n            choose_enc_pid := encounter_pid6;\n            choose_enc_sid := encounter_sid6;\n          end\n        end\n      end\n    end\n  end\nend\n","placeCritter":"variable LVar3 := 0;\nvariable LVar4 := 0;\nvariable LVar5 := 0;\nif (arg0 >= 1) then begin\n  LVar3 := tile_num_in_direction(arg2, random(0, 5), random(1, 3));\n  LVar4 := create_object_sid(arg0, 0, 0, arg1);\n  if (cur_map_index != 80) then begin\n    critter_attempt_placement(LVar4, LVar3, 1);\n  end\n  else begin\n    critter_attempt_placement(LVar4, LVar3, 2);\n  end\n  while((tile_distance(tile_num(LVar4), arg2) > 5) and (LVar5 < 4)) do begin\n    LVar3 := tile_num_in_direction(arg2, random(0, 5), random(1, 2));\n    debug_msg(\"tile_num == \" + LVar3);\n    LVar5 := LVar5 + 1;\n  end\n  if ((LVar5 >= 4) and (LVar3 > 0)) then begin\n    if (cur_map_index != 80) then begin\n      critter_attempt_placement(LVar4, arg2, 1);\n    end\n    else begin\n      critter_attempt_placement(LVar4, arg2, 2);\n    end\n  end\n  if (tile_distance(tile_num(LVar4), arg2) > 5) then begin\n    destroy_object(LVar4);\n    debug_msg(\"Couldn't find Safe spot. Destroying Ptr.\");\n  end\nend\nelse begin\n  debug_msg(\"ERROR: Pid < 1. Pid == \" + arg0 + \".\");\nend\n","start":"[]","map_enter_p_proc":"wm_area_set_pos(27, metarule(44, 0), metarule(45, 0));\nif (not(metarule(22, 0))) then begin\n  call LoadCritters;\n  if (special_theif_encounter) then begin\n    call LoadChests;\n  end\nend\nif (metarule(14, 0) and (global_var(18) != 0) and ((metarule(30, 0) == 27) or (metarule(30, 0) == 47))) then begin\n  if (cur_map_index == 69) then begin\n    if (not(metarule(22, 0)) and ((global_var(18) != 0) or (cur_map_index == 6))) then begin\n      Scenery_Creation := create_object_sid(33555441, 18909, 0, 304);\n      Scenery_Creation_Hex := 18909;\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 2) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 2) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 2) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 2) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 2) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      if (party_member_obj(455) != 0) then begin\n        move_to(party_member_obj(455), Scenery_Creation_Hex, 0);\n        debug_msg(\"Moving the Car Trunk\");\n      end\n      else begin\n        create_object_sid(455, Scenery_Creation_Hex, 0, 920);\n        debug_msg(\"Making new Trunk.\");\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n      Scenery_Creation_Count := 0;\n      while(Scenery_Creation_Count < 1) do begin\n        Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n        Scenery_Creation_Count := Scenery_Creation_Count + 1;\n      end\n    end\n  end\n  else begin\n    if (cur_map_index == 70) then begin\n      if (not(metarule(22, 0)) and ((global_var(18) != 0) or (cur_map_index == 6))) then begin\n        Scenery_Creation := create_object_sid(33555441, 26508, 0, 304);\n        Scenery_Creation_Hex := 26508;\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 2) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 2) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 2) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 2) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 2) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        if (party_member_obj(455) != 0) then begin\n          move_to(party_member_obj(455), Scenery_Creation_Hex, 0);\n          debug_msg(\"Moving the Car Trunk\");\n        end\n        else begin\n          create_object_sid(455, Scenery_Creation_Hex, 0, 920);\n          debug_msg(\"Making new Trunk.\");\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n        Scenery_Creation_Count := 0;\n        while(Scenery_Creation_Count < 1) do begin\n          Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n          Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n          Scenery_Creation_Count := Scenery_Creation_Count + 1;\n        end\n      end\n    end\n    else begin\n      if (cur_map_index == 71) then begin\n        if (not(metarule(22, 0)) and ((global_var(18) != 0) or (cur_map_index == 6))) then begin\n          Scenery_Creation := create_object_sid(33555441, 24706, 0, 304);\n          Scenery_Creation_Hex := 24706;\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 2) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 2) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 2) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 2) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 2) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          if (party_member_obj(455) != 0) then begin\n            move_to(party_member_obj(455), Scenery_Creation_Hex, 0);\n            debug_msg(\"Moving the Car Trunk\");\n          end\n          else begin\n            create_object_sid(455, Scenery_Creation_Hex, 0, 920);\n            debug_msg(\"Making new Trunk.\");\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n          Scenery_Creation_Count := 0;\n          while(Scenery_Creation_Count < 1) do begin\n            Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n            Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n            Scenery_Creation_Count := Scenery_Creation_Count + 1;\n          end\n        end\n      end\n      else begin\n        if (cur_map_index == 72) then begin\n          if (not(metarule(22, 0)) and ((global_var(18) != 0) or (cur_map_index == 6))) then begin\n            Scenery_Creation := create_object_sid(33555441, 24915, 0, 304);\n            Scenery_Creation_Hex := 24915;\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 2) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 2) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 2) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 2) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 2) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            if (party_member_obj(455) != 0) then begin\n              move_to(party_member_obj(455), Scenery_Creation_Hex, 0);\n              debug_msg(\"Moving the Car Trunk\");\n            end\n            else begin\n              create_object_sid(455, Scenery_Creation_Hex, 0, 920);\n              debug_msg(\"Making new Trunk.\");\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n            Scenery_Creation_Count := 0;\n            while(Scenery_Creation_Count < 1) do begin\n              Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n              Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n              Scenery_Creation_Count := Scenery_Creation_Count + 1;\n            end\n          end\n        end\n        else begin\n          if (cur_map_index == 73) then begin\n            if (not(metarule(22, 0)) and ((global_var(18) != 0) or (cur_map_index == 6))) then begin\n              Scenery_Creation := create_object_sid(33555441, 27512, 0, 304);\n              Scenery_Creation_Hex := 27512;\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 2) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 2) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 2) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 2) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 2) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              if (party_member_obj(455) != 0) then begin\n                move_to(party_member_obj(455), Scenery_Creation_Hex, 0);\n                debug_msg(\"Moving the Car Trunk\");\n              end\n              else begin\n                create_object_sid(455, Scenery_Creation_Hex, 0, 920);\n                debug_msg(\"Making new Trunk.\");\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n              Scenery_Creation_Count := 0;\n              while(Scenery_Creation_Count < 1) do begin\n                Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n                Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                Scenery_Creation_Count := Scenery_Creation_Count + 1;\n              end\n            end\n          end\n          else begin\n            if (cur_map_index == 80) then begin\n              if (not(metarule(22, 0)) and ((global_var(18) != 0) or (cur_map_index == 6))) then begin\n                Scenery_Creation := create_object_sid(33555441, 26292, 0, 304);\n                Scenery_Creation_Hex := 26292;\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 2) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 2) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 2) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 2) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 2) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                if (party_member_obj(455) != 0) then begin\n                  move_to(party_member_obj(455), Scenery_Creation_Hex, 0);\n                  debug_msg(\"Moving the Car Trunk\");\n                end\n                else begin\n                  create_object_sid(455, Scenery_Creation_Hex, 0, 920);\n                  debug_msg(\"Making new Trunk.\");\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n                Scenery_Creation_Count := 0;\n                while(Scenery_Creation_Count < 1) do begin\n                  Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 2, 1);\n                  Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);\n                  Scenery_Creation_Count := Scenery_Creation_Count + 1;\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend\nif (metarule(14, 0)) then begin\n  display_msg(message_str(657, 100));\nend\nset_light_level(50);\nif (metarule(14, 0) and not(global_var(352) bwand 1) and (random(0, 99) < (30 + (2 * get_critter_stat(dude_obj, 6)))) and has_trait(0, dude_obj, 46)) then begin\n  if (not(global_var(352) bwand 2)) then begin\n    set_global_var(352, global_var(352) bwor 2);\n    debug_msg(\"Set the Stranger Gender\");\n    if (random(0, 99) < 50) then begin\n      set_global_var(352, global_var(352) bwor 4);\n    end\n  end\n  if (global_var(352) bwand 4) then begin\n    if (get_pc_stat(1) > 26) then begin\n      Critter := create_object_sid(16777503, 0, 0, 732);\n    end\n    else begin\n      if (get_pc_stat(1) > 22) then begin\n        Critter := create_object_sid(16777501, 0, 0, 732);\n      end\n      else begin\n        if (get_pc_stat(1) > 18) then begin\n          Critter := create_object_sid(16777499, 0, 0, 732);\n        end\n        else begin\n          if (get_pc_stat(1) > 14) then begin\n            Critter := create_object_sid(16777497, 0, 0, 732);\n          end\n          else begin\n            Critter := create_object_sid(16777487, 0, 0, 732);\n          end\n        end\n      end\n    end\n  end\n  else begin\n    if (get_pc_stat(1) > 26) then begin\n      Critter := create_object_sid(16777502, 0, 0, 732);\n    end\n    else begin\n      if (get_pc_stat(1) > 22) then begin\n        Critter := create_object_sid(16777500, 0, 0, 732);\n      end\n      else begin\n        if (get_pc_stat(1) > 18) then begin\n          Critter := create_object_sid(16777498, 0, 0, 732);\n        end\n        else begin\n          if (get_pc_stat(1) > 14) then begin\n            Critter := create_object_sid(16777496, 0, 0, 732);\n          end\n          else begin\n            Critter := create_object_sid(16777486, 0, 0, 732);\n          end\n        end\n      end\n    end\n  end\n  Critter_Tile := tile_num_in_direction(tile_num(dude_obj), random(0, 5), random(5, 10));\n  critter_attempt_placement(Critter, Critter_Tile, elevation(dude_obj));\nend\nset_global_var(27, 0);\n","map_update_p_proc":"set_light_level(50);\n","map_exit_p_proc":"if (metarule(14, 0) and (global_var(18) != 0) and ((metarule(30, 0) == 27) or (metarule(30, 0) == 47))) then begin\n  metarule(31, 0);\nend\n","LoadCritters":"call Choose_Encounter;\ncall LoadCritterPos;\n","LoadCritterPos":"variable LVar0 := 0;\nvariable LVar1 := 0;\nvariable LVar2 := 0;\nLVar1 := total_encounter_mobs;\ndebug_msg(\"CAVE01: count \" + LVar1);\nwhile(LVar1 > 0) do begin\n  call Choose_Pid;\n  call placeCritter(choose_enc_pid, choose_enc_sid, 12666);\n  LVar1 := LVar1 - 1;\nend\nLVar1 := total_encounter_mobs;\nwhile(LVar1 > 0) do begin\n  call Choose_Pid;\n  call placeCritter(choose_enc_pid, choose_enc_sid, 16067);\n  LVar1 := LVar1 - 1;\nend\nLVar1 := total_encounter_mobs;\nwhile(LVar1 > 0) do begin\n  call Choose_Pid;\n  call placeCritter(choose_enc_pid, choose_enc_sid, 20266);\n  LVar1 := LVar1 - 1;\nend\nLVar1 := total_encounter_mobs;\nwhile(LVar1 > 0) do begin\n  call Choose_Pid;\n  call placeCritter(choose_enc_pid, choose_enc_sid, 21888);\n  LVar1 := LVar1 - 1;\nend\nLVar1 := total_encounter_mobs;\nwhile(LVar1 > 0) do begin\n  call Choose_Pid;\n  call placeCritter(choose_enc_pid, choose_enc_sid, 28901);\n  LVar1 := LVar1 - 1;\nend\nLVar1 := total_encounter_mobs;\nwhile(LVar1 > 0) do begin\n  call Choose_Pid;\n  call placeCritter(choose_enc_pid, choose_enc_sid, 24506);\n  LVar1 := LVar1 - 1;\nend\nLVar1 := total_encounter_mobs;\nwhile(LVar1 > 0) do begin\n  call Choose_Pid;\n  call placeCritter(choose_enc_pid, choose_enc_sid, 20326);\n  LVar1 := LVar1 - 1;\nend\nLVar1 := total_encounter_mobs;\nwhile(LVar1 > 0) do begin\n  call Choose_Pid;\n  call placeCritter(choose_enc_pid, choose_enc_sid, 14300);\n  LVar1 := LVar1 - 1;\nend\n","LoadChests":"variable LVar0 := 0;\ndebug_msg(\"Making Chests.\");\nLVar0 := create_object_sid(245, 19929, 1, -1);\nif (LVar0) then begin\n  if (random(1, 2) == 1) then begin\n    add_mult_objs_to_inven(LVar0, create_object_sid(40, 19929, 1, -1), random(1, 5));\n  end\n  if (random(1, 4) == 1) then begin\n    if (get_pc_stat(1) > 7) then begin\n      add_obj_to_inven(LVar0, create_object_sid(235, 19929, 1, -1));\n    end\n    else begin\n      add_obj_to_inven(LVar0, create_object_sid(160, 19929, 1, -1));\n    end\n  end\n  item_caps_adjust(LVar0, 20 * random(1, get_critter_stat(dude_obj, 6)));\nend\nLVar0 := create_object_sid(245, 29304, 1, -1);\nif (LVar0) then begin\n  if (random(1, 2) == 1) then begin\n    add_mult_objs_to_inven(LVar0, create_object_sid(40, 29304, 1, -1), random(1, 5));\n  end\n  if (random(1, 4) == 1) then begin\n    if (get_pc_stat(1) > 5) then begin\n      add_obj_to_inven(LVar0, create_object_sid(115, 29304, 1, -1));\n    end\n    else begin\n      add_obj_to_inven(LVar0, create_object_sid(10, 29304, 1, -1));\n    end\n  end\n  item_caps_adjust(LVar0, 20 * random(get_critter_stat(dude_obj, 6), get_critter_stat(dude_obj, 6) * get_critter_stat(dude_obj, 6)));\nend\nLVar0 := create_object_sid(245, 19863, 1, -1);\nif (LVar0) then begin\n  if (random(1, 2) == 1) then begin\n    if (get_pc_stat(1) < 7) then begin\n      add_mult_objs_to_inven(LVar0, create_object_sid(25, 19863, 1, -1), random(1, 5));\n    end\n    else begin\n      add_mult_objs_to_inven(LVar0, create_object_sid(26, 19863, 1, -1), random(1, 5));\n    end\n  end\n  if (random(1, 4) == 1) then begin\n    if (get_pc_stat(1) > 10) then begin\n      add_obj_to_inven(LVar0, create_object_sid(15, 19863, 1, -1));\n    end\n    else begin\n      add_obj_to_inven(LVar0, create_object_sid(10, 19863, 1, -1));\n    end\n  end\n  item_caps_adjust(LVar0, 20 * random(get_critter_stat(dude_obj, 6), get_critter_stat(dude_obj, 6) * get_critter_stat(dude_obj, 6)));\nend\n","Initial_Inven":"[]"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>