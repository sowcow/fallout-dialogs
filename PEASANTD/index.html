<!DOCTYPE html><html><head><title>PEASANTD</title><meta charset="utf-8" /></head><body><svg width="888pt" height="669pt"
 viewBox="0.00 0.00 887.63 668.96" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 664.958)">
<title>PEASANTD</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-664.958 883.631,-664.958 883.631,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="527" cy="-642.958" rx="79.0865" ry="18"/>
<text text-anchor="middle" x="527" y="-639.258" font-family="Times,serif" font-size="14.00">You see a peasant.</text>
</g>
<!-- do_dialogue -->
<g id="node2" class="node"><title>do_dialogue</title>
<ellipse fill="#ffffff" stroke="#000000" cx="385" cy="-371.169" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;do_dialogue -->
<g id="edge1" class="edge"><title>start&#45;&gt;do_dialogue</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M478.469,-628.653C457.671,-620.513 434.99,-607.912 421,-588.958 378.928,-531.958 378.949,-443.588 382.134,-399.346"/>
<polygon fill="#555555" stroke="#555555" points="385.625,-399.6 382.965,-389.345 378.649,-399.021 385.625,-399.6"/>
</g>
<!-- PeasantD00 -->
<g id="node3" class="node"><title>PeasantD00</title>
<ellipse fill="#ffffff" stroke="#000000" cx="527" cy="-371.169" rx="96.7474" ry="217.578"/>
<text text-anchor="middle" x="527" y="-509.969" font-family="Times,serif" font-size="14.00">Oh, yah, big man run</text>
<text text-anchor="middle" x="527" y="-494.969" font-family="Times,serif" font-size="14.00">ning from a scary do</text>
<text text-anchor="middle" x="527" y="-479.969" font-family="Times,serif" font-size="14.00">g. Phil,</text>
<text text-anchor="middle" x="527" y="-464.969" font-family="Times,serif" font-size="14.00"> you sure s</text>
<text text-anchor="middle" x="527" y="-449.969" font-family="Times,serif" font-size="14.00">howed it. Yep, you s</text>
<text text-anchor="middle" x="527" y="-434.969" font-family="Times,serif" font-size="14.00">ure did.</text>
<text text-anchor="middle" x="527" y="-419.969" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="527" y="-404.969" font-family="Times,serif" font-size="14.00">What yo</text>
<text text-anchor="middle" x="527" y="-389.969" font-family="Times,serif" font-size="14.00">u doing, Phil? You&#39;r</text>
<text text-anchor="middle" x="527" y="-374.969" font-family="Times,serif" font-size="14.00">e checking the tread</text>
<text text-anchor="middle" x="527" y="-359.969" font-family="Times,serif" font-size="14.00"> on those</text>
<text text-anchor="middle" x="527" y="-344.969" font-family="Times,serif" font-size="14.00"> sneakers,</text>
<text text-anchor="middle" x="527" y="-329.969" font-family="Times,serif" font-size="14.00"> aren&#39;t you?</text>
<text text-anchor="middle" x="527" y="-314.969" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="527" y="-299.969" font-family="Times,serif" font-size="14.00">Man</text>
<text text-anchor="middle" x="527" y="-284.969" font-family="Times,serif" font-size="14.00">, that dog looks hun</text>
<text text-anchor="middle" x="527" y="-269.969" font-family="Times,serif" font-size="14.00">gry. It sure wants t</text>
<text text-anchor="middle" x="527" y="-254.969" font-family="Times,serif" font-size="14.00">o eat you alive,</text>
<text text-anchor="middle" x="527" y="-239.969" font-family="Times,serif" font-size="14.00"> Ph</text>
<text text-anchor="middle" x="527" y="-224.969" font-family="Times,serif" font-size="14.00">il.</text>
</g>
<!-- start&#45;&gt;PeasantD00 -->
<g id="edge2" class="edge"><title>start&#45;&gt;PeasantD00</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M527,-624.671C527,-617.823 527,-609.212 527,-599.333"/>
<polygon fill="#555555" stroke="#555555" points="530.5,-599.05 527,-589.05 523.5,-599.05 530.5,-599.05"/>
</g>
<!-- go_inside -->
<g id="node4" class="node"><title>go_inside</title>
<ellipse fill="#ffffff" stroke="#000000" cx="669" cy="-371.169" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;go_inside -->
<g id="edge3" class="edge"><title>start&#45;&gt;go_inside</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M575.531,-628.653C596.329,-620.513 619.01,-607.912 633,-588.958 675.072,-531.958 675.051,-443.588 671.866,-399.346"/>
<polygon fill="#555555" stroke="#555555" points="675.351,-399.021 671.035,-389.345 668.375,-399.6 675.351,-399.021"/>
</g>
<!-- weapon_check -->
<g id="node5" class="node"><title>weapon_check</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-58.6899" rx="27" ry="18"/>
</g>
<!-- do_dialogue&#45;&gt;weapon_check -->
<g id="edge4" class="edge"><title>do_dialogue&#45;&gt;weapon_check</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M365.7,-358.442C312.603,-325.511 161.755,-227.384 63,-117.38 54.2163,-107.595 46.2615,-95.4053 40.0769,-84.7547"/>
<polygon fill="#555555" stroke="#555555" points="43.0561,-82.9111 35.1213,-75.8905 36.9461,-86.327 43.0561,-82.9111"/>
</g>
<!-- PeasantD02 -->
<g id="node6" class="node"><title>PeasantD02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-58.6899" rx="98.9899" ry="37.4533"/>
<text text-anchor="middle" x="171" y="-69.9899" font-family="Times,serif" font-size="14.00">That sure is a nice </text>
<text text-anchor="middle" x="171" y="-54.9899" font-family="Times,serif" font-size="14.00">pooch you have there</text>
<text text-anchor="middle" x="171" y="-39.9899" font-family="Times,serif" font-size="14.00">.</text>
</g>
<!-- do_dialogue&#45;&gt;PeasantD02 -->
<g id="edge5" class="edge"><title>do_dialogue&#45;&gt;PeasantD02</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M374.094,-354.345C342.419,-308.39 249.613,-173.744 201.189,-103.489"/>
<polygon fill="#555555" stroke="#555555" points="204.068,-101.499 195.511,-95.2513 198.304,-105.471 204.068,-101.499"/>
</g>
<!-- PeasantD04 -->
<g id="node7" class="node"><title>PeasantD04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="385" cy="-58.6899" rx="96.7474" ry="26.7407"/>
<text text-anchor="middle" x="385" y="-62.4899" font-family="Times,serif" font-size="14.00">Thanks for dealing w</text>
<text text-anchor="middle" x="385" y="-47.4899" font-family="Times,serif" font-size="14.00">ith that dog.</text>
</g>
<!-- do_dialogue&#45;&gt;PeasantD04 -->
<g id="edge6" class="edge"><title>do_dialogue&#45;&gt;PeasantD04</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M385,-353.034C385,-304.042 385,-162.606 385,-95.6481"/>
<polygon fill="#555555" stroke="#555555" points="388.5,-95.5668 385,-85.5669 381.5,-95.5669 388.5,-95.5668"/>
</g>
<!-- PeasantD01 -->
<g id="node8" class="node"><title>PeasantD01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="588" cy="-58.6899" rx="88.2768" ry="58.8803"/>
<text text-anchor="middle" x="588" y="-84.9899" font-family="Times,serif" font-size="14.00">That might be a litt</text>
<text text-anchor="middle" x="588" y="-69.9899" font-family="Times,serif" font-size="14.00">le overkill for a po</text>
<text text-anchor="middle" x="588" y="-54.9899" font-family="Times,serif" font-size="14.00">or</text>
<text text-anchor="middle" x="588" y="-39.9899" font-family="Times,serif" font-size="14.00"> defenseless anim</text>
<text text-anchor="middle" x="588" y="-24.9899" font-family="Times,serif" font-size="14.00">al, doncha think?</text>
</g>
<!-- do_dialogue&#45;&gt;PeasantD01 -->
<g id="edge7" class="edge"><title>do_dialogue&#45;&gt;PeasantD01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M383.013,-353.028C379.39,-313.646 375.81,-215.337 421,-153.38 441.616,-125.115 460.396,-134.329 491,-117.38 498.659,-113.138 506.599,-108.619 514.49,-104.05"/>
<polygon fill="#555555" stroke="#555555" points="516.482,-106.94 523.359,-98.8811 512.957,-100.892 516.482,-106.94"/>
</g>
<!-- PeasantD03 -->
<g id="node9" class="node"><title>PeasantD03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="787" cy="-58.6899" rx="92.7622" ry="58.8803"/>
<text text-anchor="middle" x="787" y="-84.9899" font-family="Times,serif" font-size="14.00">I&#39;m sure Phil would </text>
<text text-anchor="middle" x="787" y="-69.9899" font-family="Times,serif" font-size="14.00">appreciate it if you</text>
<text text-anchor="middle" x="787" y="-54.9899" font-family="Times,serif" font-size="14.00"> were</text>
<text text-anchor="middle" x="787" y="-39.9899" font-family="Times,serif" font-size="14.00"> to get rid of</text>
<text text-anchor="middle" x="787" y="-24.9899" font-family="Times,serif" font-size="14.00"> his dog.</text>
</g>
<!-- do_dialogue&#45;&gt;PeasantD03 -->
<g id="edge8" class="edge"><title>do_dialogue&#45;&gt;PeasantD03</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M381.847,-353.079C375.36,-312.041 365.446,-207.344 421,-153.38 463.471,-112.124 628.892,-136.293 685,-117.38 694.471,-114.187 704.063,-110.096 713.38,-105.568"/>
<polygon fill="#555555" stroke="#555555" points="715.247,-108.546 722.592,-100.911 712.089,-102.299 715.247,-108.546"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (not(GVar2)) then begin\n  smartass := 0;\n  smartass2 := 0;\n  GVar2 := 1;\nend\nelse begin\n  if (script_action == 11) then begin\n    call do_dialogue;\n  end\n  else begin\n    if (script_action == 18) then begin\n      if (source_obj == dude_obj) then begin\n        if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n          set_global_var(156, 1);\n          set_global_var(157, 0);\n        end\n        if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n          set_global_var(157, 1);\n          set_global_var(156, 0);\n        end\n        set_global_var(159, global_var(159) + 1);\n        if ((global_var(159) % 2) == 0) then begin\n          set_global_var(155, global_var(155) - 1);\n        end\n      end\n    end\n    else begin\n      if ((script_action == 21) or (script_action == 3)) then begin\n        script_overrides;\n        display_msg(message_str(372, 100));\n      end\n      else begin\n        if (script_action == 12) then begin\n          if (smartass2) then begin\n            call PeasantD00;\n          end\n          if (not(dog_is_angry)) then begin\n            call go_inside;\n          end\n        end\n      end\n    end\n  end\nend\n","do_dialogue":"call weapon_check;\nif (global_var(5)) then begin\n  call PeasantD02;\nend\nelse begin\n  if (not(dog_is_angry)) then begin\n    call PeasantD04;\n  end\n  else begin\n    if (GVar1) then begin\n      call PeasantD01;\n    end\n    else begin\n      call PeasantD03;\n    end\n  end\nend\n","go_inside":"animate_move_obj_to_tile(self_obj, 15484, 0);\n","weapon_check":"if ((obj_item_subtype(critter_inven_obj(dude_obj, 1)) == 3) or (obj_item_subtype(critter_inven_obj(dude_obj, 2)) == 3)) then begin\n  GVar1 := 1;\nend\nelse begin\n  GVar1 := 0;\nend\n","PeasantD00":"variable LVar0 := 0;\nvariable LVar1 := 0;\nLVar0 := random(1, 3);\nif (LVar0 == 1) then begin\n  LVar1 := message_str(372, 101);\nend\nelse begin\n  if (LVar0 == 2) then begin\n    LVar1 := message_str(372, 102);\n  end\n  else begin\n    LVar1 := message_str(372, 103);\n  end\nend\nfloat_msg(self_obj, LVar1, 0);\nsmartass2 := 0;\n","PeasantD01":"float_msg(self_obj, message_str(372, 104), 0);\n","PeasantD02":"float_msg(self_obj, message_str(372, 105), 0);\n","PeasantD03":"float_msg(self_obj, message_str(372, 106), 0);\nsmartass := 1;\n","PeasantD04":"float_msg(self_obj, message_str(372, 107), 0);\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>