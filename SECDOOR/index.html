<!DOCTYPE html><html><head><title>SECDOOR</title><meta charset="utf-8" /></head><body><svg width="621pt" height="607pt"
 viewBox="0.00 0.00 620.50 606.73" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 602.732)">
<title>SECDOOR</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-602.732 616.505,-602.732 616.505,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="232.631" cy="-580.732" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node2" class="node"><title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="89.631" cy="-318.843" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;map_enter_p_proc -->
<g id="edge1" class="edge"><title>start&#45;&gt;map_enter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M207.15,-574.173C182.316,-567.365 145.481,-553.305 125.631,-526.732 85.4875,-472.994 84.4509,-389.636 87.0444,-346.99"/>
<polygon fill="#555555" stroke="#555555" points="90.5491,-347.052 87.7809,-336.825 83.5674,-346.546 90.5491,-347.052"/>
</g>
<!-- use_p_proc -->
<g id="node3" class="node"><title>use_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="161.631" cy="-318.843" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;use_p_proc -->
<g id="edge2" class="edge"><title>start&#45;&gt;use_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M220.076,-564.451C212.418,-554.343 203.084,-540.465 197.631,-526.732 173.353,-465.585 165.414,-387.843 162.843,-347.284"/>
<polygon fill="#555555" stroke="#555555" points="166.326,-346.892 162.263,-337.108 159.338,-347.291 166.326,-346.892"/>
</g>
<!-- use_obj_on_p_proc -->
<g id="node4" class="node"><title>use_obj_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="303.631" cy="-318.843" rx="96.7474" ry="207.779"/>
<text text-anchor="middle" x="303.631" y="-450.643" font-family="Times,serif" font-size="14.00">The security door is</text>
<text text-anchor="middle" x="303.631" y="-435.643" font-family="Times,serif" font-size="14.00"> not locked.</text>
<text text-anchor="middle" x="303.631" y="-420.643" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="303.631" y="-405.643" font-family="Times,serif" font-size="14.00">You</text>
<text text-anchor="middle" x="303.631" y="-390.643" font-family="Times,serif" font-size="14.00"> manage to unlock th</text>
<text text-anchor="middle" x="303.631" y="-375.643" font-family="Times,serif" font-size="14.00">e security door.</text>
<text text-anchor="middle" x="303.631" y="-360.643" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="303.631" y="-329.643" font-family="Times,serif" font-size="14.00">You manage to trigg</text>
<text text-anchor="middle" x="303.631" y="-314.643" font-family="Times,serif" font-size="14.00">er the passive alert</text>
<text text-anchor="middle" x="303.631" y="-299.643" font-family="Times,serif" font-size="14.00"> on the door, clampi</text>
<text text-anchor="middle" x="303.631" y="-284.643" font-family="Times,serif" font-size="14.00">ng down the</text>
<text text-anchor="middle" x="303.631" y="-269.643" font-family="Times,serif" font-size="14.00"> electro</text>
<text text-anchor="middle" x="303.631" y="-254.643" font-family="Times,serif" font-size="14.00">nic lock. Good job, </text>
<text text-anchor="middle" x="303.631" y="-239.643" font-family="Times,serif" font-size="14.00">chromo.</text>
<text text-anchor="middle" x="303.631" y="-224.643" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="303.631" y="-209.643" font-family="Times,serif" font-size="14.00">You fail</text>
<text text-anchor="middle" x="303.631" y="-194.643" font-family="Times,serif" font-size="14.00"> to unlock the secur</text>
<text text-anchor="middle" x="303.631" y="-179.643" font-family="Times,serif" font-size="14.00">ity door.</text>
</g>
<!-- start&#45;&gt;use_obj_on_p_proc -->
<g id="edge3" class="edge"><title>start&#45;&gt;use_obj_on_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M237.289,-562.68C240.826,-549.736 246.104,-530.416 252.166,-508.225"/>
<polygon fill="#555555" stroke="#555555" points="255.551,-509.117 254.81,-498.548 248.798,-507.272 255.551,-509.117"/>
</g>
<!-- use_skill_on_p_proc -->
<g id="node5" class="node"><title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="515.631" cy="-318.843" rx="96.7474" ry="207.779"/>
<text text-anchor="middle" x="515.631" y="-450.643" font-family="Times,serif" font-size="14.00">The security door is</text>
<text text-anchor="middle" x="515.631" y="-435.643" font-family="Times,serif" font-size="14.00"> not locked.</text>
<text text-anchor="middle" x="515.631" y="-420.643" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="515.631" y="-405.643" font-family="Times,serif" font-size="14.00">You</text>
<text text-anchor="middle" x="515.631" y="-390.643" font-family="Times,serif" font-size="14.00"> manage to unlock th</text>
<text text-anchor="middle" x="515.631" y="-375.643" font-family="Times,serif" font-size="14.00">e security door.</text>
<text text-anchor="middle" x="515.631" y="-360.643" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="515.631" y="-329.643" font-family="Times,serif" font-size="14.00">You manage to trigg</text>
<text text-anchor="middle" x="515.631" y="-314.643" font-family="Times,serif" font-size="14.00">er the passive alert</text>
<text text-anchor="middle" x="515.631" y="-299.643" font-family="Times,serif" font-size="14.00"> on the door, clampi</text>
<text text-anchor="middle" x="515.631" y="-284.643" font-family="Times,serif" font-size="14.00">ng down the</text>
<text text-anchor="middle" x="515.631" y="-269.643" font-family="Times,serif" font-size="14.00"> electro</text>
<text text-anchor="middle" x="515.631" y="-254.643" font-family="Times,serif" font-size="14.00">nic lock. Good job, </text>
<text text-anchor="middle" x="515.631" y="-239.643" font-family="Times,serif" font-size="14.00">chromo.</text>
<text text-anchor="middle" x="515.631" y="-224.643" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="515.631" y="-209.643" font-family="Times,serif" font-size="14.00">You fail</text>
<text text-anchor="middle" x="515.631" y="-194.643" font-family="Times,serif" font-size="14.00"> to unlock the secur</text>
<text text-anchor="middle" x="515.631" y="-179.643" font-family="Times,serif" font-size="14.00">ity door.</text>
</g>
<!-- start&#45;&gt;use_skill_on_p_proc -->
<g id="edge4" class="edge"><title>start&#45;&gt;use_skill_on_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M259.374,-578.172C296.931,-574.677 365.622,-563.361 409.631,-526.732 423.634,-515.078 435.994,-501.101 446.855,-485.983"/>
<polygon fill="#555555" stroke="#555555" points="449.93,-487.69 452.736,-477.474 444.171,-483.71 449.93,-487.69"/>
</g>
<!-- dude_use_door -->
<g id="node6" class="node"><title>dude_use_door</title>
<ellipse fill="#ffffff" stroke="#000000" cx="92.631" cy="-37.4767" rx="92.7622" ry="26.7407"/>
<text text-anchor="middle" x="92.631" y="-41.2767" font-family="Times,serif" font-size="14.00">The security door is</text>
<text text-anchor="middle" x="92.631" y="-26.2767" font-family="Times,serif" font-size="14.00"> locked.</text>
</g>
<!-- use_p_proc&#45;&gt;dude_use_door -->
<g id="edge5" class="edge"><title>use_p_proc&#45;&gt;dude_use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M160.129,-300.602C156.675,-264.664 146.787,-179.398 125.631,-110.953 121.771,-98.4666 116.263,-85.3191 110.849,-73.7014"/>
<polygon fill="#555555" stroke="#555555" points="113.843,-71.8521 106.362,-64.3505 107.532,-74.8805 113.843,-71.8521"/>
</g>
<!-- Officer_use_door -->
<g id="node7" class="node"><title>Officer_use_door</title>
<ellipse fill="#ffffff" stroke="#000000" cx="230.631" cy="-37.4767" rx="27" ry="18"/>
</g>
<!-- use_p_proc&#45;&gt;Officer_use_door -->
<g id="edge6" class="edge"><title>use_p_proc&#45;&gt;Officer_use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M163.133,-300.602C166.587,-264.664 176.475,-179.398 197.631,-110.953 202.625,-94.797 210.38,-77.5343 217.118,-63.9107"/>
<polygon fill="#555555" stroke="#555555" points="220.387,-65.203 221.79,-54.7015 214.144,-62.0358 220.387,-65.203"/>
</g>
<!-- give_exps -->
<g id="node8" class="node"><title>give_exps</title>
<ellipse fill="#ffffff" stroke="#000000" cx="409.631" cy="-37.4767" rx="98.0761" ry="37.4533"/>
<text text-anchor="middle" x="409.631" y="-48.7767" font-family="Times,serif" font-size="14.00">You gain 25 experien</text>
<text text-anchor="middle" x="409.631" y="-33.7767" font-family="Times,serif" font-size="14.00">ce points for pickin</text>
<text text-anchor="middle" x="409.631" y="-18.7767" font-family="Times,serif" font-size="14.00">g the lock.</text>
</g>
<!-- use_obj_on_p_proc&#45;&gt;give_exps -->
<g id="edge7" class="edge"><title>use_obj_on_p_proc&#45;&gt;give_exps</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M364.677,-156.953C374.808,-130.252 384.538,-104.61 392.338,-84.0523"/>
<polygon fill="#555555" stroke="#555555" points="395.618,-85.2747 395.893,-74.6835 389.073,-82.7914 395.618,-85.2747"/>
</g>
<!-- use_skill_on_p_proc&#45;&gt;give_exps -->
<g id="edge8" class="edge"><title>use_skill_on_p_proc&#45;&gt;give_exps</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M454.585,-156.953C444.454,-130.252 434.724,-104.61 426.924,-84.0523"/>
<polygon fill="#555555" stroke="#555555" points="430.189,-82.7914 423.369,-74.6835 423.644,-85.2747 430.189,-82.7914"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 15) then begin\n  call map_enter_p_proc;\nend\nelse begin\n  if (script_action == 6) then begin\n    call use_p_proc;\n  end\n  else begin\n    if (script_action == 7) then begin\n      call use_obj_on_p_proc;\n    end\n    else begin\n      if (script_action == 8) then begin\n        call use_skill_on_p_proc;\n      end\n    end\n  end\nend\n","dude_use_door":"if (obj_is_locked(self_obj)) then begin\n  script_overrides;\n  display_msg(message_str(459, 100));\nend\n","Officer_use_door":"if (obj_is_open(self_obj)) then begin\n  obj_close(self_obj);\n  obj_lock(self_obj);\nend\nelse begin\n  obj_unlock(self_obj);\n  obj_open(self_obj);\nend\n","map_enter_p_proc":"SecDoor_ptr := self_obj;\n","use_p_proc":"if (source_obj == dude_obj) then begin\n  call dude_use_door;\nend\nelse begin\n  if (source_obj == Officer_ptr) then begin\n    call Officer_use_door;\n  end\nend\n","use_obj_on_p_proc":"if (obj_pid(obj_being_used_with) == 77) then begin\n  script_overrides;\n  if (not(obj_is_locked(self_obj))) then begin\n    display_msg(message_str(459, 101));\n  end\n  else begin\n    test := roll_vs_skill(source_obj, 9, 0);\n    if (is_success(test)) then begin\n      display_msg(message_str(459, 102));\n      obj_unlock(self_obj);\n      call give_exps;\n    end\n    else begin\n      if (is_critical(test)) then begin\n        jam_lock(self_obj);\n        display_msg(message_str(459, 104));\n      end\n      else begin\n        display_msg(message_str(459, 103));\n      end\n    end\n  end\n  if (tile_distance_objs(Officer_ptr, dude_obj) < 4) then begin\n    if (not(armory_access)) then begin\n      armory_access := 2;\n    end\n  end\nend\n","use_skill_on_p_proc":"if (action_being_used == 9) then begin\n  script_overrides;\n  if (not(obj_is_locked(self_obj))) then begin\n    display_msg(message_str(459, 101));\n  end\n  else begin\n    test := roll_vs_skill(source_obj, 9, -20);\n    if (is_success(test)) then begin\n      display_msg(message_str(459, 102));\n      obj_unlock(self_obj);\n      call give_exps;\n    end\n    else begin\n      if (is_critical(test)) then begin\n        jam_lock(self_obj);\n        display_msg(message_str(459, 104));\n      end\n      else begin\n        display_msg(message_str(459, 103));\n      end\n    end\n  end\n  if (tile_distance_objs(Officer_ptr, dude_obj) < 4) then begin\n    if (not(armory_access)) then begin\n      armory_access := 2;\n    end\n  end\nend\n","give_exps":"if (local_var(0) == 0) then begin\n  display_msg(message_str(459, 105));\n  give_exp_points(25);\n  set_local_var(0, 1);\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>