<!DOCTYPE html><html><head><title>tribec11</title><meta charset="utf-8" /></head><body><svg width="2194pt" height="915pt"
 viewBox="0.00 0.00 2194.43 914.87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 910.87)">
<title>tribec11</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-910.87 2190.43,-910.87 2190.43,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="89.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="161.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- Node006 -->
<g id="node3" class="node">
<title>Node006</title>
<ellipse fill="#ffffff" stroke="#000000" cx="161.93" cy="-730.92" rx="155.56" ry="30.05"/>
<text text-anchor="middle" x="161.93" y="-734.87" font-family="Times,serif" font-size="14.00">Эй, почему ты спешить? Ты</text>
<text text-anchor="middle" x="161.93" y="-717.62" font-family="Times,serif" font-size="14.00">найти чо&#45;нибудь?</text>
</g>
<!-- critter_p_proc&#45;&gt;Node006 -->
<g id="edge1" class="edge">
<title>critter_p_proc&#45;&gt;Node006</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M157.2,-846.4C155.2,-827.66 154.68,-797.04 155.65,-772.18"/>
<polygon fill="#555555" stroke="#555555" points="159.2,-772.39 156.2,-762.23 152.21,-772.04 159.2,-772.39"/>
</g>
<!-- critter_p_proc&#45;&gt;Node006 -->
<g id="edge2" class="edge">
<title>critter_p_proc&#45;&gt;Node006</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M166.66,-846.4C168.66,-827.66 169.17,-797.04 168.2,-772.18"/>
<polygon fill="#555555" stroke="#555555" points="171.65,-772.04 167.65,-762.23 164.66,-772.39 171.65,-772.04"/>
</g>
<!-- Node007 -->
<g id="node22" class="node">
<title>Node007</title>
<ellipse fill="#ffffff" stroke="#000000" cx="161.93" cy="-418.58" rx="161.93" ry="54.45"/>
<text text-anchor="middle" x="161.93" y="-439.78" font-family="Times,serif" font-size="14.00">Члену племени нужен</text>
<text text-anchor="middle" x="161.93" y="-422.53" font-family="Times,serif" font-size="14.00">помощь? Моя нужно оказать</text>
<text text-anchor="middle" x="161.93" y="-405.28" font-family="Times,serif" font-size="14.00">иму помощь. В пещере? Я</text>
<text text-anchor="middle" x="161.93" y="-388.03" font-family="Times,serif" font-size="14.00">иду!</text>
</g>
<!-- Node006&#45;&gt;Node007 -->
<g id="edge15" class="edge">
<title>Node006&#45;&gt;Node007</title>
<path fill="none" stroke="#4b0099" d="M161.93,-700.45C161.93,-651.07 161.93,-550.54 161.93,-484.12"/>
<polygon fill="#4b0099" stroke="#4b0099" points="165.43,-484.36 161.93,-474.36 158.43,-484.36 165.43,-484.36"/>
<text text-anchor="middle" x="264.68" y="-645.17" font-family="Times,serif" font-size="14.00" fill="#4b0099">Да, я нашел пропавших</text>
<text text-anchor="middle" x="264.68" y="-627.92" font-family="Times,serif" font-size="14.00" fill="#4b0099">охотников. Один из них</text>
<text text-anchor="middle" x="264.68" y="-610.67" font-family="Times,serif" font-size="14.00" fill="#4b0099">мертв, а другой тяжело</text>
<text text-anchor="middle" x="264.68" y="-593.42" font-family="Times,serif" font-size="14.00" fill="#4b0099">ранен. Мне нужна твоя</text>
<text text-anchor="middle" x="264.68" y="-576.17" font-family="Times,serif" font-size="14.00" fill="#4b0099">помощь. Нужно, чтобы ты</text>
<text text-anchor="middle" x="264.68" y="-558.92" font-family="Times,serif" font-size="14.00" fill="#4b0099">вытащил его и доставил к</text>
<text text-anchor="middle" x="264.68" y="-541.67" font-family="Times,serif" font-size="14.00" fill="#4b0099">шаману. Я пойду подожду у</text>
<text text-anchor="middle" x="264.68" y="-524.42" font-family="Times,serif" font-size="14.00" fill="#4b0099">шамана, пока ты спасаешь</text>
<text text-anchor="middle" x="264.68" y="-507.17" font-family="Times,serif" font-size="14.00" fill="#4b0099">охотника.</text>
</g>
<!-- use_p_proc -->
<g id="node4" class="node">
<title>use_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="233.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node5" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="427.93" cy="-864.62" rx="148.67" ry="30.05"/>
<text text-anchor="middle" x="427.93" y="-868.57" font-family="Times,serif" font-size="14.00">Вы видите сильного воина</text>
<text text-anchor="middle" x="427.93" y="-851.32" font-family="Times,serif" font-size="14.00">племени.</text>
</g>
<!-- description_p_proc -->
<g id="node6" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="747.93" cy="-864.62" rx="153.44" ry="42.25"/>
<text text-anchor="middle" x="747.93" y="-877.19" font-family="Times,serif" font-size="14.00">Этот дикарь выглядит</text>
<text text-anchor="middle" x="747.93" y="-859.94" font-family="Times,serif" font-size="14.00">очень сильным, но не</text>
<text text-anchor="middle" x="747.93" y="-842.69" font-family="Times,serif" font-size="14.00">очень&#45;то сообразительным.</text>
</g>
<!-- use_skill_on_p_proc -->
<g id="node7" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="945.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- use_obj_on_p_proc -->
<g id="node8" class="node">
<title>use_obj_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1017.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- damage_p_proc -->
<g id="node9" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1089.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node10" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1161.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- wield_spear_p_proc -->
<g id="node11" class="node">
<title>wield_spear_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1161.93" cy="-730.92" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc&#45;&gt;wield_spear_p_proc -->
<g id="edge3" class="edge">
<title>map_enter_p_proc&#45;&gt;wield_spear_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1161.93,-846.13C1161.93,-824.07 1161.93,-785.86 1161.93,-759.76"/>
<polygon fill="#555555" stroke="#555555" points="1165.43,-760.06 1161.93,-750.06 1158.43,-760.06 1165.43,-760.06"/>
</g>
<!-- map_update_p_proc -->
<g id="node12" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1329.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node13" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1497.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- Node009 -->
<g id="node14" class="node">
<title>Node009</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1154.93" cy="-185.34" rx="149.73" ry="78.84"/>
<text text-anchor="middle" x="1154.93" y="-223.79" font-family="Times,serif" font-size="14.00">Спасибо за помогать</text>
<text text-anchor="middle" x="1154.93" y="-206.54" font-family="Times,serif" font-size="14.00">Серину. Он хороший воин.</text>
<text text-anchor="middle" x="1154.93" y="-189.29" font-family="Times,serif" font-size="14.00">Ты друг племени.</text>
<text text-anchor="middle" x="1154.93" y="-172.04" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1154.93" y="-154.79" font-family="Times,serif" font-size="14.00">Привет друк. Что тебе</text>
<text text-anchor="middle" x="1154.93" y="-137.54" font-family="Times,serif" font-size="14.00">нужно?</text>
</g>
<!-- talk_p_proc&#45;&gt;Node009 -->
<g id="edge4" class="edge">
<title>talk_p_proc&#45;&gt;Node009</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1473.3,-856.4C1441.53,-845.85 1386.6,-823.26 1354.93,-785.37 1228.96,-634.65 1181.35,-401.51 1164.12,-275.13"/>
<polygon fill="#555555" stroke="#555555" points="1167.48,-274.8 1162.69,-265.35 1160.54,-275.73 1167.48,-274.8"/>
</g>
<!-- Node001 -->
<g id="node15" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1497.93" cy="-730.92" rx="134.35" ry="54.45"/>
<text text-anchor="middle" x="1497.93" y="-752.12" font-family="Times,serif" font-size="14.00">Стой! Что ты хотеть?</text>
<text text-anchor="middle" x="1497.93" y="-734.87" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1497.93" y="-717.62" font-family="Times,serif" font-size="14.00">Опять ты? Что на ЭТОД</text>
<text text-anchor="middle" x="1497.93" y="-700.37" font-family="Times,serif" font-size="14.00">раз?</text>
</g>
<!-- talk_p_proc&#45;&gt;Node001 -->
<g id="edge5" class="edge">
<title>talk_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1493.2,-846.4C1491.82,-833.46 1491.14,-814.86 1491.18,-796.41"/>
<polygon fill="#555555" stroke="#555555" points="1494.69,-796.63 1491.28,-786.6 1487.69,-796.57 1494.69,-796.63"/>
</g>
<!-- talk_p_proc&#45;&gt;Node001 -->
<g id="edge7" class="edge">
<title>talk_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1502.66,-846.4C1504.04,-833.46 1504.71,-814.86 1504.68,-796.41"/>
<polygon fill="#555555" stroke="#555555" points="1508.17,-796.57 1504.57,-786.6 1501.17,-796.63 1508.17,-796.57"/>
</g>
<!-- Node004 -->
<g id="node16" class="node">
<title>Node004</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1828.93" cy="-730.92" rx="134.35" ry="54.45"/>
<text text-anchor="middle" x="1828.93" y="-752.12" font-family="Times,serif" font-size="14.00">Стой! Что ты хотеть?</text>
<text text-anchor="middle" x="1828.93" y="-734.87" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1828.93" y="-717.62" font-family="Times,serif" font-size="14.00">Опять ты? Что на ЭТОД</text>
<text text-anchor="middle" x="1828.93" y="-700.37" font-family="Times,serif" font-size="14.00">раз?</text>
</g>
<!-- talk_p_proc&#45;&gt;Node004 -->
<g id="edge6" class="edge">
<title>talk_p_proc&#45;&gt;Node004</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1508.27,-847.96C1514.72,-839.3 1523.72,-828.99 1533.93,-822.37 1541.91,-817.19 1631.95,-789.89 1710.47,-766.62"/>
<polygon fill="#555555" stroke="#555555" points="1711.38,-769.71 1719.97,-763.51 1709.39,-762.99 1711.38,-769.71"/>
</g>
<!-- Node999 -->
<g id="node18" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1432.93" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node009&#45;&gt;Node999 -->
<g id="edge17" class="edge">
<title>Node009&#45;&gt;Node999</title>
<path fill="none" stroke="#99000f" d="M1072.65,-119.21C1054.71,-97.55 1045.82,-73.91 1063.93,-54 1085.91,-29.83 1305.19,-21.98 1394.94,-19.77"/>
<polygon fill="#99000f" stroke="#99000f" points="1394.8,-23.25 1404.72,-19.52 1394.64,-16.25 1394.8,-23.25"/>
<text text-anchor="middle" x="1147.93" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#99000f">Спасибо. Ну, я должен</text>
<text text-anchor="middle" x="1147.93" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#99000f">идти.</text>
</g>
<!-- Node009&#45;&gt;Node999 -->
<g id="edge18" class="edge">
<title>Node009&#45;&gt;Node999</title>
<path fill="none" stroke="#003b99" d="M1213.34,-112.31C1235.44,-86.75 1258.67,-62.26 1272.93,-54 1310.72,-32.1 1360.78,-23.88 1394.77,-20.81"/>
<polygon fill="#003b99" stroke="#003b99" points="1394.94,-24.23 1404.64,-19.95 1394.39,-17.25 1394.94,-24.23"/>
<text text-anchor="middle" x="1350.93" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#003b99">Ничего. Я тут просто</text>
<text text-anchor="middle" x="1350.93" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#003b99">гуляю. Береги себя.</text>
</g>
<!-- Node002 -->
<g id="node17" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1453.93" cy="-418.58" rx="148.14" ry="54.45"/>
<text text-anchor="middle" x="1453.93" y="-439.78" font-family="Times,serif" font-size="14.00">Моя охранять пещеру для</text>
<text text-anchor="middle" x="1453.93" y="-422.53" font-family="Times,serif" font-size="14.00">племени. Моя убедиться,</text>
<text text-anchor="middle" x="1453.93" y="-405.28" font-family="Times,serif" font-size="14.00">что плохие люди не</text>
<text text-anchor="middle" x="1453.93" y="-388.03" font-family="Times,serif" font-size="14.00">прокрались к нам.</text>
</g>
<!-- Node001&#45;&gt;Node002 -->
<g id="edge8" class="edge">
<title>Node001&#45;&gt;Node002</title>
<path fill="none" stroke="#009951" d="M1462.39,-678.34C1459.26,-671.87 1456.56,-665.18 1454.68,-658.47 1438.57,-601.12 1440.3,-532.92 1444.93,-484.1"/>
<polygon fill="#009951" stroke="#009951" points="1448.49,-484.67 1446.02,-474.37 1441.52,-483.96 1448.49,-484.67"/>
<text text-anchor="middle" x="1538.55" y="-576.17" font-family="Times,serif" font-size="14.00" fill="#009951">Что ты здесь делаешь?</text>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge9" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#992400" d="M1591.26,-691.33C1603.51,-682.34 1614.41,-671.49 1621.93,-658.47 1638.73,-629.4 1643.4,-79.82 1621.93,-54 1603.12,-31.39 1520.61,-23.32 1471.03,-20.49"/>
<polygon fill="#992400" stroke="#992400" points="1471.26,-16.95 1461.09,-19.92 1470.9,-23.94 1471.26,-16.95"/>
<text text-anchor="middle" x="1721.68" y="-320.63" font-family="Times,serif" font-size="14.00" fill="#992400">Просто прохожу мимо.</text>
<text text-anchor="middle" x="1721.68" y="-303.38" font-family="Times,serif" font-size="14.00" fill="#992400">Продолжай хорошо</text>
<text text-anchor="middle" x="1721.68" y="-286.13" font-family="Times,serif" font-size="14.00" fill="#992400">работать.</text>
</g>
<!-- Node004&#45;&gt;Node999 -->
<g id="edge13" class="edge">
<title>Node004&#45;&gt;Node999</title>
<path fill="none" stroke="#008e99" d="M1835.96,-676.33C1845.14,-590.35 1854.87,-417.53 1806.93,-282.18 1764.96,-163.72 1746.85,-120.04 1639.93,-54 1612.19,-36.87 1522.15,-26.59 1470.42,-21.95"/>
<polygon fill="#008e99" stroke="#008e99" points="1470.95,-18.4 1460.69,-21.02 1470.35,-25.37 1470.95,-18.4"/>
<text text-anchor="middle" x="1906.68" y="-320.63" font-family="Times,serif" font-size="14.00" fill="#008e99">Просто прохожу мимо.</text>
<text text-anchor="middle" x="1906.68" y="-303.38" font-family="Times,serif" font-size="14.00" fill="#008e99">Продолжай хорошо</text>
<text text-anchor="middle" x="1906.68" y="-286.13" font-family="Times,serif" font-size="14.00" fill="#008e99">работать.</text>
</g>
<!-- Node005 -->
<g id="node20" class="node">
<title>Node005</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2015.93" cy="-418.58" rx="153.44" ry="66.64"/>
<text text-anchor="middle" x="2015.93" y="-448.4" font-family="Times,serif" font-size="14.00">О, да, моя не видеть этих</text>
<text text-anchor="middle" x="2015.93" y="-431.15" font-family="Times,serif" font-size="14.00">ребят уже давно. Надеюся,</text>
<text text-anchor="middle" x="2015.93" y="-413.9" font-family="Times,serif" font-size="14.00">что они в порядке.</text>
<text text-anchor="middle" x="2015.93" y="-396.65" font-family="Times,serif" font-size="14.00">Главный воин разрешить</text>
<text text-anchor="middle" x="2015.93" y="-379.4" font-family="Times,serif" font-size="14.00">войти? Проходи тогда.</text>
</g>
<!-- Node004&#45;&gt;Node005 -->
<g id="edge12" class="edge">
<title>Node004&#45;&gt;Node005</title>
<path fill="none" stroke="#990062" d="M1860.44,-677.63C1891,-626.9 1937.66,-549.48 1971.89,-492.67"/>
<polygon fill="#990062" stroke="#990062" points="1975.32,-494.75 1977.48,-484.38 1969.33,-491.14 1975.32,-494.75"/>
<text text-anchor="middle" x="2059.55" y="-602.05" font-family="Times,serif" font-size="14.00" fill="#990062">Главный воин сказал мне,</text>
<text text-anchor="middle" x="2059.55" y="-584.8" font-family="Times,serif" font-size="14.00" fill="#990062">что мне позволено войти в</text>
<text text-anchor="middle" x="2059.55" y="-567.55" font-family="Times,serif" font-size="14.00" fill="#990062">пещеру, чтобы найти</text>
<text text-anchor="middle" x="2059.55" y="-550.3" font-family="Times,serif" font-size="14.00" fill="#990062">пропавших охотников.</text>
</g>
<!-- Node003 -->
<g id="node19" class="node">
<title>Node003</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1453.93" cy="-185.34" rx="131.7" ry="54.45"/>
<text text-anchor="middle" x="1453.93" y="-206.54" font-family="Times,serif" font-size="14.00">Нет. Моя не позволит,</text>
<text text-anchor="middle" x="1453.93" y="-189.29" font-family="Times,serif" font-size="14.00">чтобы чужие попасть в</text>
<text text-anchor="middle" x="1453.93" y="-172.04" font-family="Times,serif" font-size="14.00">пещеру. Главный воин</text>
<text text-anchor="middle" x="1453.93" y="-154.79" font-family="Times,serif" font-size="14.00">сказал так.</text>
</g>
<!-- Node002&#45;&gt;Node003 -->
<g id="edge10" class="edge">
<title>Node002&#45;&gt;Node003</title>
<path fill="none" stroke="#000899" d="M1453.93,-363.66C1453.93,-329.91 1453.93,-286.26 1453.93,-250.7"/>
<polygon fill="#000899" stroke="#000899" points="1457.43,-250.95 1453.93,-240.95 1450.43,-250.95 1457.43,-250.95"/>
<text text-anchor="middle" x="1527.05" y="-312.01" font-family="Times,serif" font-size="14.00" fill="#000899">Понятно. Могу ли я</text>
<text text-anchor="middle" x="1527.05" y="-294.76" font-family="Times,serif" font-size="14.00" fill="#000899">осмотреть пещеру?</text>
</g>
<!-- Node003&#45;&gt;Node999 -->
<g id="edge11" class="edge">
<title>Node003&#45;&gt;Node999</title>
<path fill="none" stroke="#359900" d="M1441.29,-130.88C1438.53,-117.14 1435.97,-102.34 1434.43,-88.5 1432.92,-75 1432.45,-59.94 1432.39,-47.3"/>
<polygon fill="#359900" stroke="#359900" points="1435.9,-47.5 1432.44,-37.48 1428.9,-47.46 1435.9,-47.5"/>
<text text-anchor="middle" x="1528.68" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#359900">Тогда может быть позже.</text>
</g>
<!-- Node990 -->
<g id="node21" class="node">
<title>Node990</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2021.93" cy="-185.34" rx="27" ry="18"/>
</g>
<!-- Node005&#45;&gt;Node990 -->
<g id="edge14" class="edge">
<title>Node005&#45;&gt;Node990</title>
<path fill="none" stroke="#997700" d="M2017.64,-351.63C2018.82,-306.25 2020.32,-248.27 2021.2,-214.43"/>
<polygon fill="#997700" stroke="#997700" points="2024.72,-214.61 2021.48,-204.52 2017.72,-214.43 2024.72,-214.61"/>
<text text-anchor="middle" x="2103.18" y="-320.63" font-family="Times,serif" font-size="14.00" fill="#997700">Спасибо. Я дам тебе</text>
<text text-anchor="middle" x="2103.18" y="-303.38" font-family="Times,serif" font-size="14.00" fill="#997700">знать, если что&#45;нибудь</text>
<text text-anchor="middle" x="2103.18" y="-286.13" font-family="Times,serif" font-size="14.00" fill="#997700">понадобится.</text>
</g>
<!-- Node008 -->
<g id="node23" class="node">
<title>Node008</title>
<ellipse fill="#ffffff" stroke="#000000" cx="161.93" cy="-185.34" rx="27" ry="18"/>
</g>
<!-- Node007&#45;&gt;Node008 -->
<g id="edge16" class="edge">
<title>Node007&#45;&gt;Node008</title>
<path fill="none" stroke="#00991e" d="M161.93,-363.66C161.93,-317.05 161.93,-251.54 161.93,-214.59"/>
<polygon fill="#00991e" stroke="#00991e" points="165.43,-214.65 161.93,-204.65 158.43,-214.65 165.43,-214.65"/>
<text text-anchor="middle" x="191.93" y="-303.38" font-family="Times,serif" font-size="14.00" fill="#00991e">[Готово]</text>
</g>
<!-- timed_event_p_proc -->
<g id="node24" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1569.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- destroy_p_proc -->
<g id="node25" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1641.93" cy="-864.62" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node26" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1713.93" cy="-864.62" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"[]","critter_p_proc":"if (obj_can_see_obj(self_obj, dude_obj)) then begin\n  if (global_var(11) == 1) then begin\n    attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n  end\n  else begin\n    if (global_var(714) == 1) then begin\n      attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n    end\n  end\nend\nif ((global_var(720) == 3) and obj_can_see_obj(self_obj, dude_obj)) then begin\n  if (in_dialog == 0) then begin\n    in_dialog := 1;\n    start_gdialog(1359, self_obj, 4, 4294967295, 4294967295);\n    gsay_start;\n    call Node006;\n    gsay_end;\n    end_dialogue;\n    in_dialog := 0;\n  end\n  else begin\n    call Node006;\n  end\nend\n","use_p_proc":"[]","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(1359, 100));\n","description_p_proc":"script_overrides;\ndisplay_msg(message_str(1359, 101));\n","use_skill_on_p_proc":"[]","use_obj_on_p_proc":"[]","damage_p_proc":"set_global_var(714, 1);\nattack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n","map_enter_p_proc":"call wield_spear_p_proc;\ncritter_add_trait(self_obj, 1, 6, 214);\n","map_update_p_proc":"[]","talk_p_proc":"if ((global_var(720) > 4) and (global_var(720) < 8)) then begin\n  if (global_var(494) == 8) then begin\n    float_msg(self_obj, message_str(1359, random(500, 501)), 8);\n  end\n  else begin\n    start_gdialog(1359, self_obj, 4, 4294967295, 4294967295);\n    gsay_start;\n    call Node009;\n    gsay_end;\n    end_dialogue;\n  end\nend\nelse begin\n  if (global_var(720) == 0) then begin\n    start_gdialog(1359, self_obj, 4, 4294967295, 4294967295);\n    gsay_start;\n    call Node001;\n    gsay_end;\n    end_dialogue;\n  end\n  else begin\n    if (global_var(720) < 5) then begin\n      start_gdialog(1359, self_obj, 4, 4294967295, 4294967295);\n      gsay_start;\n      call Node004;\n      gsay_end;\n      end_dialogue;\n    end\n    else begin\n      start_gdialog(1359, self_obj, 4, 4294967295, 4294967295);\n      gsay_start;\n      call Node001;\n      gsay_end;\n      end_dialogue;\n    end\n  end\nend\nif (local_var(4) == 0) then begin\n  set_local_var(4, 1);\nend\n","Node001":"if (local_var(4) == 0) then begin\n  gsay_reply(1359, 200);\n  giq_option(4, 1359, 201, Node002, 50);\nend\nelse begin\n  gsay_reply(1359, 206);\n  giq_option(4, 1359, 207, Node999, 50);\nend\n","Node002":"gsay_reply(1359, 202);\ngiq_option(4, 1359, 203, Node003, 50);\n","Node003":"gsay_reply(1359, 204);\ngiq_option(4, 1359, 205, Node999, 50);\n","Node004":"if (local_var(4) == 0) then begin\n  gsay_reply(1359, 200);\nend\nelse begin\n  gsay_reply(1359, 206);\nend\nif (global_var(720) == 1) then begin\n  giq_option(4, 1359, 208, Node005, 50);\nend\nelse begin\n  giq_option(4, 1359, 207, Node999, 50);\nend\n","Node005":"gsay_reply(1359, 209);\ngiq_option(4, 1359, 210, Node990, 50);\n","Node006":"gsay_reply(1359, 300);\ngiq_option(4, 1359, 301, Node007, 50);\n","Node007":"gsay_reply(1359, 302);\ngiq_option(4, 1359, 303, Node008, 50);\n","Node008":"set_global_var(720, 4);\nmove_to(WARRIOR_obj, 18517, 1);\nload_map(155, 0);\n","wield_spear_p_proc":"if (WIELD_Once == 0) then begin\n  wield_obj_critter(self_obj, obj_carrying_pid_obj(self_obj, 280));\n  WIELD_Once := 1;\nend\n","Node009":"if (local_var(7) == 0) then begin\n  set_local_var(7, 1);\n  gsay_reply(1359, 400);\n  giq_option(4, 1359, 401, Node999, 50);\nend\nelse begin\n  gsay_reply(1359, 402);\n  giq_option(4, 1359, 403, Node999, 50);\nend\n","timed_event_p_proc":"[]","destroy_p_proc":"destroy_object(tile_contains_pid_obj(17311, 0, 33554499));\ndestroy_object(tile_contains_pid_obj(17110, 0, 33554499));\ndestroy_object(tile_contains_pid_obj(17309, 0, 33554499));\ndestroy_object(tile_contains_pid_obj(17308, 0, 33554499));\ndestroy_object(tile_contains_pid_obj(17507, 0, 33554499));\nif (source_obj == dude_obj) then begin\n  set_global_var(5, global_var(5) + 1);\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin\n    set_global_var(2, 1);\n    set_global_var(3, 0);\n  end\n  if (metarule(51, self_obj) == 2) then begin\n    if (source_obj == dude_obj) then begin\n      set_global_var(2, 0);\n      set_global_var(1, global_var(1) + 1);\n      set_global_var(0, global_var(0) + 4294967281);\n      debug_msg(\"tribec11\" + \": \" + \"Player gains \" + 4294967281 + \" Karma Points.\" + \"\\n\");\n      set_global_var(37, 0);\n      set_global_var(38, 0);\n      set_global_var(39, 0);\n      set_global_var(40, 0);\n      set_global_var(41, 0);\n      set_global_var(42, 0);\n      set_global_var(43, 0);\n      set_global_var(44, 0);\n      set_global_var(45, 0);\n      tmp_gen_rep := global_var(0);\n      if (has_trait(0, dude_obj, 95)) then begin\n        tmp_gen_rep := global_var(0) * 2;\n      end\n      if (tmp_gen_rep >= 1000) then begin\n        set_global_var(37, 1);\n      end\n      else begin\n        if (tmp_gen_rep >= 750) then begin\n          set_global_var(38, 1);\n        end\n        else begin\n          if (tmp_gen_rep >= 500) then begin\n            set_global_var(39, 1);\n          end\n          else begin\n            if (tmp_gen_rep >= 250) then begin\n              set_global_var(40, 1);\n            end\n            else begin\n              if (tmp_gen_rep > 4294967046) then begin\n                set_global_var(41, 1);\n              end\n              else begin\n                if (tmp_gen_rep > 4294966796) then begin\n                  set_global_var(42, 1);\n                end\n                else begin\n                  if (tmp_gen_rep > 4294966546) then begin\n                    set_global_var(43, 1);\n                  end\n                  else begin\n                    if (tmp_gen_rep > 4294966296) then begin\n                      set_global_var(44, 1);\n                    end\n                    else begin\n                      set_global_var(45, 1);\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n      set_global_var(65, global_var(65) + 4294967288);\n      debug_msg(\"tribec11\" + \": \" + \"Added \" + 4294967288 + \" to Town Rep\" + \"\\n\");\n    end\n  end\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin\n    set_global_var(3, 1);\n    set_global_var(2, 0);\n  end\n  set_global_var(0, global_var(0) + 4294967286);\n  debug_msg(\"tribec11\" + \": \" + \"Player gains \" + 4294967286 + \" Karma Points.\" + \"\\n\");\n  set_global_var(37, 0);\n  set_global_var(38, 0);\n  set_global_var(39, 0);\n  set_global_var(40, 0);\n  set_global_var(41, 0);\n  set_global_var(42, 0);\n  set_global_var(43, 0);\n  set_global_var(44, 0);\n  set_global_var(45, 0);\n  tmp_gen_rep := global_var(0);\n  if (has_trait(0, dude_obj, 95)) then begin\n    tmp_gen_rep := global_var(0) * 2;\n  end\n  if (tmp_gen_rep >= 1000) then begin\n    set_global_var(37, 1);\n  end\n  else begin\n    if (tmp_gen_rep >= 750) then begin\n      set_global_var(38, 1);\n    end\n    else begin\n      if (tmp_gen_rep >= 500) then begin\n        set_global_var(39, 1);\n      end\n      else begin\n        if (tmp_gen_rep >= 250) then begin\n          set_global_var(40, 1);\n        end\n        else begin\n          if (tmp_gen_rep > 4294967046) then begin\n            set_global_var(41, 1);\n          end\n          else begin\n            if (tmp_gen_rep > 4294966796) then begin\n              set_global_var(42, 1);\n            end\n            else begin\n              if (tmp_gen_rep > 4294966546) then begin\n                set_global_var(43, 1);\n              end\n              else begin\n                if (tmp_gen_rep > 4294966296) then begin\n                  set_global_var(44, 1);\n                end\n                else begin\n                  set_global_var(45, 1);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  set_global_var(65, global_var(65) + 4294967291);\n  debug_msg(\"tribec11\" + \": \" + \"Added \" + 4294967291 + \" to Town Rep\" + \"\\n\");\nend\nset_global_var(65, global_var(65) - 10);\nset_global_var(714, 1);\n","pickup_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(714, 1);\nend\n","Node999":"[]","Node990":"destroy_object(tile_contains_pid_obj(17311, 0, 33554499));\ndestroy_object(tile_contains_pid_obj(17110, 0, 33554499));\ndestroy_object(tile_contains_pid_obj(17309, 0, 33554499));\ndestroy_object(tile_contains_pid_obj(17308, 0, 33554499));\ndestroy_object(tile_contains_pid_obj(17507, 0, 33554499));\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>