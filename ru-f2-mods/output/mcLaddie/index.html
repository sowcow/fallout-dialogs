<!DOCTYPE html><html><head><title>mcLaddie</title><meta charset="utf-8" /></head><body><svg width="3501pt" height="831pt"
 viewBox="0.00 0.00 3501.00 831.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 827)">
<title>mcLaddie</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-827 3497,-827 3497,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2116" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2188" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node3" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2260" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- Node002 -->
<g id="node4" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1876" cy="-707.89" rx="83.83" ry="18"/>
<text text-anchor="middle" x="1876" y="-703.22" font-family="Times,serif" font-size="14.00">Гав! Гав! Гав!</text>
</g>
<!-- talk_p_proc&#45;&gt;Node002 -->
<g id="edge1" class="edge">
<title>talk_p_proc&#45;&gt;Node002</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2245.42,-777.26C2239.3,-771.91 2231.79,-766.34 2224,-762.89 2143.16,-727.14 2042.64,-714.54 1970.44,-710.36"/>
<polygon fill="#555555" stroke="#555555" points="1970.73,-706.81 1960.56,-709.78 1970.36,-713.8 1970.73,-706.81"/>
</g>
<!-- Node001 -->
<g id="node5" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2260" cy="-477.64" rx="83.83" ry="18"/>
<text text-anchor="middle" x="2260" y="-472.97" font-family="Times,serif" font-size="14.00">Гав! Гав! Гав!</text>
</g>
<!-- talk_p_proc&#45;&gt;Node001 -->
<g id="edge2" class="edge">
<title>talk_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2260,-774.65C2260,-723.09 2260,-570.03 2260,-506.63"/>
<polygon fill="#555555" stroke="#555555" points="2263.5,-506.88 2260,-496.88 2256.5,-506.88 2263.5,-506.88"/>
</g>
<!-- Node000 -->
<g id="node6" class="node">
<title>Node000</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2539" cy="-477.64" rx="83.83" ry="18"/>
<text text-anchor="middle" x="2539" y="-472.97" font-family="Times,serif" font-size="14.00">Гав! Гав! Гав!</text>
</g>
<!-- talk_p_proc&#45;&gt;Node000 -->
<g id="edge3" class="edge">
<title>talk_p_proc&#45;&gt;Node000</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2273.46,-776.83C2318.06,-726.75 2461.33,-565.86 2516.79,-503.59"/>
<polygon fill="#555555" stroke="#555555" points="2518.97,-506.27 2523.01,-496.48 2513.74,-501.62 2518.97,-506.27"/>
</g>
<!-- Node012 -->
<g id="node17" class="node">
<title>Node012</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2129" cy="-345.39" rx="126.93" ry="42.25"/>
<text text-anchor="middle" x="2129" y="-357.97" font-family="Times,serif" font-size="14.00">Гав? [Вы практически</text>
<text text-anchor="middle" x="2129" y="-340.72" font-family="Times,serif" font-size="14.00">слышите, как собака</text>
<text text-anchor="middle" x="2129" y="-323.47" font-family="Times,serif" font-size="14.00">смеется над вами.]</text>
</g>
<!-- Node002&#45;&gt;Node012 -->
<g id="edge13" class="edge">
<title>Node002&#45;&gt;Node012</title>
<path fill="none" stroke="#009965" d="M1886.03,-689.82C1902.42,-661.31 1935.12,-601.84 1955,-548.14 1977.68,-486.88 1948.6,-455.34 1991,-405.64 2000.17,-394.9 2011.64,-386.04 2024.03,-378.77"/>
<polygon fill="#009965" stroke="#009965" points="2025.56,-381.37 2032.66,-373.5 2022.2,-375.23 2025.56,-381.37"/>
<text text-anchor="middle" x="1978.75" y="-526.22" font-family="Times,serif" font-size="14.00" fill="#009965">Гав!</text>
</g>
<!-- Node013 -->
<g id="node18" class="node">
<title>Node013</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1951" cy="-345.39" rx="33.32" ry="18"/>
<text text-anchor="middle" x="1951" y="-340.72" font-family="Times,serif" font-size="14.00">Гав!</text>
</g>
<!-- Node002&#45;&gt;Node013 -->
<g id="edge11" class="edge">
<title>Node002&#45;&gt;Node013</title>
<path fill="none" stroke="#749900" d="M1855.71,-690C1818.6,-656.92 1746.11,-580.96 1775,-513.64 1779.06,-504.19 1879.33,-411.84 1926.67,-368.57"/>
<polygon fill="#749900" stroke="#749900" points="1928.57,-371.66 1933.6,-362.33 1923.85,-366.49 1928.57,-371.66"/>
<text text-anchor="middle" x="1865" y="-534.84" font-family="Times,serif" font-size="14.00" fill="#749900">Джонни упал в колодец,</text>
<text text-anchor="middle" x="1865" y="-517.59" font-family="Times,serif" font-size="14.00" fill="#749900">Мальчик?</text>
</g>
<!-- Node014 -->
<g id="node20" class="node">
<title>Node014</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1284" cy="-584.14" rx="27" ry="18"/>
</g>
<!-- Node002&#45;&gt;Node014 -->
<g id="edge12" class="edge">
<title>Node002&#45;&gt;Node014</title>
<path fill="none" stroke="#910099" d="M1796.51,-701.74C1734.43,-696.77 1646.24,-687.62 1570.25,-671.89 1477.01,-652.59 1370.48,-616.43 1317.53,-597.47"/>
<polygon fill="#910099" stroke="#910099" points="1318.97,-593.91 1308.38,-593.81 1316.6,-600.49 1318.97,-593.91"/>
<text text-anchor="middle" x="1664.88" y="-658.59" font-family="Times,serif" font-size="14.00" fill="#910099">Что случилось, песик? Ты</text>
<text text-anchor="middle" x="1664.88" y="-641.34" font-family="Times,serif" font-size="14.00" fill="#910099">пытаешься мне что&#45;то</text>
<text text-anchor="middle" x="1664.88" y="-624.09" font-family="Times,serif" font-size="14.00" fill="#910099">сказать?</text>
</g>
<!-- Node999 -->
<g id="node15" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2099" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge9" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#99001b" d="M2266.28,-459.38C2284.74,-405.52 2333.65,-237.38 2270,-123.75 2241.11,-72.17 2175.3,-42.92 2134.26,-29.08"/>
<polygon fill="#99001b" stroke="#99001b" points="2135.49,-25.48 2124.9,-25.74 2133.34,-32.14 2135.49,-25.48"/>
<text text-anchor="middle" x="2392.88" y="-263.22" font-family="Times,serif" font-size="14.00" fill="#99001b">Пойдем найдем Джонни.</text>
</g>
<!-- Node001&#45;&gt;Node012 -->
<g id="edge10" class="edge">
<title>Node001&#45;&gt;Node012</title>
<path fill="none" stroke="#004799" d="M2249.35,-459.46C2236.74,-439.18 2217.18,-407.9 2215,-405.64 2209.64,-400.08 2203.68,-394.72 2197.47,-389.66"/>
<polygon fill="#004799" stroke="#004799" points="2199.92,-386.34 2189.88,-382.95 2195.61,-391.86 2199.92,-386.34"/>
<text text-anchor="middle" x="2252.75" y="-418.97" font-family="Times,serif" font-size="14.00" fill="#004799">Гав!</text>
</g>
<!-- Node001&#45;&gt;Node013 -->
<g id="edge7" class="edge">
<title>Node001&#45;&gt;Node013</title>
<path fill="none" stroke="#3f0099" d="M2178.44,-473C2115.41,-468.8 2034.43,-459.95 2007,-441.64 1983,-425.63 1967.87,-395.56 1959.48,-373.48"/>
<polygon fill="#3f0099" stroke="#3f0099" points="1962.53,-372.62 1955.88,-364.37 1955.94,-374.97 1962.53,-372.62"/>
<text text-anchor="middle" x="2109" y="-418.97" font-family="Times,serif" font-size="14.00" fill="#3f0099">Ты не знаешь, где Джонни?</text>
</g>
<!-- Node994 -->
<g id="node19" class="node">
<title>Node994</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2339" cy="-345.39" rx="27" ry="18"/>
</g>
<!-- Node001&#45;&gt;Node994 -->
<g id="edge8" class="edge">
<title>Node001&#45;&gt;Node994</title>
<path fill="none" stroke="#009912" d="M2279.12,-459.94C2284.68,-454.47 2290.48,-448.13 2295,-441.64 2309.86,-420.34 2321.82,-393.22 2329.49,-373.37"/>
<polygon fill="#009912" stroke="#009912" points="2333.08,-374.76 2333.31,-364.17 2326.53,-372.31 2333.08,-374.76"/>
<text text-anchor="middle" x="2402.75" y="-418.97" font-family="Times,serif" font-size="14.00" fill="#009912">Сидеть здесь, Мальчик!</text>
</g>
<!-- Node000&#45;&gt;Node999 -->
<g id="edge4" class="edge">
<title>Node000&#45;&gt;Node999</title>
<path fill="none" stroke="#99006d" d="M2544.96,-459.4C2546.61,-453.81 2548.18,-447.53 2549,-441.64 2551.22,-425.8 2552.03,-421.36 2549,-405.64 2545.49,-387.43 2498.08,-265.52 2487,-250.64 2402.94,-137.85 2365.19,-116.16 2239,-54 2206.22,-37.85 2165.34,-28.74 2136.24,-23.89"/>
<polygon fill="#99006d" stroke="#99006d" points="2137.12,-20.33 2126.7,-22.24 2136.04,-27.25 2137.12,-20.33"/>
<text text-anchor="middle" x="2596.38" y="-271.84" font-family="Times,serif" font-size="14.00" fill="#99006d">[Собака, кажется, чем&#45;то</text>
<text text-anchor="middle" x="2596.38" y="-254.59" font-family="Times,serif" font-size="14.00" fill="#99006d">взволнована.]</text>
</g>
<!-- Node996 -->
<g id="node16" class="node">
<title>Node996</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2711" cy="-345.39" rx="27" ry="18"/>
</g>
<!-- Node000&#45;&gt;Node996 -->
<g id="edge5" class="edge">
<title>Node000&#45;&gt;Node996</title>
<path fill="none" stroke="#009998" d="M2561.13,-459.88C2592.95,-435.79 2651.48,-391.46 2685.21,-365.92"/>
<polygon fill="#009998" stroke="#009998" points="2686.77,-368.38 2692.62,-359.55 2682.54,-362.8 2686.77,-368.38"/>
<text text-anchor="middle" x="2688.88" y="-418.97" font-family="Times,serif" font-size="14.00" fill="#009998">Хороший песик.</text>
</g>
<!-- Node000&#45;&gt;Node012 -->
<g id="edge6" class="edge">
<title>Node000&#45;&gt;Node012</title>
<path fill="none" stroke="#996b00" d="M2528.3,-459.35C2515.42,-438.6 2495.35,-406.47 2494,-405.64 2457.65,-383.36 2345.06,-394.58 2303,-387.64 2282.04,-384.19 2259.85,-379.63 2238.58,-374.81"/>
<polygon fill="#996b00" stroke="#996b00" points="2239.43,-371.18 2228.9,-372.35 2237.85,-378 2239.43,-371.18"/>
<text text-anchor="middle" x="2532.75" y="-418.97" font-family="Times,serif" font-size="14.00" fill="#996b00">Гав!</text>
</g>
<!-- destroy_p_proc -->
<g id="node7" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2332" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node8" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2521" cy="-792.95" rx="143.8" ry="18"/>
<text text-anchor="middle" x="2521" y="-788.27" font-family="Times,serif" font-size="14.00">Похоже на помесь колли.</text>
</g>
<!-- description_p_proc -->
<g id="node9" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2836" cy="-792.95" rx="152.91" ry="30.05"/>
<text text-anchor="middle" x="2836" y="-796.9" font-family="Times,serif" font-size="14.00">Похоже, это очень</text>
<text text-anchor="middle" x="2836" y="-779.65" font-family="Times,serif" font-size="14.00">проворная и умная собака.</text>
</g>
<!-- use_skill_on_p_proc -->
<g id="node10" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3034" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- damage_p_proc -->
<g id="node11" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3106" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node12" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3178" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- map_update_p_proc -->
<g id="node13" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3250" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- push_p_proc -->
<g id="node14" class="node">
<title>push_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3322" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- Node010 -->
<g id="node21" class="node">
<title>Node010</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2677" cy="-178.2" rx="139.65" ry="30.05"/>
<text text-anchor="middle" x="2677" y="-182.15" font-family="Times,serif" font-size="14.00">Грррр! [Мальчик злобно</text>
<text text-anchor="middle" x="2677" y="-164.9" font-family="Times,serif" font-size="14.00">кусает вас.]</text>
</g>
<!-- Node996&#45;&gt;Node010 -->
<g id="edge37" class="edge">
<title>Node996&#45;&gt;Node010</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2709.06,-327C2706.8,-308.09 2702.64,-277.04 2697,-250.64 2694.78,-240.27 2691.92,-229.17 2689.06,-218.89"/>
<polygon fill="#555555" stroke="#555555" points="2692.21,-218.19 2686.1,-209.54 2685.48,-220.12 2692.21,-218.19"/>
</g>
<!-- Node011 -->
<g id="node22" class="node">
<title>Node011</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2973" cy="-178.2" rx="138.06" ry="54.45"/>
<text text-anchor="middle" x="2973" y="-199.4" font-family="Times,serif" font-size="14.00">Гав! Гав! Гав! [Мальчик</text>
<text text-anchor="middle" x="2973" y="-182.15" font-family="Times,serif" font-size="14.00">запрыгивает на вас и</text>
<text text-anchor="middle" x="2973" y="-164.9" font-family="Times,serif" font-size="14.00">начинает лизать вам</text>
<text text-anchor="middle" x="2973" y="-147.65" font-family="Times,serif" font-size="14.00">лицо.]</text>
</g>
<!-- Node996&#45;&gt;Node011 -->
<g id="edge38" class="edge">
<title>Node996&#45;&gt;Node011</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2730.27,-332.25C2763.79,-311.11 2834.69,-266.4 2891.26,-230.74"/>
<polygon fill="#555555" stroke="#555555" points="2892.97,-233.17 2899.56,-224.87 2889.23,-227.25 2892.97,-233.17"/>
</g>
<!-- Node012&#45;&gt;Node999 -->
<g id="edge16" class="edge">
<title>Node012&#45;&gt;Node999</title>
<path fill="none" stroke="#219900" d="M2122.4,-302.82C2119.26,-281.83 2115.66,-255.93 2113.25,-232.64 2106.38,-166.37 2102.14,-88.18 2100.22,-47.24"/>
<polygon fill="#219900" stroke="#219900" points="2103.68,-47.31 2099.73,-37.48 2096.69,-47.63 2103.68,-47.31"/>
<text text-anchor="middle" x="2191.38" y="-182.15" font-family="Times,serif" font-size="14.00" fill="#219900">[Никому не нравятся</text>
<text text-anchor="middle" x="2191.38" y="-164.9" font-family="Times,serif" font-size="14.00" fill="#219900">умники.]</text>
</g>
<!-- Node014&#45;&gt;Node999 -->
<g id="edge20" class="edge">
<title>Node014&#45;&gt;Node999</title>
<path fill="none" stroke="#5e0099" d="M1311.3,-582.74C1397.31,-581.22 1658.54,-574.43 1685,-548.14 1762.59,-471.06 1632.38,-382.16 1708,-303.14 1748.33,-261 1785.9,-311.37 1838,-285.14 1953.06,-227.22 2046.98,-98.47 2083.08,-44.05"/>
<polygon fill="#5e0099" stroke="#5e0099" points="2086.4,-46.37 2088.95,-36.09 2080.54,-42.54 2086.4,-46.37"/>
<text text-anchor="middle" x="1808.5" y="-357.97" font-family="Times,serif" font-size="14.00" fill="#5e0099">У меня нет времени на</text>
<text text-anchor="middle" x="1808.5" y="-340.72" font-family="Times,serif" font-size="14.00" fill="#5e0099">игры, Мальчик; нам нужно</text>
<text text-anchor="middle" x="1808.5" y="-323.47" font-family="Times,serif" font-size="14.00" fill="#5e0099">найти Джонни. Идем.</text>
</g>
<!-- Node995 -->
<g id="node23" class="node">
<title>Node995</title>
<ellipse fill="#ffffff" stroke="#000000" cx="587" cy="-423.64" rx="27" ry="18"/>
</g>
<!-- Node014&#45;&gt;Node995 -->
<g id="edge17" class="edge">
<title>Node014&#45;&gt;Node995</title>
<path fill="none" stroke="#99004e" d="M1256.65,-582.62C1169.23,-580.72 897.47,-572.9 813.5,-548.14 735.38,-525.11 653.96,-472.49 613.35,-443.93"/>
<polygon fill="#99004e" stroke="#99004e" points="615.8,-440.67 605.62,-437.72 611.74,-446.37 615.8,-440.67"/>
<text text-anchor="middle" x="910.75" y="-534.84" font-family="Times,serif" font-size="14.00" fill="#99004e">Джонни где&#45;то недалеко в</text>
<text text-anchor="middle" x="910.75" y="-517.59" font-family="Times,serif" font-size="14.00" fill="#99004e">Модоке?</text>
</g>
<!-- Node017 -->
<g id="node24" class="node">
<title>Node017</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1031" cy="-477.64" rx="58.57" ry="18"/>
<text text-anchor="middle" x="1031" y="-472.97" font-family="Times,serif" font-size="14.00">Гав! Гав!</text>
</g>
<!-- Node014&#45;&gt;Node017 -->
<g id="edge18" class="edge">
<title>Node014&#45;&gt;Node017</title>
<path fill="none" stroke="#007a99" d="M1256.67,-583.87C1195.08,-584.87 1048.43,-583.4 1017.5,-548.14 1007.32,-536.54 1010.37,-519.61 1016.13,-505.36"/>
<polygon fill="#007a99" stroke="#007a99" points="1019.63,-507.12 1020.64,-496.57 1013.27,-504.19 1019.63,-507.12"/>
<text text-anchor="middle" x="1102.75" y="-526.22" font-family="Times,serif" font-size="14.00" fill="#007a99">Джонни нет в Модоке?</text>
</g>
<!-- Node018 -->
<g id="node25" class="node">
<title>Node018</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1516" cy="-477.64" rx="34.37" ry="18"/>
<text text-anchor="middle" x="1516" y="-472.97" font-family="Times,serif" font-size="14.00">Гав?</text>
</g>
<!-- Node014&#45;&gt;Node018 -->
<g id="edge19" class="edge">
<title>Node014&#45;&gt;Node018</title>
<path fill="none" stroke="#998b00" d="M1304.9,-572.26C1315.56,-566.09 1328.28,-557.69 1338,-548.14 1351.19,-535.19 1345.99,-524.09 1361.25,-513.64 1393.62,-491.49 1437.86,-483.15 1470.75,-480.12"/>
<polygon fill="#998b00" stroke="#998b00" points="1470.74,-483.55 1480.44,-479.28 1470.19,-476.57 1470.74,-483.55"/>
<text text-anchor="middle" x="1428.38" y="-534.84" font-family="Times,serif" font-size="14.00" fill="#998b00">Джонни похитили</text>
<text text-anchor="middle" x="1428.38" y="-517.59" font-family="Times,serif" font-size="14.00" fill="#998b00">пришельцы?</text>
</g>
<!-- Node010&#45;&gt;Node999 -->
<g id="edge14" class="edge">
<title>Node010&#45;&gt;Node999</title>
<path fill="none" stroke="#993800" d="M2651.33,-148.4C2623.11,-118.93 2574.86,-74.63 2523,-54 2453.4,-26.32 2227.93,-20.53 2137.27,-19.32"/>
<polygon fill="#993800" stroke="#993800" points="2137.44,-15.81 2127.4,-19.19 2137.36,-22.81 2137.44,-15.81"/>
<text text-anchor="middle" x="2697.38" y="-92.45" font-family="Times,serif" font-size="14.00" fill="#993800">[Хмм... по какой&#45;то</text>
<text text-anchor="middle" x="2697.38" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#993800">причине вы не нравитесь</text>
<text text-anchor="middle" x="2697.38" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#993800">этой собаке.]</text>
</g>
<!-- Node011&#45;&gt;Node999 -->
<g id="edge15" class="edge">
<title>Node011&#45;&gt;Node999</title>
<path fill="none" stroke="#0b0099" d="M2918.93,-127.85C2885.74,-100.77 2840.9,-69.61 2795,-54 2732.68,-32.8 2273.31,-22.35 2137.02,-19.69"/>
<polygon fill="#0b0099" stroke="#0b0099" points="2137.37,-16.18 2127.3,-19.49 2137.23,-23.18 2137.37,-16.18"/>
<text text-anchor="middle" x="2974" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#0b0099">[Какая милая собачка.]</text>
</g>
<!-- Node015 -->
<g id="node26" class="node">
<title>Node015</title>
<ellipse fill="#ffffff" stroke="#000000" cx="772" cy="-178.2" rx="27" ry="18"/>
</g>
<!-- Node995&#45;&gt;Node015 -->
<g id="edge39" class="edge">
<title>Node995&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M598.85,-407.04C630.31,-365.65 716.07,-252.8 753.78,-203.17"/>
<polygon fill="#555555" stroke="#555555" points="756.98,-205.75 760.24,-195.67 751.41,-201.51 756.98,-205.75"/>
</g>
<!-- Node017&#45;&gt;Node999 -->
<g id="edge34" class="edge">
<title>Node017&#45;&gt;Node999</title>
<path fill="none" stroke="#009951" d="M1089.56,-475.25C1191.48,-472.27 1392.86,-463.63 1416,-441.64 1478.16,-382.58 1396.47,-322.51 1443.25,-250.64 1533.24,-112.41 1601.97,-107.51 1758,-54 1813.33,-35.03 1984.76,-24.55 2061.36,-20.71"/>
<polygon fill="#009951" stroke="#009951" points="2061.13,-24.18 2070.95,-20.2 2060.79,-17.19 2061.13,-24.18"/>
<text text-anchor="middle" x="1535.88" y="-263.22" font-family="Times,serif" font-size="14.00" fill="#009951">Пойдем найдем Джонни.</text>
</g>
<!-- Node017&#45;&gt;Node014 -->
<g id="edge33" class="edge">
<title>Node017&#45;&gt;Node014</title>
<path fill="none" stroke="#7e0099" d="M1089.24,-480.25C1120.86,-483.76 1159.09,-492.57 1187,-513.64 1200.93,-524.16 1192.94,-536.29 1205.75,-548.14 1217.88,-559.37 1234.21,-567.44 1248.81,-572.98"/>
<polygon fill="#7e0099" stroke="#7e0099" points="1247.46,-576.57 1258.06,-576.58 1249.78,-569.97 1247.46,-576.57"/>
<text text-anchor="middle" x="1270.12" y="-534.84" font-family="Times,serif" font-size="14.00" fill="#7e0099">Может быть, еще</text>
<text text-anchor="middle" x="1270.12" y="-517.59" font-family="Times,serif" font-size="14.00" fill="#7e0099">где&#45;нибудь?</text>
</g>
<!-- Node986 -->
<g id="node33" class="node">
<title>Node986</title>
<ellipse fill="#ffffff" stroke="#000000" cx="740" cy="-345.39" rx="27" ry="18"/>
</g>
<!-- Node017&#45;&gt;Node986 -->
<g id="edge29" class="edge">
<title>Node017&#45;&gt;Node986</title>
<path fill="none" stroke="#029900" d="M973.41,-473.54C867.07,-467.53 649.64,-453.82 638.5,-441.64 627.7,-429.84 630.53,-419.52 638.5,-405.64 640.57,-402.05 680.96,-379.11 710.16,-362.86"/>
<polygon fill="#029900" stroke="#029900" points="711.52,-365.55 718.56,-357.64 708.12,-359.43 711.52,-365.55"/>
<text text-anchor="middle" x="731.25" y="-418.97" font-family="Times,serif" font-size="14.00" fill="#029900">Он отправился на север?</text>
</g>
<!-- Node987 -->
<g id="node34" class="node">
<title>Node987</title>
<ellipse fill="#ffffff" stroke="#000000" cx="828" cy="-345.39" rx="27" ry="18"/>
</g>
<!-- Node017&#45;&gt;Node987 -->
<g id="edge30" class="edge">
<title>Node017&#45;&gt;Node987</title>
<path fill="none" stroke="#99002e" d="M973.95,-473.23C925.18,-469.08 860.14,-460.16 842.25,-441.64 825.39,-424.19 823.07,-395.91 824.22,-374.7"/>
<polygon fill="#99002e" stroke="#99002e" points="827.79,-375.01 825.14,-364.75 820.81,-374.42 827.79,-375.01"/>
<text text-anchor="middle" x="924.38" y="-418.97" font-family="Times,serif" font-size="14.00" fill="#99002e">Он отправился на юг?</text>
</g>
<!-- Node988 -->
<g id="node35" class="node">
<title>Node988</title>
<ellipse fill="#ffffff" stroke="#000000" cx="941" cy="-345.39" rx="27" ry="18"/>
</g>
<!-- Node017&#45;&gt;Node988 -->
<g id="edge31" class="edge">
<title>Node017&#45;&gt;Node988</title>
<path fill="none" stroke="#005b99" d="M1028.41,-459.45C1025.53,-444.32 1019.77,-422.19 1009,-405.64 998.56,-389.61 982.58,-375.38 968.74,-364.88"/>
<polygon fill="#005b99" stroke="#005b99" points="971.18,-361.6 961.03,-358.55 967.06,-367.26 971.18,-361.6"/>
<text text-anchor="middle" x="1121" y="-418.97" font-family="Times,serif" font-size="14.00" fill="#005b99">Он отправился на восток?</text>
</g>
<!-- Node989 -->
<g id="node36" class="node">
<title>Node989</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1129" cy="-345.39" rx="27" ry="18"/>
</g>
<!-- Node017&#45;&gt;Node989 -->
<g id="edge32" class="edge">
<title>Node017&#45;&gt;Node989</title>
<path fill="none" stroke="#879900" d="M1088.62,-473.93C1138.22,-470.24 1204.37,-461.62 1221,-441.64 1246.21,-411.36 1196.43,-378.94 1160.77,-360.81"/>
<polygon fill="#879900" stroke="#879900" points="1162.68,-357.36 1152.16,-356.09 1159.59,-363.64 1162.68,-357.36"/>
<text text-anchor="middle" x="1320.25" y="-418.97" font-family="Times,serif" font-size="14.00" fill="#879900">Он отправился на запад?</text>
</g>
<!-- Node018&#45;&gt;Node999 -->
<g id="edge36" class="edge">
<title>Node018&#45;&gt;Node999</title>
<path fill="none" stroke="#000899" d="M1525.95,-459.94C1555.17,-410.96 1639.56,-269.96 1654.25,-250.64 1726.66,-155.44 1731.7,-108.84 1838,-54 1876.14,-34.32 1998.69,-24.68 2061.35,-20.94"/>
<polygon fill="#000899" stroke="#000899" points="2061.17,-24.4 2070.96,-20.33 2060.77,-17.41 2061.17,-24.4"/>
<text text-anchor="middle" x="1745.88" y="-263.22" font-family="Times,serif" font-size="14.00" fill="#000899">Пойдем найдем Джонни.</text>
</g>
<!-- Node018&#45;&gt;Node014 -->
<g id="edge35" class="edge">
<title>Node018&#45;&gt;Node014</title>
<path fill="none" stroke="#992500" d="M1515.41,-495.94C1513.88,-511.93 1509.01,-535.12 1494,-548.14 1468.85,-569.97 1375.07,-578.41 1321.73,-581.49"/>
<polygon fill="#992500" stroke="#992500" points="1321.8,-578.04 1312,-582.08 1322.17,-585.03 1321.8,-578.04"/>
<text text-anchor="middle" x="1597" y="-534.84" font-family="Times,serif" font-size="14.00" fill="#992500">Ладно, ладно... может,</text>
<text text-anchor="middle" x="1597" y="-517.59" font-family="Times,serif" font-size="14.00" fill="#992500">тогда еще где&#45;нибудь?</text>
</g>
<!-- Node015&#45;&gt;Node999 -->
<g id="edge28" class="edge">
<title>Node015&#45;&gt;Node999</title>
<path fill="none" stroke="#2b0099" d="M799.26,-175.95C885.6,-171.54 1151.31,-154.23 1220,-105.75 1241.41,-90.64 1225.99,-67.83 1248.25,-54 1283.19,-32.28 1900.92,-21.87 2061.24,-19.52"/>
<polygon fill="#2b0099" stroke="#2b0099" points="2061.03,-23.01 2070.98,-19.37 2060.93,-16.01 2061.03,-23.01"/>
<text text-anchor="middle" x="1340.88" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#2b0099">Пойдем найдем Джонни.</text>
</g>
<!-- Node015&#45;&gt;Node014 -->
<g id="edge26" class="edge">
<title>Node015&#45;&gt;Node014</title>
<path fill="none" stroke="#009984" d="M746.85,-185.4C652.06,-209.97 326.49,-305.81 422.75,-441.64 519.66,-578.39 1092.18,-584.46 1245.98,-583.59"/>
<polygon fill="#009984" stroke="#009984" points="1245.75,-587.08 1255.73,-583.51 1245.7,-580.09 1245.75,-587.08"/>
<text text-anchor="middle" x="487.12" y="-427.59" font-family="Times,serif" font-size="14.00" fill="#009984">Может быть, еще</text>
<text text-anchor="middle" x="487.12" y="-410.34" font-family="Times,serif" font-size="14.00" fill="#009984">где&#45;нибудь?</text>
</g>
<!-- Node981 -->
<g id="node27" class="node">
<title>Node981</title>
<ellipse fill="#ffffff" stroke="#000000" cx="505" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node015&#45;&gt;Node981 -->
<g id="edge21" class="edge">
<title>Node015&#45;&gt;Node981</title>
<path fill="none" stroke="#009932" d="M744.95,-176.08C668.77,-172.29 455.23,-157.21 413,-105.75 398.41,-87.97 399.94,-72.94 413,-54 425.28,-36.19 447.9,-27.44 467.64,-23.14"/>
<polygon fill="#009932" stroke="#009932" points="468.03,-26.44 477.23,-21.18 466.76,-19.56 468.03,-26.44"/>
<text text-anchor="middle" x="498.5" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#009932">Рядом со скотобойней?</text>
</g>
<!-- Node982 -->
<g id="node28" class="node">
<title>Node982</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node015&#45;&gt;Node982 -->
<g id="edge22" class="edge">
<title>Node015&#45;&gt;Node982</title>
<path fill="none" stroke="#990500" d="M744.67,-176.19C620.32,-171.4 111.65,-149.24 56.75,-105.75 39.12,-91.78 31.89,-66.81 28.95,-47.24"/>
<polygon fill="#990500" stroke="#990500" points="32.32,-46.97 27.66,-37.46 25.37,-47.8 32.32,-46.97"/>
<text text-anchor="middle" x="128.62" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#990500">Рядом с кожевней?</text>
</g>
<!-- Node983 -->
<g id="node29" class="node">
<title>Node983</title>
<ellipse fill="#ffffff" stroke="#000000" cx="691" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node015&#45;&gt;Node983 -->
<g id="edge23" class="edge">
<title>Node015&#45;&gt;Node983</title>
<path fill="none" stroke="#002899" d="M746.07,-172.42C712.98,-164.77 657.07,-146.31 632.25,-105.75 620.25,-86.13 620.89,-74 632.25,-54 637.84,-44.17 647.4,-36.81 657.21,-31.44"/>
<polygon fill="#002899" stroke="#002899" points="658.48,-34.23 665.96,-26.72 655.43,-27.93 658.48,-34.23"/>
<text text-anchor="middle" x="708.38" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#002899">Рядом с магазином?</text>
</g>
<!-- Node984 -->
<g id="node30" class="node">
<title>Node984</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1136" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node015&#45;&gt;Node984 -->
<g id="edge24" class="edge">
<title>Node015&#45;&gt;Node984</title>
<path fill="none" stroke="#549900" d="M798.93,-175.63C848.11,-171.55 953.88,-157.01 1024,-105.75 1046.27,-89.47 1037.24,-71.86 1058.25,-54 1070.77,-43.35 1087.06,-35.36 1101.49,-29.72"/>
<polygon fill="#549900" stroke="#549900" points="1102.4,-32.74 1110.59,-26.02 1100,-26.17 1102.4,-32.74"/>
<text text-anchor="middle" x="1129.88" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#549900">Рядом с колодцем?</text>
</g>
<!-- Node016 -->
<g id="node31" class="node">
<title>Node016</title>
<ellipse fill="#ffffff" stroke="#000000" cx="209" cy="-18" rx="33.32" ry="18"/>
<text text-anchor="middle" x="209" y="-13.32" font-family="Times,serif" font-size="14.00">Гав!</text>
</g>
<!-- Node015&#45;&gt;Node016 -->
<g id="edge25" class="edge">
<title>Node015&#45;&gt;Node016</title>
<path fill="none" stroke="#990081" d="M744.85,-175.63C638.79,-169.23 256.43,-143.7 219,-105.75 204.12,-90.66 202.51,-66.19 204.11,-47.08"/>
<polygon fill="#990081" stroke="#990081" points="207.69,-47.62 205.39,-37.28 200.74,-46.79 207.69,-47.62"/>
<text text-anchor="middle" x="309" y="-83.83" font-family="Times,serif" font-size="14.00" fill="#990081">Джонни упал в колодец,</text>
<text text-anchor="middle" x="309" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#990081">Мальчик?</text>
</g>
<!-- Node985 -->
<g id="node32" class="node">
<title>Node985</title>
<ellipse fill="#ffffff" stroke="#000000" cx="839" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node015&#45;&gt;Node985 -->
<g id="edge27" class="edge">
<title>Node015&#45;&gt;Node985</title>
<path fill="none" stroke="#995800" d="M788.53,-163.54C803.09,-150.41 823.44,-129.15 833,-105.75 840.59,-87.18 841.91,-64.51 841.44,-47.01"/>
<polygon fill="#995800" stroke="#995800" points="844.9,-47.16 840.91,-37.34 837.91,-47.5 844.9,-47.16"/>
<text text-anchor="middle" x="931.25" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#995800">Рядом с Мотелем Розы?</text>
</g>
<!-- Node981&#45;&gt;Node015 -->
<g id="edge40" class="edge">
<title>Node981&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M529.7,-26.05C546.33,-31.68 568.03,-40.82 584,-54 605.61,-71.83 598.59,-87.67 620,-105.75 655.08,-135.37 704.51,-155.58 737.37,-166.75"/>
<polygon fill="#555555" stroke="#555555" points="735.82,-170.26 746.41,-170.06 738.01,-163.61 735.82,-170.26"/>
</g>
<!-- Node982&#45;&gt;Node015 -->
<g id="edge41" class="edge">
<title>Node982&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M21.07,-35.72C15.37,-55.14 9.88,-86.91 27,-105.75 74.96,-158.53 588.63,-173.33 733.92,-176.47"/>
<polygon fill="#555555" stroke="#555555" points="733.82,-179.99 743.89,-176.7 733.97,-173 733.82,-179.99"/>
</g>
<!-- Node983&#45;&gt;Node015 -->
<g id="edge42" class="edge">
<title>Node983&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M717.77,-21.18C739.36,-24.51 768.45,-32.9 783,-54 802.61,-82.43 793.23,-123.77 783.56,-150.57"/>
<polygon fill="#555555" stroke="#555555" points="779.96,-149.16 779.61,-159.75 786.49,-151.69 779.96,-149.16"/>
</g>
<!-- Node984&#45;&gt;Node015 -->
<g id="edge43" class="edge">
<title>Node984&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1160.82,-25.68C1174.98,-30.9 1191.54,-39.73 1200,-54 1211.73,-73.78 1214.86,-88.2 1200,-105.75 1150.06,-164.72 905.28,-175.06 810.03,-176.84"/>
<polygon fill="#555555" stroke="#555555" points="810.12,-173.35 800.17,-177.02 810.23,-180.35 810.12,-173.35"/>
</g>
<!-- Node985&#45;&gt;Node015 -->
<g id="edge44" class="edge">
<title>Node985&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M833.66,-35.87C827.91,-53.52 818.21,-81.94 808,-105.75 801.42,-121.11 793.07,-137.82 786.07,-151.21"/>
<polygon fill="#555555" stroke="#555555" points="782.61,-149.25 781.03,-159.73 788.8,-152.53 782.61,-149.25"/>
</g>
<!-- Node986&#45;&gt;Node015 -->
<g id="edge45" class="edge">
<title>Node986&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M743.3,-327.34C748.81,-298.9 759.93,-241.52 766.59,-207.12"/>
<polygon fill="#555555" stroke="#555555" points="770.2,-207.89 768.67,-197.41 763.33,-206.56 770.2,-207.89"/>
</g>
<!-- Node987&#45;&gt;Node015 -->
<g id="edge46" class="edge">
<title>Node987&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M822.22,-327.34C812.48,-298.62 792.75,-240.42 781.13,-206.14"/>
<polygon fill="#555555" stroke="#555555" points="784.19,-205.26 777.67,-196.92 777.56,-207.51 784.19,-205.26"/>
</g>
<!-- Node988&#45;&gt;Node015 -->
<g id="edge47" class="edge">
<title>Node988&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M926.3,-330.02C896.71,-301.1 829.8,-235.69 794.61,-201.29"/>
<polygon fill="#555555" stroke="#555555" points="797.39,-199.14 787.79,-194.65 792.49,-204.15 797.39,-199.14"/>
</g>
<!-- Node989&#45;&gt;Node015 -->
<g id="edge48" class="edge">
<title>Node989&#45;&gt;Node015</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1107.21,-334.31C1046.31,-306.13 874.22,-226.5 803.23,-193.65"/>
<polygon fill="#555555" stroke="#555555" points="805.05,-190.17 794.51,-189.15 802.11,-196.53 805.05,-190.17"/>
</g>
<!-- timed_event_p_proc -->
<g id="node37" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3394" cy="-792.95" rx="27" ry="18"/>
</g>
<!-- use_obj_on_p_proc -->
<g id="node38" class="node">
<title>use_obj_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3466" cy="-792.95" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"[]","critter_p_proc":"if (has_trait(1, self_obj, 666)) then begin\n  if (obj_can_see_obj(self_obj, dude_obj) and (((local_var(1) bwand 2) != 0) or (global_var(52) <= 4294966296))) then begin\n    if (global_var(52) <= 4294966296) then begin\n      if (party_member_obj(obj_pid(self_obj)) != 0) then begin\n        debug_msg(\"mcladdie\" + \": \" + \"abandon party: \" + obj_name(self_obj) + \"\\n\");\n        party_remove(self_obj);\n      end\n    end\n    if ((obj_pid(self_obj) == 16777380) or (obj_pid(self_obj) == 16777379)) then begin\n      debug_msg(\"mcladdie\" + \": \" + \"start: set_dude_was_married\" + \"\\n\");\n      if ((global_var(6) != 0) and ((global_var(449) != 0) == 0)) then begin\n        debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED before == \" + global_var(449) + \"\\n\");\n        set_global_var(449, global_var(6));\n        debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED after == \" + global_var(449) + \"\\n\");\n        set_global_var(6, 0);\n      end\n      debug_msg(\"mcladdie\" + \": \" + \"finished: set_dude_was_married\" + \"\\n\");\n    end\n    if ((local_var(3) != 4294967295) and (has_trait(1, self_obj, 6) == 0)) then begin\n      critter_add_trait(self_obj, 1, 6, local_var(3));\n      set_local_var(3, 4294967295);\n    end\n    debug_msg(\"mcladdie\" + \": \" + \"\" + obj_name(self_obj) + \" has abandoned the party\" + \"\\n\");\n    if (critter_is_fleeing(self_obj)) then begin\n      if (anim_busy(self_obj) == 0) then begin\n        if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin\n          if (anim_busy(self_obj) == 0) then begin\n            global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));\n            animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n            global_temp := (global_temp + 1) % 6;\n            while((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin\n              debug_msg(\"mcladdie\" + \": \" + \"flee loop: rot == \" + global_temp + \"\\n\");\n              animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n              global_temp := (global_temp + 1) % 6;\n            end\n          end\n        end\n      end\n    end\n    else begin\n      attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n    end\n  end\n  else begin\n    if (party_member_obj(16777381) != 0) then begin\n      if (cur_map_index == 18) then begin\n        if (global_var(128) == 2) then begin\n          if (party_member_obj(obj_pid(self_obj)) != 0) then begin\n            debug_msg(\"mcladdie\" + \": \" + \"abandon party: \" + obj_name(self_obj) + \"\\n\");\n            party_remove(self_obj);\n          end\n          if ((obj_pid(self_obj) == 16777380) or (obj_pid(self_obj) == 16777379)) then begin\n            debug_msg(\"mcladdie\" + \": \" + \"start: set_dude_was_married\" + \"\\n\");\n            if ((global_var(6) != 0) and ((global_var(449) != 0) == 0)) then begin\n              debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED before == \" + global_var(449) + \"\\n\");\n              set_global_var(449, global_var(6));\n              debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED after == \" + global_var(449) + \"\\n\");\n              set_global_var(6, 0);\n            end\n            debug_msg(\"mcladdie\" + \": \" + \"finished: set_dude_was_married\" + \"\\n\");\n          end\n          if ((local_var(3) != 4294967295) and (has_trait(1, self_obj, 6) == 0)) then begin\n            critter_add_trait(self_obj, 1, 6, local_var(3));\n            set_local_var(3, 4294967295);\n          end\n          debug_msg(\"mcladdie\" + \": \" + \"\" + obj_name(self_obj) + \" has abandoned the party\" + \"\\n\");\n        end\n        else begin\n          if ((((local_var(1) bwand 512) != 0) or (obj_is_carrying_obj_pid(dude_obj, 261) > 0)) == 0) then begin\n            if (anim_busy(self_obj) == 0) then begin\n              if ((tile_distance(17319, tile_num(self_obj)) <= 5) == 0) then begin\n                temp_tile := 17319;\n                while((temp_tile != tile_num(self_obj)) and (tile_contains_pid_obj(temp_tile, elevation(self_obj), 33554499) != 0)) do begin\n                  temp_tile := tile_num_in_direction(temp_tile, rotation_to_tile(temp_tile, tile_num(self_obj)), 1);\n                end\n                if ((tile_num(self_obj) != temp_tile) and (temp_tile != 0)) then begin\n                  if ((dest_tile == temp_tile) and (step_tile < 0)) then begin\n                    step_tile := step_tile + 1;\n                    debug_msg(\"mcladdie\" + \": \" + \"step_tile: \" + step_tile + \"\\n\");\n                  end\n                  else begin\n                    if (anim_busy(self_obj) == 0) then begin\n                      dest_tile := temp_tile;\n                      step_tile := temp_tile;\n                      animate_move_obj_to_tile(self_obj, step_tile, 1);\n                      while((anim_busy(self_obj) == 0) and (tile_distance(tile_num(self_obj), temp_tile) >= tile_distance(step_tile, temp_tile))) do begin\n                        debug_msg(\"mcladdie\" + \": \" + \"rot: \" + rotation_to_tile(step_tile, tile_num(self_obj)) + \"\\n\");\n                        step_tile := tile_num_in_direction(step_tile, rotation_to_tile(step_tile, tile_num(self_obj)), 1 % tile_distance(step_tile, tile_num(self_obj)));\n                        debug_msg(\"mcladdie\" + \": \" + \"step_var: \" + step_tile + \"\\n\");\n                        animate_move_obj_to_tile(self_obj, step_tile, 1);\n                      end\n                      if (anim_busy(self_obj) == 0) then begin\n                        if (metarule3(106, tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), elevation(self_obj), 0) != 0) then begin\n                          if (anim_busy(self_obj) == 0) then begin\n                            global_temp := rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), tile_num(self_obj)), 1), tile_num(self_obj));\n                            animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(2, 5)), 0);\n                            global_temp := (global_temp + 1) % 6;\n                            while((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), tile_num(self_obj)), 1), tile_num(self_obj)))) do begin\n                              debug_msg(\"mcladdie\" + \": \" + \"flee loop: rot == \" + global_temp + \"\\n\");\n                              animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(2, 5)), 0);\n                              global_temp := (global_temp + 1) % 6;\n                            end\n                          end\n                        end\n                        else begin\n                          step_tile := 4294967286;\n                        end\n                      end\n                    end\n                    else begin\n                      if (tile_distance(tile_num(self_obj), temp_tile) < tile_distance(dest_tile, temp_tile)) then begin\n                        reg_anim_func(2, self_obj);\n                      end\n                    end\n                  end\n                end\n              end\n            end\n          end\n          else begin\n            if (((local_var(5) != 0) == 0) and ((global_var(398) != 0) == 0)) then begin\n              if (local_var(4) == 0) then begin\n                set_local_var(4, 6);\n              end\n              if (tile_distance_objs(self_obj, dude_obj) > (3 * local_var(4) / 2)) then begin\n                if (anim_busy(self_obj) == 0) then begin\n                  dest_tile := tile_num_in_direction(tile_num_in_direction(tile_num(dude_obj), rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)), local_var(4)), random(0, 5), random(0, 2));\n                  if (tile_distance_objs(self_obj, dude_obj) > (3 * local_var(4) / 2 * 2)) then begin\n                    animate_move_obj_to_tile(self_obj, dest_tile, 1);\n                  end\n                  else begin\n                    animate_move_obj_to_tile(self_obj, dest_tile, 0);\n                  end\n                end\n                else begin\n                  if (tile_distance(tile_num(self_obj), tile_num(dude_obj)) < tile_distance(tile_num(self_obj), dest_tile)) then begin\n                    reg_anim_func(2, self_obj);\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n      if (cur_map_index == 26) then begin\n        if (jonny_obj != 0) then begin\n          set_local_var(1, local_var(1) bwor 524288);\n          if (tile_distance_objs(self_obj, jonny_obj) > 1) then begin\n            animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(jonny_obj), has_trait(1, jonny_obj, 10), random(1, 3)), 1);\n          end\n          else begin\n            if (rotation_to_tile(tile_num(self_obj), tile_num(jonny_obj)) != has_trait(1, self_obj, 10)) then begin\n              if (anim_busy(self_obj) == 0) then begin\n                anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), tile_num(jonny_obj)));\n              end\n            end\n          end\n          if (party_member_obj(obj_pid(self_obj)) != 0) then begin\n            debug_msg(\"mcladdie\" + \": \" + \"abandon party: \" + obj_name(self_obj) + \"\\n\");\n            party_remove(self_obj);\n          end\n          if ((obj_pid(self_obj) == 16777380) or (obj_pid(self_obj) == 16777379)) then begin\n            debug_msg(\"mcladdie\" + \": \" + \"start: set_dude_was_married\" + \"\\n\");\n            if ((global_var(6) != 0) and ((global_var(449) != 0) == 0)) then begin\n              debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED before == \" + global_var(449) + \"\\n\");\n              set_global_var(449, global_var(6));\n              debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED after == \" + global_var(449) + \"\\n\");\n              set_global_var(6, 0);\n            end\n            debug_msg(\"mcladdie\" + \": \" + \"finished: set_dude_was_married\" + \"\\n\");\n          end\n          if ((local_var(3) != 4294967295) and (has_trait(1, self_obj, 6) == 0)) then begin\n            critter_add_trait(self_obj, 1, 6, local_var(3));\n            set_local_var(3, 4294967295);\n          end\n          debug_msg(\"mcladdie\" + \": \" + \"\" + obj_name(self_obj) + \" has abandoned the party\" + \"\\n\");\n        end\n      end\n      else begin\n        if (((local_var(5) != 0) == 0) and ((global_var(398) != 0) == 0)) then begin\n          if (local_var(4) == 0) then begin\n            set_local_var(4, 6);\n          end\n          if (tile_distance_objs(self_obj, dude_obj) > (3 * local_var(4) / 2)) then begin\n            if (anim_busy(self_obj) == 0) then begin\n              dest_tile := tile_num_in_direction(tile_num_in_direction(tile_num(dude_obj), rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)), local_var(4)), random(0, 5), random(0, 2));\n              if (tile_distance_objs(self_obj, dude_obj) > (3 * local_var(4) / 2 * 2)) then begin\n                animate_move_obj_to_tile(self_obj, dest_tile, 1);\n              end\n              else begin\n                animate_move_obj_to_tile(self_obj, dest_tile, 0);\n              end\n            end\n            else begin\n              if (tile_distance(tile_num(self_obj), tile_num(dude_obj)) < tile_distance(tile_num(self_obj), dest_tile)) then begin\n                reg_anim_func(2, self_obj);\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  if (cur_map_index == 18) then begin\n    if ((global_var(128) == 2) and (anim_busy(self_obj) == 0)) then begin\n      if (jonny_obj != 0) then begin\n        if (tile_distance_objs(self_obj, jonny_obj) > 1) then begin\n          animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(jonny_obj), has_trait(1, jonny_obj, 10), random(1, 3)), 1);\n        end\n        else begin\n          if (rotation_to_tile(tile_num(self_obj), tile_num(jonny_obj)) != has_trait(1, self_obj, 10)) then begin\n            if (anim_busy(self_obj) == 0) then begin\n              anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), tile_num(jonny_obj)));\n            end\n          end\n        end\n      end\n    end\n  end\nend\n","talk_p_proc":"script_overrides;\nif ((global_var(128) == 2) or (((local_var(1) bwand 512) != 0) or (obj_is_carrying_obj_pid(dude_obj, 261) > 0))) then begin\n  float_msg(self_obj, message_str(105, random(150, 152)), 8);\nend\nelse begin\n  start_gdialog(105, self_obj, 4, 4294967295, 4294967295);\n  gsay_start;\n  if (party_member_obj(16777381) != 0) then begin\n    if (tile_distance(17319, tile_num(self_obj)) <= 5) then begin\n      call Node002;\n    end\n    else begin\n      call Node001;\n    end\n  end\n  else begin\n    call Node000;\n  end\n  gsay_end;\n  end_dialogue;\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(5, global_var(5) + 1);\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin\n    set_global_var(2, 1);\n    set_global_var(3, 0);\n  end\n  if (metarule(51, self_obj) == 2) then begin\n    if (source_obj == dude_obj) then begin\n      set_global_var(2, 0);\n      set_global_var(1, global_var(1) + 1);\n      set_global_var(0, global_var(0) + 4294967281);\n      debug_msg(\"mcladdie\" + \": \" + \"Player gains \" + 4294967281 + \" Karma Points.\" + \"\\n\");\n      set_global_var(37, 0);\n      set_global_var(38, 0);\n      set_global_var(39, 0);\n      set_global_var(40, 0);\n      set_global_var(41, 0);\n      set_global_var(42, 0);\n      set_global_var(43, 0);\n      set_global_var(44, 0);\n      set_global_var(45, 0);\n      tmp_gen_rep := global_var(0);\n      if (has_trait(0, dude_obj, 95)) then begin\n        tmp_gen_rep := global_var(0) * 2;\n      end\n      if (tmp_gen_rep >= 1000) then begin\n        set_global_var(37, 1);\n      end\n      else begin\n        if (tmp_gen_rep >= 750) then begin\n          set_global_var(38, 1);\n        end\n        else begin\n          if (tmp_gen_rep >= 500) then begin\n            set_global_var(39, 1);\n          end\n          else begin\n            if (tmp_gen_rep >= 250) then begin\n              set_global_var(40, 1);\n            end\n            else begin\n              if (tmp_gen_rep > 4294967046) then begin\n                set_global_var(41, 1);\n              end\n              else begin\n                if (tmp_gen_rep > 4294966796) then begin\n                  set_global_var(42, 1);\n                end\n                else begin\n                  if (tmp_gen_rep > 4294966546) then begin\n                    set_global_var(43, 1);\n                  end\n                  else begin\n                    if (tmp_gen_rep > 4294966296) then begin\n                      set_global_var(44, 1);\n                    end\n                    else begin\n                      set_global_var(45, 1);\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n      set_global_var(52, global_var(52) + 4294967288);\n      debug_msg(\"mcladdie\" + \": \" + \"Added \" + 4294967288 + \" to Town Rep\" + \"\\n\");\n    end\n  end\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin\n    set_global_var(3, 1);\n    set_global_var(2, 0);\n  end\n  set_global_var(0, global_var(0) + 4294967286);\n  debug_msg(\"mcladdie\" + \": \" + \"Player gains \" + 4294967286 + \" Karma Points.\" + \"\\n\");\n  set_global_var(37, 0);\n  set_global_var(38, 0);\n  set_global_var(39, 0);\n  set_global_var(40, 0);\n  set_global_var(41, 0);\n  set_global_var(42, 0);\n  set_global_var(43, 0);\n  set_global_var(44, 0);\n  set_global_var(45, 0);\n  tmp_gen_rep := global_var(0);\n  if (has_trait(0, dude_obj, 95)) then begin\n    tmp_gen_rep := global_var(0) * 2;\n  end\n  if (tmp_gen_rep >= 1000) then begin\n    set_global_var(37, 1);\n  end\n  else begin\n    if (tmp_gen_rep >= 750) then begin\n      set_global_var(38, 1);\n    end\n    else begin\n      if (tmp_gen_rep >= 500) then begin\n        set_global_var(39, 1);\n      end\n      else begin\n        if (tmp_gen_rep >= 250) then begin\n          set_global_var(40, 1);\n        end\n        else begin\n          if (tmp_gen_rep > 4294967046) then begin\n            set_global_var(41, 1);\n          end\n          else begin\n            if (tmp_gen_rep > 4294966796) then begin\n              set_global_var(42, 1);\n            end\n            else begin\n              if (tmp_gen_rep > 4294966546) then begin\n                set_global_var(43, 1);\n              end\n              else begin\n                if (tmp_gen_rep > 4294966296) then begin\n                  set_global_var(44, 1);\n                end\n                else begin\n                  set_global_var(45, 1);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  set_global_var(52, global_var(52) + 4294967291);\n  debug_msg(\"mcladdie\" + \": \" + \"Added \" + 4294967291 + \" to Town Rep\" + \"\\n\");\nend\nset_global_var(126, 4294967295);\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(105, 100 + ((global_var(693) == 0) == 0)));\n","description_p_proc":"script_overrides;\ndisplay_msg(message_str(105, 102 + (get_critter_stat(dude_obj, 4) <= 3)));\n","use_skill_on_p_proc":"[]","damage_p_proc":"if (source_obj == dude_obj) then begin\n  if (party_member_obj(obj_pid(self_obj)) != 0) then begin\n    debug_msg(\"mcladdie\" + \": \" + \"abandon party: \" + obj_name(self_obj) + \"\\n\");\n    party_remove(self_obj);\n  end\n  if ((obj_pid(self_obj) == 16777380) or (obj_pid(self_obj) == 16777379)) then begin\n    debug_msg(\"mcladdie\" + \": \" + \"start: set_dude_was_married\" + \"\\n\");\n    if ((global_var(6) != 0) and ((global_var(449) != 0) == 0)) then begin\n      debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED before == \" + global_var(449) + \"\\n\");\n      set_global_var(449, global_var(6));\n      debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED after == \" + global_var(449) + \"\\n\");\n      set_global_var(6, 0);\n    end\n    debug_msg(\"mcladdie\" + \": \" + \"finished: set_dude_was_married\" + \"\\n\");\n  end\n  if ((local_var(3) != 4294967295) and (has_trait(1, self_obj, 6) == 0)) then begin\n    critter_add_trait(self_obj, 1, 6, local_var(3));\n    set_local_var(3, 4294967295);\n  end\n  debug_msg(\"mcladdie\" + \": \" + \"\" + obj_name(self_obj) + \" has abandoned the party\" + \"\\n\");\nend\n","map_enter_p_proc":"if ((cur_map_index == 19) and (elevation(self_obj) != ((global_var(297) bwand 1) != 0))) then begin\n  move_to(self_obj, tile_num(self_obj), (global_var(297) bwand 1) != 0);\nend\nif (metarule(22, 0) == 0) then begin\n  if (global_var(128) == 2) then begin\n    if (cur_map_index == 26) then begin\n      destroy_object(self_obj);\n    end\n    else begin\n      if (has_trait(1, self_obj, 666) == 0) then begin\n        set_obj_visibility(self_obj, 0);\n      end\n    end\n  end\n  else begin\n    if (cur_map_index == 18) then begin\n      if (metarule(14, 0)) then begin\n        set_local_var(0, tile_num(self_obj));\n        critter_add_trait(self_obj, 1, 6, 28);\n      end\n      else begin\n        if (obj_is_carrying_obj_pid(dude_obj, 261) > 0) then begin\n          set_local_var(1, local_var(1) bwor 512);\n        end\n      end\n    end\n  end\nend\n","map_update_p_proc":"if (global_var(126) == 1) then begin\n  set_global_var(126, 2);\n  if ((critter_state(self_obj) bwand 1) == 0) then begin\n    if (local_var(4) == 0) then begin\n      set_local_var(4, 6);\n    end\n    set_local_var(5, 0);\n    if (has_trait(1, self_obj, 6) != 0) then begin\n      set_local_var(3, has_trait(1, self_obj, 6));\n    end\n    critter_add_trait(self_obj, 1, 6, 0);\n    party_add(self_obj);\n  end\n  debug_msg(\"mcladdie\" + \": \" + \"join party: \" + obj_name(self_obj) + \"\\n\");\nend\n","push_p_proc":"[]","Node000":"gsay_reply(105, 152);\ngiq_option(10, 105, 153, Node999, 50);\ngiq_option(4, 105, 154, Node996, 50);\ngiq_option(4294967293, 105, 150, Node012, 50);\n","Node001":"gsay_reply(105, 152);\ngiq_option(10, 105, 155, Node013, 50);\ngiq_option(4, 105, 156, Node994, 50);\ngiq_option(4, 105, 157, Node999, 50);\ngiq_option(4294967293, 105, 150, Node012, 50);\n","Node002":"gsay_reply(105, 152);\nladdie_answer := 151;\ngiq_option(10, 105, 158, Node013, 50);\ngiq_option(4, 105, 159, Node014, 50);\ngiq_option(4294967293, 105, 150, Node012, 50);\n","Node010":"gsay_reply(105, 160);\ngiq_option(4, 105, 161, Node999, 50);\n","Node011":"gsay_reply(105, 162);\ngiq_option(4, 105, 163, Node999, 50);\n","Node012":"gsay_reply(105, 164);\ngiq_option(4294967293, 105, 165, Node999, 50);\n","Node013":"gsay_reply(105, 150);\ngiq_option(1, 105, 190 + ((obj_is_carrying_obj_pid(dude_obj, 127) > 0) != 0), Node999, 50);\n","Node014":"gsay_reply(105, laddie_answer);\nladdie_answer := 150;\ngiq_option(4, 105, 167, Node995, 50);\ngiq_option(4, 105, 168, Node017, 50);\ngiq_option(4, 105, 169, Node018, 50);\ngiq_option(4, 105, 170, Node999, 50);\n","Node015":"gsay_reply(105, laddie_answer);\nladdie_answer := 150;\nif ((((local_var(1) bwand 1024) != 0) == 0) and global_var(121)) then begin\n  giq_option(4, 105, 171, Node981, 50);\nend\nif ((((local_var(1) bwand 2048) != 0) == 0) and global_var(123)) then begin\n  giq_option(4, 105, 172, Node982, 50);\nend\nif ((((local_var(1) bwand 4096) != 0) == 0) and global_var(124)) then begin\n  giq_option(4, 105, 173, Node983, 50);\nend\nif (((local_var(1) bwand 8192) != 0) == 0) then begin\n  giq_option(4, 105, 174, Node984, 50);\nend\nelse begin\n  giq_option(4, 105, 158, Node016, 50);\nend\ngiq_option(4, 105, 175, Node014, 50);\nif ((((local_var(1) bwand 16384) != 0) == 0) and global_var(122)) then begin\n  giq_option(4, 105, 177, Node985, 50);\nend\ngiq_option(4, 105, 157, Node999, 50);\n","Node016":"gsay_reply(105, 150);\ngiq_option(4, 105, 190 + (obj_is_carrying_obj_pid(dude_obj, 127) > 0), Node999, 50);\n","Node017":"gsay_reply(105, 151);\nladdie_answer := 151;\nif (((local_var(1) bwand 32768) != 0) == 0) then begin\n  giq_option(4, 105, 180, Node986, 50);\nend\nif (((local_var(1) bwand 65536) != 0) == 0) then begin\n  giq_option(4, 105, 181, Node987, 50);\nend\nif (((local_var(1) bwand 131072) != 0) == 0) then begin\n  giq_option(4, 105, 182, Node988, 50);\nend\nif (((local_var(1) bwand 262144) != 0) == 0) then begin\n  giq_option(4, 105, 183, Node989, 50);\nend\ngiq_option(4, 105, 175, Node014, 50);\ngiq_option(4, 105, 157, Node999, 50);\n","Node018":"gsay_reply(105, 186);\nladdie_answer := 151;\ngiq_option(4, 105, 187, Node014, 50);\ngiq_option(4, 105, 157, Node999, 50);\n","Node999":"if (local_var(5) != 0) then begin\n  set_local_var(5, 0);\n  if ((critter_state(self_obj) bwand 1) == 0) then begin\n    if (local_var(4) == 0) then begin\n      set_local_var(4, 6);\n    end\n    set_local_var(5, 0);\n    if (has_trait(1, self_obj, 6) != 0) then begin\n      set_local_var(3, has_trait(1, self_obj, 6));\n    end\n    critter_add_trait(self_obj, 1, 6, 0);\n    party_add(self_obj);\n  end\n  debug_msg(\"mcladdie\" + \": \" + \"join party: \" + obj_name(self_obj) + \"\\n\");\nend\n","Node996":"if (global_var(52) < 0) then begin\n  call Node010;\nend\nelse begin\n  call Node011;\nend\n","Node995":"laddie_answer := 151;\ncall Node015;\n","Node981":"set_local_var(1, local_var(1) bwor 1024);\ncall Node015;\n","Node982":"set_local_var(1, local_var(1) bwor 2048);\ncall Node015;\n","Node983":"set_local_var(1, local_var(1) bwor 4096);\ncall Node015;\n","Node984":"laddie_answer := 151;\nset_local_var(1, local_var(1) bwor 8192);\ncall Node015;\n","Node985":"set_local_var(1, local_var(1) bwor 16384);\ncall Node015;\n","Node986":"set_local_var(1, local_var(1) bwor 32768);\ncall Node015;\n","Node987":"set_local_var(1, local_var(1) bwor 65536);\ncall Node015;\n","Node988":"set_local_var(1, local_var(1) bwor 131072);\ncall Node015;\n","Node989":"set_local_var(1, local_var(1) bwor 262144);\ncall Node015;\n","timed_event_p_proc":"if (fixed_param == 999) then begin\n  if (party_member_obj(obj_pid(self_obj)) != 0) then begin\n    debug_msg(\"mcladdie\" + \": \" + \"abandon party: \" + obj_name(self_obj) + \"\\n\");\n    party_remove(self_obj);\n  end\n  if ((obj_pid(self_obj) == 16777380) or (obj_pid(self_obj) == 16777379)) then begin\n    debug_msg(\"mcladdie\" + \": \" + \"start: set_dude_was_married\" + \"\\n\");\n    if ((global_var(6) != 0) and ((global_var(449) != 0) == 0)) then begin\n      debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED before == \" + global_var(449) + \"\\n\");\n      set_global_var(449, global_var(6));\n      debug_msg(\"mcladdie\" + \": \" + \"   GVAR_PLAYER_WAS_MARRIED after == \" + global_var(449) + \"\\n\");\n      set_global_var(6, 0);\n    end\n    debug_msg(\"mcladdie\" + \": \" + \"finished: set_dude_was_married\" + \"\\n\");\n  end\n  if ((local_var(3) != 4294967295) and (has_trait(1, self_obj, 6) == 0)) then begin\n    critter_add_trait(self_obj, 1, 6, local_var(3));\n    set_local_var(3, 4294967295);\n  end\n  debug_msg(\"mcladdie\" + \": \" + \"\" + obj_name(self_obj) + \" has abandoned the party\" + \"\\n\");\nend\n","use_obj_on_p_proc":"if ((obj_pid(obj_being_used_with) == 39) or (obj_pid(obj_being_used_with) == 38)) then begin\n  script_overrides;\n  display_msg(message_str(14, 20000));\nend\n","Node994":"set_local_var(5, game_time);\nparty_remove(self_obj);\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(name, code, x, y) {
    $('#thecode').show();
    $('#thecode').text("# " + name + "\n" + code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(nodeName, Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>