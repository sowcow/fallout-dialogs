<!DOCTYPE html><html><head><title>jtgengrd</title><meta charset="utf-8" /></head><body><svg width="2041pt" height="1544pt"
 viewBox="0.00 0.00 2040.75 1544.44" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1540.44)">
<title>jtgengrd</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1540.44 2036.75,-1540.44 2036.75,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="445.75" cy="-1481.99" rx="27" ry="18"/>
</g>
<!-- description_p_proc -->
<g id="node2" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="445.75" cy="-1323.9" rx="117.91" ry="30.05"/>
<text text-anchor="middle" x="445.75" y="-1327.85" font-family="Times,serif" font-size="14.00">У него вид опытного</text>
<text text-anchor="middle" x="445.75" y="-1310.6" font-family="Times,serif" font-size="14.00">охранника.</text>
</g>
<!-- start&#45;&gt;description_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;description_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M445.75,-1463.69C445.75,-1440.05 445.75,-1396.94 445.75,-1365.01"/>
<polygon fill="#555555" stroke="#555555" points="449.25,-1365.24 445.75,-1355.24 442.25,-1365.24 449.25,-1365.24"/>
</g>
<!-- critter_p_proc -->
<g id="node3" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="650.75" cy="-1481.99" rx="139.65" ry="54.45"/>
<text text-anchor="middle" x="650.75" y="-1503.19" font-family="Times,serif" font-size="14.00">Сейчас у тебя будут</text>
<text text-anchor="middle" x="650.75" y="-1485.94" font-family="Times,serif" font-size="14.00">неприятности...</text>
<text text-anchor="middle" x="650.75" y="-1468.69" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="650.75" y="-1451.44" font-family="Times,serif" font-size="14.00">Эй! Ты что это делаешь?</text>
</g>
<!-- destroy_p_proc -->
<g id="node4" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1144.75" cy="-1481.99" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node5" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1371.75" cy="-1481.99" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node6" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1520.75" cy="-1481.99" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node7" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1631.75" cy="-1481.99" rx="27" ry="18"/>
</g>
<!-- get_reaction -->
<g id="node8" class="node">
<title>get_reaction</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1233.75" cy="-1213.38" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;get_reaction -->
<g id="edge2" class="edge">
<title>talk_p_proc&#45;&gt;get_reaction</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1616.72,-1466.78C1602.47,-1454.21 1579.85,-1436.51 1556.75,-1427.54 1493.3,-1402.93 1300.54,-1438.99 1252.75,-1390.54 1214.11,-1351.38 1220.18,-1280.96 1227.35,-1242.07"/>
<polygon fill="#555555" stroke="#555555" points="1230.93,-1243.02 1229.47,-1232.53 1224.07,-1241.65 1230.93,-1243.02"/>
</g>
<!-- JTGenGrd18 -->
<g id="node9" class="node">
<title>JTGenGrd18</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1053.75" cy="-1323.9" rx="151.85" ry="66.64"/>
<text text-anchor="middle" x="1053.75" y="-1353.72" font-family="Times,serif" font-size="14.00">Все, хватит</text>
<text text-anchor="middle" x="1053.75" y="-1336.47" font-family="Times,serif" font-size="14.00">предупреждений. Уходи из</text>
<text text-anchor="middle" x="1053.75" y="-1319.22" font-family="Times,serif" font-size="14.00">города немедленно и не</text>
<text text-anchor="middle" x="1053.75" y="-1301.97" font-family="Times,serif" font-size="14.00">возвращайся, или будут</text>
<text text-anchor="middle" x="1053.75" y="-1284.72" font-family="Times,serif" font-size="14.00">последствия!</text>
</g>
<!-- talk_p_proc&#45;&gt;JTGenGrd18 -->
<g id="edge3" class="edge">
<title>talk_p_proc&#45;&gt;JTGenGrd18</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1617.13,-1466.66C1602.99,-1453.82 1580.29,-1435.77 1556.75,-1427.54 1485.95,-1402.8 1292.17,-1429 1219.75,-1409.54 1196.75,-1403.37 1173.25,-1393.74 1151.45,-1383.17"/>
<polygon fill="#555555" stroke="#555555" points="1153.4,-1379.73 1142.88,-1378.42 1150.28,-1386 1153.4,-1379.73"/>
</g>
<!-- JTGenGrd00 -->
<g id="node10" class="node">
<title>JTGenGrd00</title>
<ellipse fill="#ffffff" stroke="#000000" cx="732.75" cy="-1323.9" rx="150.79" ry="54.45"/>
<text text-anchor="middle" x="732.75" y="-1345.1" font-family="Times,serif" font-size="14.00">Лучше убери это. У нас</text>
<text text-anchor="middle" x="732.75" y="-1327.85" font-family="Times,serif" font-size="14.00">мирный город, дружище.</text>
<text text-anchor="middle" x="732.75" y="-1310.6" font-family="Times,serif" font-size="14.00">Хотелось бы сохранить его</text>
<text text-anchor="middle" x="732.75" y="-1293.35" font-family="Times,serif" font-size="14.00">таким.</text>
</g>
<!-- talk_p_proc&#45;&gt;JTGenGrd00 -->
<g id="edge4" class="edge">
<title>talk_p_proc&#45;&gt;JTGenGrd00</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1617.13,-1466.66C1602.99,-1453.82 1580.29,-1435.77 1556.75,-1427.54 1485.1,-1402.53 1291.51,-1413.77 1215.75,-1409.54 1072.17,-1401.53 1032.96,-1422.49 892.75,-1390.54 872.93,-1386.03 852.4,-1379.31 832.93,-1371.87"/>
<polygon fill="#555555" stroke="#555555" points="834.44,-1368.31 823.85,-1367.92 831.88,-1374.83 834.44,-1368.31"/>
</g>
<!-- JTGenGrd06 -->
<g id="node11" class="node">
<title>JTGenGrd06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1370.75" cy="-1323.9" rx="109.42" ry="30.05"/>
<text text-anchor="middle" x="1370.75" y="-1327.85" font-family="Times,serif" font-size="14.00">Эй ты! Чего ты тут</text>
<text text-anchor="middle" x="1370.75" y="-1310.6" font-family="Times,serif" font-size="14.00">вынюхиваешь?</text>
</g>
<!-- talk_p_proc&#45;&gt;JTGenGrd06 -->
<g id="edge5" class="edge">
<title>talk_p_proc&#45;&gt;JTGenGrd06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1614.56,-1467.88C1599.6,-1456.69 1577.18,-1440.4 1556.75,-1427.54 1555.96,-1427.05 1482.31,-1386.42 1427.93,-1356.43"/>
<polygon fill="#555555" stroke="#555555" points="1429.82,-1352.92 1419.37,-1351.16 1426.44,-1359.05 1429.82,-1352.92"/>
</g>
<!-- JTGenGrd19 -->
<g id="node12" class="node">
<title>JTGenGrd19</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1650.75" cy="-1323.9" rx="152.38" ry="54.45"/>
<text text-anchor="middle" x="1650.75" y="-1345.1" font-family="Times,serif" font-size="14.00">Охранник всматривается в</text>
<text text-anchor="middle" x="1650.75" y="-1327.85" font-family="Times,serif" font-size="14.00">ваше лицо. Вы видите, что</text>
<text text-anchor="middle" x="1650.75" y="-1310.6" font-family="Times,serif" font-size="14.00">он узнал вас, и он</text>
<text text-anchor="middle" x="1650.75" y="-1293.35" font-family="Times,serif" font-size="14.00">потянулся к оружию.</text>
</g>
<!-- talk_p_proc&#45;&gt;JTGenGrd19 -->
<g id="edge6" class="edge">
<title>talk_p_proc&#45;&gt;JTGenGrd19</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1633.85,-1463.69C1636.04,-1445.68 1639.61,-1416.38 1642.9,-1389.33"/>
<polygon fill="#555555" stroke="#555555" points="1646.46,-1390.06 1644.2,-1379.71 1639.51,-1389.21 1646.46,-1390.06"/>
</g>
<!-- JTGenGrd09 -->
<g id="node13" class="node">
<title>JTGenGrd09</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1847.75" cy="-1323.9" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;JTGenGrd09 -->
<g id="edge7" class="edge">
<title>talk_p_proc&#45;&gt;JTGenGrd09</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1638.96,-1464.34C1644.97,-1452.37 1654.68,-1436.77 1667.75,-1427.54 1721.73,-1389.43 1759.56,-1431.08 1811.75,-1390.54 1824.22,-1380.86 1832.96,-1365.57 1838.71,-1352.19"/>
<polygon fill="#555555" stroke="#555555" points="1842.31,-1353.6 1842.68,-1343.01 1835.78,-1351.05 1842.31,-1353.6"/>
</g>
<!-- JTGenGrd16 -->
<g id="node14" class="node">
<title>JTGenGrd16</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1919.75" cy="-1323.9" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;JTGenGrd16 -->
<g id="edge8" class="edge">
<title>talk_p_proc&#45;&gt;JTGenGrd16</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1638.58,-1464.22C1644.46,-1452.02 1654.15,-1436.19 1667.75,-1427.54 1708.83,-1401.4 1844.33,-1419.14 1883.75,-1390.54 1896.74,-1381.12 1905.58,-1365.51 1911.24,-1351.87"/>
<polygon fill="#555555" stroke="#555555" points="1914.72,-1353.56 1914.97,-1342.97 1908.17,-1351.09 1914.72,-1353.56"/>
</g>
<!-- JTGenGrd20 -->
<g id="node15" class="node">
<title>JTGenGrd20</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1991.75" cy="-1323.9" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;JTGenGrd20 -->
<g id="edge9" class="edge">
<title>talk_p_proc&#45;&gt;JTGenGrd20</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1638.52,-1464.11C1644.36,-1451.86 1654.04,-1436 1667.75,-1427.54 1722.66,-1393.66 1902.43,-1426.9 1955.75,-1390.54 1969.1,-1381.44 1977.97,-1365.7 1983.57,-1351.91"/>
<polygon fill="#555555" stroke="#555555" points="1987.08,-1353.49 1987.23,-1342.89 1980.51,-1351.09 1987.08,-1353.49"/>
</g>
<!-- ReactToLevel -->
<g id="node34" class="node">
<title>ReactToLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="771.75" cy="-457.27" rx="27" ry="18"/>
</g>
<!-- get_reaction&#45;&gt;ReactToLevel -->
<g id="edge34" class="edge">
<title>get_reaction&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1235.79,-1195C1245.48,-1109.31 1283.87,-732.14 1219.75,-639.49 1123.01,-499.73 898.83,-467.68 809.48,-460.39"/>
<polygon fill="#555555" stroke="#555555" points="810.02,-456.84 799.78,-459.58 809.49,-463.82 810.02,-456.84"/>
</g>
<!-- DownReact -->
<g id="node18" class="node">
<title>DownReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="644.75" cy="-857.43" rx="27" ry="18"/>
</g>
<!-- JTGenGrd00&#45;&gt;DownReact -->
<g id="edge10" class="edge">
<title>JTGenGrd00&#45;&gt;DownReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M730.79,-1269.2C729.88,-1244.34 728.77,-1214.42 727.75,-1187.5 725.59,-1131.1 736.32,-1115.39 722.75,-1060.61 712.35,-1018.64 696.61,-1013.08 680.75,-972.86 669.26,-943.72 658.84,-909.33 652.2,-885.91"/>
<polygon fill="#555555" stroke="#555555" points="655.32,-885.05 649.26,-876.36 648.58,-886.93 655.32,-885.05"/>
</g>
<!-- JTGenGrd01 -->
<g id="node19" class="node">
<title>JTGenGrd01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="158.75" cy="-1115.06" rx="158.75" ry="42.25"/>
<text text-anchor="middle" x="158.75" y="-1127.63" font-family="Times,serif" font-size="14.00">Оружие. Киллиан ничего не</text>
<text text-anchor="middle" x="158.75" y="-1110.38" font-family="Times,serif" font-size="14.00">отнимет у тебя, но лучше</text>
<text text-anchor="middle" x="158.75" y="-1093.13" font-family="Times,serif" font-size="14.00">спрячь его подальше.</text>
</g>
<!-- JTGenGrd00&#45;&gt;JTGenGrd01 -->
<g id="edge11" class="edge">
<title>JTGenGrd00&#45;&gt;JTGenGrd01</title>
<path fill="none" stroke="#5f0099" d="M641.14,-1280.32C619.13,-1271.5 595.42,-1263.11 572.75,-1257.25 506.03,-1240.02 484.98,-1258.26 418.75,-1239.25 353.23,-1220.46 283.69,-1186.7 233.02,-1159.26"/>
<polygon fill="#5f0099" stroke="#5f0099" points="234.92,-1155.77 224.47,-1154.04 231.57,-1161.91 234.92,-1155.77"/>
<text text-anchor="middle" x="462.25" y="-1208.7" font-family="Times,serif" font-size="14.00" fill="#5f0099">Что убрать?</text>
</g>
<!-- JTGenGrd00a -->
<g id="node20" class="node">
<title>JTGenGrd00a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="686.75" cy="-1115.06" rx="27" ry="18"/>
</g>
<!-- JTGenGrd00&#45;&gt;JTGenGrd00a -->
<g id="edge12" class="edge">
<title>JTGenGrd00&#45;&gt;JTGenGrd00a</title>
<path fill="none" stroke="#009932" d="M630.22,-1283.77C612.25,-1272.2 595.91,-1257.57 585.25,-1239.25 573.67,-1219.38 571.3,-1205.8 585.25,-1187.5 603.55,-1163.49 626.23,-1187.12 650.75,-1169.5 660.49,-1162.5 668.39,-1151.99 674.28,-1142.13"/>
<polygon fill="#009932" stroke="#009932" points="677.74,-1144.1 679.49,-1133.65 671.6,-1140.73 677.74,-1144.1"/>
<text text-anchor="middle" x="657" y="-1217.33" font-family="Times,serif" font-size="14.00" fill="#009932">Не командуй мной,</text>
<text text-anchor="middle" x="657" y="-1200.08" font-family="Times,serif" font-size="14.00" fill="#009932">неудачник.</text>
</g>
<!-- JTGenGrdEnd -->
<g id="node21" class="node">
<title>JTGenGrdEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1011.75" cy="-18" rx="27" ry="18"/>
</g>
<!-- JTGenGrd00&#45;&gt;JTGenGrdEnd -->
<g id="edge13" class="edge">
<title>JTGenGrd00&#45;&gt;JTGenGrdEnd</title>
<path fill="none" stroke="#990600" d="M829.04,-1281.61C849.9,-1273.17 871.94,-1264.62 892.75,-1257.25 918.99,-1247.96 928.38,-1252.72 952.75,-1239.25 1025.58,-1199.01 1093.75,-1199.28 1093.75,-1116.06 1093.75,-1116.06 1093.75,-1116.06 1093.75,-154.89 1093.75,-107.98 1090.52,-91.8 1062.75,-54 1057.26,-46.54 1049.68,-40.13 1042.04,-34.91"/>
<polygon fill="#990600" stroke="#990600" points="1044.5,-31.7 1034.17,-29.35 1040.78,-37.63 1044.5,-31.7"/>
<text text-anchor="middle" x="1156.37" y="-677.07" font-family="Times,serif" font-size="14.00" fill="#990600">Делай свое дело.</text>
</g>
<!-- JTGenGrd00b -->
<g id="node22" class="node">
<title>JTGenGrd00b</title>
<ellipse fill="#ffffff" stroke="#000000" cx="796.75" cy="-1115.06" rx="27" ry="18"/>
</g>
<!-- JTGenGrd00&#45;&gt;JTGenGrd00b -->
<g id="edge14" class="edge">
<title>JTGenGrd00&#45;&gt;JTGenGrd00b</title>
<path fill="none" stroke="#002799" d="M749.31,-1269.36C761.83,-1228.89 778.5,-1175.01 788.38,-1143.08"/>
<polygon fill="#002799" stroke="#002799" points="791.96,-1144.35 791.58,-1133.77 785.28,-1142.28 791.96,-1144.35"/>
<text text-anchor="middle" x="861.75" y="-1217.33" font-family="Times,serif" font-size="14.00" fill="#002799">Логично. Вообще, у вас</text>
<text text-anchor="middle" x="861.75" y="-1200.08" font-family="Times,serif" font-size="14.00" fill="#002799">можно носить оружие?</text>
</g>
<!-- JTGenGrd05 -->
<g id="node23" class="node">
<title>JTGenGrd05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="488.75" cy="-1115.06" rx="152.91" ry="54.45"/>
<text text-anchor="middle" x="488.75" y="-1136.26" font-family="Times,serif" font-size="14.00">Эй ты, убери оружие. Ты</text>
<text text-anchor="middle" x="488.75" y="-1119.01" font-family="Times,serif" font-size="14.00">что, головой страдаешь? Я</text>
<text text-anchor="middle" x="488.75" y="-1101.76" font-family="Times,serif" font-size="14.00">сказал: никакого оружия в</text>
<text text-anchor="middle" x="488.75" y="-1084.51" font-family="Times,serif" font-size="14.00">городе.</text>
</g>
<!-- JTGenGrd00&#45;&gt;JTGenGrd05 -->
<g id="edge15" class="edge">
<title>JTGenGrd00&#45;&gt;JTGenGrd05</title>
<path fill="none" stroke="#549900" d="M632.09,-1282.97C589.46,-1265.36 547.81,-1246.92 540.25,-1239.25 524.16,-1222.94 512.82,-1200.86 504.95,-1179.9"/>
<polygon fill="#549900" stroke="#549900" points="508,-1179 501.37,-1170.73 501.39,-1181.33 508,-1179"/>
<text text-anchor="middle" x="556.5" y="-1208.7" font-family="Times,serif" font-size="14.00" fill="#549900">Ого.</text>
</g>
<!-- JTGenGrd07 -->
<g id="node31" class="node">
<title>JTGenGrd07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1532.75" cy="-857.43" rx="134.88" ry="42.25"/>
<text text-anchor="middle" x="1532.75" y="-870" font-family="Times,serif" font-size="14.00">Не знаю, что у тебя на</text>
<text text-anchor="middle" x="1532.75" y="-852.75" font-family="Times,serif" font-size="14.00">уме, но лучше не делай</text>
<text text-anchor="middle" x="1532.75" y="-835.5" font-family="Times,serif" font-size="14.00">глупостей.</text>
</g>
<!-- JTGenGrd06&#45;&gt;JTGenGrd07 -->
<g id="edge28" class="edge">
<title>JTGenGrd06&#45;&gt;JTGenGrd07</title>
<path fill="none" stroke="#005a99" d="M1412.49,-1295.76C1434.66,-1282.42 1462.83,-1267.13 1489.75,-1257.25 1527.63,-1243.35 1553.19,-1270.49 1578.75,-1239.25 1656.38,-1144.34 1598.55,-988.95 1559.95,-909.18"/>
<polygon fill="#005a99" stroke="#005a99" points="1562.67,-907.8 1555.11,-900.37 1556.39,-910.89 1562.67,-907.8"/>
<text text-anchor="middle" x="1647" y="-1110.38" font-family="Times,serif" font-size="14.00" fill="#005a99">Ничего.</text>
</g>
<!-- JTGenGrd06&#45;&gt;JTGenGrd07 -->
<g id="edge30" class="edge">
<title>JTGenGrd06&#45;&gt;JTGenGrd07</title>
<path fill="none" stroke="#7f0099" d="M1359.82,-1293.77C1342.95,-1244.06 1315.59,-1140.49 1346.75,-1060.61 1371.82,-996.32 1427.96,-940.12 1472.04,-903.4"/>
<polygon fill="#7f0099" stroke="#7f0099" points="1473.89,-905.6 1479.4,-896.55 1469.45,-900.18 1473.89,-905.6"/>
<text text-anchor="middle" x="1366.25" y="-1110.38" font-family="Times,serif" font-size="14.00" fill="#7f0099">Э&#45;э&#45;э.</text>
</g>
<!-- JTGenGrd06a -->
<g id="node32" class="node">
<title>JTGenGrd06a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1421.75" cy="-1115.06" rx="27" ry="18"/>
</g>
<!-- JTGenGrd06&#45;&gt;JTGenGrd06a -->
<g id="edge29" class="edge">
<title>JTGenGrd06&#45;&gt;JTGenGrd06a</title>
<path fill="none" stroke="#879900" d="M1366.04,-1293.59C1362.69,-1265.62 1360.52,-1222.66 1371.75,-1187.5 1375.01,-1177.28 1389.99,-1156.48 1402.71,-1139.94"/>
<polygon fill="#879900" stroke="#879900" points="1406.07,-1142.32 1409.45,-1132.29 1400.55,-1138.02 1406.07,-1142.32"/>
<text text-anchor="middle" x="1475.25" y="-1225.95" font-family="Times,serif" font-size="14.00" fill="#879900">Я не вынюхиваю. Просто не</text>
<text text-anchor="middle" x="1475.25" y="-1208.7" font-family="Times,serif" font-size="14.00" fill="#879900">люблю привлекать к себе</text>
<text text-anchor="middle" x="1475.25" y="-1191.45" font-family="Times,serif" font-size="14.00" fill="#879900">внимание.</text>
</g>
<!-- timed_event_p_proc -->
<g id="node16" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1818.75" cy="-1481.99" rx="142.31" ry="54.45"/>
<text text-anchor="middle" x="1818.75" y="-1503.19" font-family="Times,serif" font-size="14.00">Убери оружие, или будут</text>
<text text-anchor="middle" x="1818.75" y="-1485.94" font-family="Times,serif" font-size="14.00">последствия!</text>
<text text-anchor="middle" x="1818.75" y="-1468.69" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1818.75" y="-1451.44" font-family="Times,serif" font-size="14.00">Вы, Черепа, арестованы!</text>
</g>
<!-- damage_p_proc -->
<g id="node17" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2005.75" cy="-1481.99" rx="27" ry="18"/>
</g>
<!-- DownReact&#45;&gt;ReactToLevel -->
<g id="edge36" class="edge">
<title>DownReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M649.35,-839.53C655.66,-817 667.68,-776.02 680.75,-741.99 701.84,-687.03 717.08,-677.32 735.75,-621.49 751.3,-574.96 762.01,-518.7 767.49,-485.85"/>
<polygon fill="#555555" stroke="#555555" points="771.06,-486.7 769.21,-476.27 764.15,-485.57 771.06,-486.7"/>
</g>
<!-- JTGenGrd02 -->
<g id="node24" class="node">
<title>JTGenGrd02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="571.75" cy="-457.27" rx="154.5" ry="164.23"/>
<text text-anchor="middle" x="571.75" y="-556.09" font-family="Times,serif" font-size="14.00">Ты лучше веди себя</text>
<text text-anchor="middle" x="571.75" y="-538.84" font-family="Times,serif" font-size="14.00">прилично, поскольку таков</text>
<text text-anchor="middle" x="571.75" y="-521.59" font-family="Times,serif" font-size="14.00">закон, а закон</text>
<text text-anchor="middle" x="571.75" y="-504.34" font-family="Times,serif" font-size="14.00">представляю я. Убери</text>
<text text-anchor="middle" x="571.75" y="-487.09" font-family="Times,serif" font-size="14.00">оружие, не вздумай</text>
<text text-anchor="middle" x="571.75" y="-469.84" font-family="Times,serif" font-size="14.00">доставать его, если это</text>
<text text-anchor="middle" x="571.75" y="-452.59" font-family="Times,serif" font-size="14.00">не для самозащиты. И у</text>
<text text-anchor="middle" x="571.75" y="-435.34" font-family="Times,serif" font-size="14.00">тебя с нами не будет</text>
<text text-anchor="middle" x="571.75" y="-418.09" font-family="Times,serif" font-size="14.00">проблем. Нарушишь закон,</text>
<text text-anchor="middle" x="571.75" y="-400.84" font-family="Times,serif" font-size="14.00">и мы отправим тебя в</text>
<text text-anchor="middle" x="571.75" y="-383.59" font-family="Times,serif" font-size="14.00">пустоши, где законов нет.</text>
<text text-anchor="middle" x="571.75" y="-366.34" font-family="Times,serif" font-size="14.00">Может живым, может</text>
<text text-anchor="middle" x="571.75" y="-349.09" font-family="Times,serif" font-size="14.00">мертвым.</text>
</g>
<!-- JTGenGrd01&#45;&gt;JTGenGrd02 -->
<g id="edge20" class="edge">
<title>JTGenGrd01&#45;&gt;JTGenGrd02</title>
<path fill="none" stroke="#990080" d="M259.3,-1082.01C316.74,-1063.61 377.63,-1043.88 378.75,-1042.61 468.3,-940.44 391.9,-871.09 434.25,-741.99 448.8,-697.6 468.94,-651.27 489.32,-609.23"/>
<polygon fill="#990080" stroke="#990080" points="492.83,-611.01 494.08,-600.48 486.54,-607.93 492.83,-611.01"/>
<text text-anchor="middle" x="501.5" y="-852.75" font-family="Times,serif" font-size="14.00" fill="#990080">Прошу прощения.</text>
</g>
<!-- JTGenGrd01a -->
<g id="node27" class="node">
<title>JTGenGrd01a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="207.75" cy="-857.43" rx="27" ry="18"/>
</g>
<!-- JTGenGrd01&#45;&gt;JTGenGrd01a -->
<g id="edge21" class="edge">
<title>JTGenGrd01&#45;&gt;JTGenGrd01a</title>
<path fill="none" stroke="#009985" d="M166.73,-1072.42C176.78,-1019.97 193.78,-931.28 202.4,-886.33"/>
<polygon fill="#009985" stroke="#009985" points="206,-887.12 204.45,-876.64 199.13,-885.8 206,-887.12"/>
<text text-anchor="middle" x="278.75" y="-1029.31" font-family="Times,serif" font-size="14.00" fill="#009985">С какой стати? Я никогда</text>
<text text-anchor="middle" x="278.75" y="-1012.06" font-family="Times,serif" font-size="14.00" fill="#009985">не прячу оружие, и в этот</text>
<text text-anchor="middle" x="278.75" y="-994.81" font-family="Times,serif" font-size="14.00" fill="#009985">раз не стану!</text>
</g>
<!-- JTGenGrd00a&#45;&gt;DownReact -->
<g id="edge16" class="edge">
<title>JTGenGrd00a&#45;&gt;DownReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M683.92,-1096.89C676.8,-1053.5 658.01,-939.16 649.3,-886.15"/>
<polygon fill="#555555" stroke="#555555" points="652.63,-885.82 647.55,-876.52 645.72,-886.96 652.63,-885.82"/>
</g>
<!-- JTGenGrd00a&#45;&gt;JTGenGrd02 -->
<g id="edge17" class="edge">
<title>JTGenGrd00a&#45;&gt;JTGenGrd02</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M676.89,-1098.29C657.7,-1067.26 616.51,-999.04 608.75,-972.86 576.1,-862.77 566.88,-733.88 565.8,-632.64"/>
<polygon fill="#555555" stroke="#555555" points="569.29,-632.66 565.71,-622.69 562.29,-632.71 569.29,-632.66"/>
</g>
<!-- UpReact -->
<g id="node25" class="node">
<title>UpReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="716.75" cy="-857.43" rx="27" ry="18"/>
</g>
<!-- JTGenGrd00b&#45;&gt;UpReact -->
<g id="edge18" class="edge">
<title>JTGenGrd00b&#45;&gt;UpReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M791.5,-1097.28C777.96,-1054.04 741.79,-938.46 725.23,-885.55"/>
<polygon fill="#555555" stroke="#555555" points="728.34,-884.76 722.01,-876.26 721.66,-886.85 728.34,-884.76"/>
</g>
<!-- JTGenGrd04 -->
<g id="node26" class="node">
<title>JTGenGrd04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="913.75" cy="-857.43" rx="152.38" ry="115.44"/>
<text text-anchor="middle" x="913.75" y="-921.75" font-family="Times,serif" font-size="14.00">Хорошо, что спрашиваешь.</text>
<text text-anchor="middle" x="913.75" y="-904.5" font-family="Times,serif" font-size="14.00">В городе нельзя</text>
<text text-anchor="middle" x="913.75" y="-887.25" font-family="Times,serif" font-size="14.00">размахивать оружием</text>
<text text-anchor="middle" x="913.75" y="-870" font-family="Times,serif" font-size="14.00">направо и налево. Носить</text>
<text text-anchor="middle" x="913.75" y="-852.75" font-family="Times,serif" font-size="14.00">его с собой разрешено, но</text>
<text text-anchor="middle" x="913.75" y="-835.5" font-family="Times,serif" font-size="14.00">только для самообороны.</text>
<text text-anchor="middle" x="913.75" y="-818.25" font-family="Times,serif" font-size="14.00">Не лезь в драку, не</text>
<text text-anchor="middle" x="913.75" y="-801" font-family="Times,serif" font-size="14.00">цепляйся ни к кому.</text>
<text text-anchor="middle" x="913.75" y="-783.75" font-family="Times,serif" font-size="14.00">Хорошего дня.</text>
</g>
<!-- JTGenGrd00b&#45;&gt;JTGenGrd04 -->
<g id="edge19" class="edge">
<title>JTGenGrd00b&#45;&gt;JTGenGrd04</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M804.24,-1097.68C815.57,-1072.94 838.02,-1023.88 859.66,-976.6"/>
<polygon fill="#555555" stroke="#555555" points="863.14,-978.41 864.12,-967.86 856.77,-975.5 863.14,-978.41"/>
</g>
<!-- JTGenGrd02b -->
<g id="node29" class="node">
<title>JTGenGrd02b</title>
<ellipse fill="#ffffff" stroke="#000000" cx="681.75" cy="-155.89" rx="140.71" ry="66.64"/>
<text text-anchor="middle" x="681.75" y="-185.72" font-family="Times,serif" font-size="14.00">Разумеется. Я не</text>
<text text-anchor="middle" x="681.75" y="-168.47" font-family="Times,serif" font-size="14.00">сомневаюсь в этом, сэр.</text>
<text text-anchor="middle" x="681.75" y="-151.22" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="681.75" y="-133.97" font-family="Times,serif" font-size="14.00">Разумеется. Я не</text>
<text text-anchor="middle" x="681.75" y="-116.72" font-family="Times,serif" font-size="14.00">сомневаюсь в этом, мэм.</text>
</g>
<!-- JTGenGrd02&#45;&gt;JTGenGrd02b -->
<g id="edge24" class="edge">
<title>JTGenGrd02&#45;&gt;JTGenGrd02b</title>
<path fill="none" stroke="#995800" d="M627.71,-303.95C636.88,-279.01 646,-254.17 654.08,-232.19"/>
<polygon fill="#995800" stroke="#995800" points="657.67,-233.57 657.83,-222.98 651.1,-231.16 657.67,-233.57"/>
<text text-anchor="middle" x="715.75" y="-261.74" font-family="Times,serif" font-size="14.00" fill="#995800">Ладно, раз ты так</text>
<text text-anchor="middle" x="715.75" y="-244.49" font-family="Times,serif" font-size="14.00" fill="#995800">настаиваешь.</text>
</g>
<!-- JTGenGrd02a -->
<g id="node30" class="node">
<title>JTGenGrd02a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="867.75" cy="-155.89" rx="27" ry="18"/>
</g>
<!-- JTGenGrd02&#45;&gt;JTGenGrd02a -->
<g id="edge25" class="edge">
<title>JTGenGrd02&#45;&gt;JTGenGrd02a</title>
<path fill="none" stroke="#2c0099" d="M678.05,-337.57C696.21,-321.22 715.72,-305.72 735.75,-293.04 755.7,-280.41 766.23,-288.34 785.75,-275.04 811.38,-257.56 813.96,-247.96 831.75,-222.54 840.42,-210.14 848.65,-195.45 855.04,-183.11"/>
<polygon fill="#2c0099" stroke="#2c0099" points="858.57,-184.9 859.95,-174.4 852.32,-181.74 858.57,-184.9"/>
<text text-anchor="middle" x="909" y="-261.74" font-family="Times,serif" font-size="14.00" fill="#2c0099">Засунь&#45;ка ты свой закон</text>
<text text-anchor="middle" x="909" y="-244.49" font-family="Times,serif" font-size="14.00" fill="#2c0099">знаешь куда?</text>
</g>
<!-- UpReact&#45;&gt;ReactToLevel -->
<g id="edge35" class="edge">
<title>UpReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M719.14,-839.06C727.78,-776.56 757.32,-562.73 767.92,-485.97"/>
<polygon fill="#555555" stroke="#555555" points="771.49,-486.66 769.4,-476.27 764.56,-485.7 771.49,-486.66"/>
</g>
<!-- JTGenGrd01a&#45;&gt;JTGenGrd02 -->
<g id="edge23" class="edge">
<title>JTGenGrd01a&#45;&gt;JTGenGrd02</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M221.32,-841.4C253.24,-806.1 335.55,-715.13 404.75,-639.49 421.42,-621.26 439.07,-602.03 456.41,-583.18"/>
<polygon fill="#555555" stroke="#555555" points="458.62,-585.86 462.82,-576.13 453.47,-581.12 458.62,-585.86"/>
</g>
<!-- JTGenGrd03 -->
<g id="node28" class="node">
<title>JTGenGrd03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="207.75" cy="-457.27" rx="150.79" ry="30.05"/>
<text text-anchor="middle" x="207.75" y="-461.22" font-family="Times,serif" font-size="14.00">Хм, ладно. Но вообще будь</text>
<text text-anchor="middle" x="207.75" y="-443.97" font-family="Times,serif" font-size="14.00">поосторожнее.</text>
</g>
<!-- JTGenGrd01a&#45;&gt;JTGenGrd03 -->
<g id="edge22" class="edge">
<title>JTGenGrd01a&#45;&gt;JTGenGrd03</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M207.75,-839.06C207.75,-779.69 207.75,-583.73 207.75,-498.47"/>
<polygon fill="#555555" stroke="#555555" points="211.25,-498.68 207.75,-488.68 204.25,-498.68 211.25,-498.68"/>
</g>
<!-- JTGenGrd02b&#45;&gt;JTGenGrdEnd -->
<g id="edge26" class="edge">
<title>JTGenGrd02b&#45;&gt;JTGenGrdEnd</title>
<path fill="none" stroke="#019900" d="M737.58,-94.44C754.87,-79 774.95,-63.96 796,-54 853.73,-26.67 928.83,-20.15 973.49,-18.89"/>
<polygon fill="#019900" stroke="#019900" points="973.5,-22.37 983.43,-18.67 973.36,-15.37 973.5,-22.37"/>
<text text-anchor="middle" x="852.62" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#019900">Спасибо. Пока.</text>
</g>
<!-- JTGenGrd02b&#45;&gt;JTGenGrdEnd -->
<g id="edge27" class="edge">
<title>JTGenGrd02b&#45;&gt;JTGenGrdEnd</title>
<path fill="none" stroke="#99002d" d="M781.22,-108.39C797.89,-101.46 815.16,-94.79 831.75,-89.25 864.67,-78.25 875.13,-83.12 907.75,-71.25 934.02,-61.69 962.27,-47.2 982.69,-35.9"/>
<polygon fill="#99002d" stroke="#99002d" points="984.03,-38.6 991.04,-30.65 980.61,-32.5 984.03,-38.6"/>
<text text-anchor="middle" x="1002.62" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#99002d">Спасибо. Пока.</text>
</g>
<!-- JTGenGrd06a&#45;&gt;JTGenGrd07 -->
<g id="edge32" class="edge">
<title>JTGenGrd06a&#45;&gt;JTGenGrd07</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1429.03,-1097.28C1445.35,-1059.69 1485.41,-967.44 1510.69,-909.21"/>
<polygon fill="#555555" stroke="#555555" points="1514.15,-911.03 1514.93,-900.46 1507.73,-908.24 1514.15,-911.03"/>
</g>
<!-- JTGenGrd08 -->
<g id="node33" class="node">
<title>JTGenGrd08</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1369.75" cy="-681.74" rx="120.56" ry="42.25"/>
<text text-anchor="middle" x="1369.75" y="-694.32" font-family="Times,serif" font-size="14.00">Ну, э&#45;э, ок. Хорошо.</text>
<text text-anchor="middle" x="1369.75" y="-677.07" font-family="Times,serif" font-size="14.00">Просто держи себя в</text>
<text text-anchor="middle" x="1369.75" y="-659.82" font-family="Times,serif" font-size="14.00">рамках.</text>
</g>
<!-- JTGenGrd06a&#45;&gt;JTGenGrd08 -->
<g id="edge31" class="edge">
<title>JTGenGrd06a&#45;&gt;JTGenGrd08</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1416.88,-1097.28C1409.47,-1071 1395.52,-1018.43 1388.75,-972.86 1376.48,-890.31 1372.13,-793.37 1370.59,-735.06"/>
<polygon fill="#555555" stroke="#555555" points="1374.07,-735.2 1370.33,-725.28 1367.07,-735.37 1374.07,-735.2"/>
</g>
<!-- JTGenGrd08&#45;&gt;JTGenGrdEnd -->
<g id="edge33" class="edge">
<title>JTGenGrd08&#45;&gt;JTGenGrdEnd</title>
<path fill="none" stroke="#009952" d="M1364.03,-639.17C1346.64,-528.31 1284.32,-222.57 1107.75,-54 1091.61,-38.6 1068.17,-29.88 1048.49,-25"/>
<polygon fill="#009952" stroke="#009952" points="1049.54,-21.43 1039.02,-22.67 1048.02,-28.26 1049.54,-21.43"/>
<text text-anchor="middle" x="1313.62" y="-253.11" font-family="Times,serif" font-size="14.00" fill="#009952">Спасибо. Пока.</text>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 3) then begin\n  call description_p_proc;\nend\n","critter_p_proc":"if (GVar1) then begin\n  GVar1 := 0;\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nelse begin\n  if ((cur_map_index == 12) or (cur_map_index == 10)) then begin\n    if (tile_num(self_obj) != local_var(5)) then begin\n      animate_move_obj_to_tile(self_obj, local_var(5), 0);\n    end\n    if (obj_can_see_obj(self_obj, dude_obj) and (tile_distance_objs(self_obj, dude_obj) < 12)) then begin\n      if (global_var(247) == 1) then begin\n        float_msg(self_obj, message_str(37, 138), 2);\n        GVar1 := 1;\n      end\n      else begin\n        if ((obj_item_subtype(critter_inven_obj(dude_obj, 1)) == 3) or (obj_item_subtype(critter_inven_obj(dude_obj, 2)) == 3) and (local_var(4) == 0) and (map_var(2) == 0) and (global_var(36) == 0) and (global_var(104) == 0) and (cur_map_index == 12)) then begin\n          if (not(weapon_checked)) then begin\n            weapon_checked := 1;\n            add_timer_event(self_obj, game_ticks(10), 1);\n            dialogue_system_enter;\n          end\n        end\n        else begin\n          if (using_skill(dude_obj, 8) and not(sneak_checked)) then begin\n            GVar3 := 1;\n            sneak_checked := 1;\n            add_timer_event(self_obj, game_ticks(5), 2);\n            dialogue_system_enter;\n          end\n          else begin\n            if (cur_map_index == 12) then begin\n              if ((map_var(8) == 1) and (tile_distance_objs(self_obj, dude_obj) < 8)) then begin\n                set_map_var(8, 0);\n                float_msg(self_obj, message_str(37, 136), 2);\n                if (GVar4) then begin\n                  GVar1 := 1;\n                end\n                else begin\n                  GVar4 := 1;\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  else begin\n    if (cur_map_index == 11) then begin\n      if (map_var(2) == 2) then begin\n        if (GVar5 != 0) then begin\n          if (tile_distance(tile_num(self_obj), GVar0) > 3) then begin\n            animate_move_obj_to_tile(self_obj, GVar0, 0);\n          end\n          else begin\n            if (GVar5 == 1) then begin\n              GVar0 := 23465;\n              GVar5 := 2;\n            end\n            else begin\n              if (GVar5 == 2) then begin\n                GVar0 := 26855;\n                GVar5 := 3;\n              end\n              else begin\n                if (GVar5 == 3) then begin\n                  destroy_object(self_obj);\n                end\n              end\n            end\n          end\n        end\n        else begin\n          destroy_object(self_obj);\n        end\n      end\n    end\n  end\nend\nif (global_var(247) == 1) then begin\n  if (obj_can_see_obj(self_obj, dude_obj)) then begin\n    attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n  end\nend\n","description_p_proc":"display_msg(message_str(37, 100));\n","destroy_p_proc":"variable LVar0 := 0;\nLVar0 := obj_carrying_pid_obj(self_obj, 1);\nif (LVar0) then begin\n  rm_obj_from_inven(self_obj, LVar0);\n  destroy_object(LVar0);\nend\nif (source_obj == dude_obj) then begin\n  set_global_var(247, 1);\n  if (source_obj == dude_obj) then begin\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n      set_global_var(156, 1);\n      set_global_var(157, 0);\n    end\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n      set_global_var(157, 1);\n      set_global_var(156, 0);\n    end\n    set_global_var(159, global_var(159) + 1);\n    if ((global_var(159) % 2) == 0) then begin\n      set_global_var(155, global_var(155) - 1);\n    end\n  end\nend\nif (cur_map_index == 11) then begin\n  if (map_var(2) == 1) then begin\n    set_map_var(1, map_var(1) - 1);\n  end\nend\n","map_enter_p_proc":"if (cur_map_index == 12) then begin\n  critter_add_trait(self_obj, 1, 6, 12);\nend\nelse begin\n  if (cur_map_index == 11) then begin\n    critter_add_trait(self_obj, 1, 6, 0);\n    GVar0 := 23666;\n    GVar5 := 1;\n    if (map_var(2) != 1) then begin\n      destroy_object(self_obj);\n    end\n  end\nend\nif (local_var(5) == 0) then begin\n  set_local_var(5, tile_num(self_obj));\nend\n","pickup_p_proc":"float_msg(self_obj, message_str(37, random(136, 138)), 2);\nGVar1 := 1;\n","talk_p_proc":"call get_reaction;\nif (GVar3 and (times_caught_sneaking >= 3)) then begin\n  call JTGenGrd18;\nend\nelse begin\n  if (not(local_var(4)) and ((obj_item_subtype(critter_inven_obj(dude_obj, 1)) == 3) or (obj_item_subtype(critter_inven_obj(dude_obj, 2)) == 3)) or (GVar3 and (times_caught_sneaking < 3))) then begin\n    start_gdialog(37, self_obj, 4, -1, -1);\n    gsay_start;\n    if ((obj_item_subtype(critter_inven_obj(dude_obj, 1)) == 3) or (obj_item_subtype(critter_inven_obj(dude_obj, 2)) == 3)) then begin\n      call JTGenGrd00;\n    end\n    else begin\n      if (GVar3) then begin\n        call JTGenGrd06;\n      end\n    end\n    gsay_end;\n    end_dialogue;\n  end\n  else begin\n    if (global_var(158) > 2) then begin\n      call JTGenGrd19;\n    end\n    else begin\n      if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1)) or (local_var(1) == 1)) then begin\n        call JTGenGrd09;\n      end\n      else begin\n        if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1)) or (local_var(1) == 3)) then begin\n          call JTGenGrd16;\n        end\n        else begin\n          call JTGenGrd20;\n        end\n      end\n    end\n  end\nend\n","timed_event_p_proc":"if (fixed_param == 1) then begin\n  if (weapon_checked) then begin\n    if ((obj_item_subtype(critter_inven_obj(dude_obj, 1)) == 3) or (obj_item_subtype(critter_inven_obj(dude_obj, 2)) == 3)) then begin\n      float_msg(self_obj, message_str(37, 134), 0);\n      add_timer_event(self_obj, game_ticks(5), 3);\n    end\n    else begin\n      weapon_checked := 0;\n    end\n  end\nend\nelse begin\n  if (fixed_param == 2) then begin\n    sneak_checked := 0;\n  end\n  else begin\n    if (fixed_param == 3) then begin\n      GVar1 := 1;\n    end\n    else begin\n      if (fixed_param == 4) then begin\n        float_msg(self_obj, message_str(37, 139), 0);\n      end\n    end\n  end\nend\n","damage_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(247, 1);\nend\n","JTGenGrd00":"call DownReact;\ngsay_reply(37, 110);\ngiq_option(4, 37, 111, JTGenGrd01, 50);\ngiq_option(4, 37, 112, JTGenGrd00a, 51);\ngiq_option(4, 634, 105, JTGenGrdEnd, 50);\ngiq_option(6, 37, 113, JTGenGrd00b, 49);\ngiq_option(-3, 37, 114, JTGenGrd05, 50);\n","JTGenGrd00a":"call DownReact;\ncall JTGenGrd02;\n","JTGenGrd00b":"call UpReact;\ncall JTGenGrd04;\n","JTGenGrd01":"gsay_reply(37, 115);\ngiq_option(4, 37, 116, JTGenGrd02, 50);\ngiq_option(4, 37, 117, JTGenGrd01a, 50);\n","JTGenGrd01a":"if (is_success(roll_vs_skill(dude_obj, 14, -20))) then begin\n  call JTGenGrd03;\nend\nelse begin\n  call JTGenGrd02;\nend\n","JTGenGrd02":"gsay_reply(37, 118);\ngiq_option(4, 37, 119, JTGenGrd02b, 50);\ngiq_option(4, 37, 120, JTGenGrd02a, 51);\n","JTGenGrd02a":"GVar1 := 1;\n","JTGenGrd02b":"if (get_critter_stat(dude_obj, 34) == 0) then begin\n  gsay_reply(37, 132);\n  giq_option(4, 37, 131, JTGenGrdEnd, 50);\nend\nelse begin\n  gsay_reply(37, 133);\n  giq_option(4, 37, 131, JTGenGrdEnd, 50);\nend\n","JTGenGrd03":"set_local_var(4, 1);\ngsay_message(37, 121, 50);\n","JTGenGrd04":"gsay_message(37, 122, 50);\n","JTGenGrd05":"gsay_message(37, 123, 50);\n","JTGenGrd06":"times_caught_sneaking := times_caught_sneaking + 1;\nadd_timer_event(self_obj, game_ticks(5), 2);\ngsay_reply(37, 124);\ngiq_option(4, 37, 125, JTGenGrd07, 50);\ngiq_option(5, 37, 126, JTGenGrd06a, 50);\ngiq_option(-3, 37, 127, JTGenGrd07, 50);\n","JTGenGrd06a":"variable LVar0 := 0;\nLVar0 := -5 * times_caught_sneaking;\nif (is_success(roll_vs_skill(dude_obj, 14, LVar0))) then begin\n  call JTGenGrd08;\nend\nelse begin\n  call JTGenGrd07;\nend\n","JTGenGrd07":"gsay_message(37, 128, 50);\n","JTGenGrd08":"gsay_reply(37, 130);\ngiq_option(5, 37, 131, JTGenGrdEnd, 50);\n","JTGenGrd09":"float_msg(self_obj, message_str(37, random(101, 103)), 51);\n","JTGenGrd16":"float_msg(self_obj, message_str(37, random(104, 106)), 49);\n","JTGenGrd18":"float_msg(self_obj, message_str(37, 135), 2);\nadd_timer_event(self_obj, game_ticks(5), 3);\n","JTGenGrd19":"display_msg(message_str(37, 129));\nGVar1 := 1;\n","JTGenGrd20":"float_msg(self_obj, message_str(37, random(107, 109)), 0);\n","JTGenGrdEnd":"[]","get_reaction":"if (local_var(2) == 0) then begin\n  set_local_var(0, 50);\n  set_local_var(1, 2);\n  set_local_var(2, 1);\n  set_local_var(0, local_var(0) + (5 * get_critter_stat(dude_obj, 3)) - 25);\n  set_local_var(0, local_var(0) + (10 * has_trait(0, dude_obj, 10)));\n  if (has_trait(0, dude_obj, 39)) then begin\n    if (global_var(155) > 0) then begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n  end\n  else begin\n    if (local_var(3) == 1) then begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n  end\n  if (global_var(158) > 2) then begin\n    set_local_var(0, local_var(0) - 30);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_local_var(0, local_var(0) + 20);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_local_var(0, local_var(0) - 20);\n  end\n  call ReactToLevel;\nend\n","ReactToLevel":"if (local_var(0) <= 25) then begin\n  set_local_var(1, 1);\nend\nelse begin\n  if (local_var(0) <= 75) then begin\n    set_local_var(1, 2);\n  end\n  else begin\n    set_local_var(1, 3);\n  end\nend\n","UpReact":"set_local_var(0, local_var(0) + 10);\ncall ReactToLevel;\n","DownReact":"set_local_var(0, local_var(0) - 10);\ncall ReactToLevel;\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>