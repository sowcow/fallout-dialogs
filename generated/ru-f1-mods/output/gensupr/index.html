<!DOCTYPE html><html><head><title>gensupr</title><meta charset="utf-8" /></head><body><svg width="1138pt" height="406pt"
 viewBox="0.00 0.00 1138.25 405.85" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 401.85)">
<title>gensupr</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-401.85 1134.25,-401.85 1134.25,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="662" cy="-379.85" rx="27" ry="18"/>
</g>
<!-- combat_p_proc -->
<g id="node2" class="node">
<title>combat_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-153.8" rx="27" ry="18"/>
</g>
<!-- GenSuprAlert -->
<g id="node3" class="node">
<title>GenSuprAlert</title>
<ellipse fill="#ffffff" stroke="#000000" cx="44" cy="-18" rx="27" ry="18"/>
</g>
<!-- combat_p_proc&#45;&gt;GenSuprAlert -->
<g id="edge1" class="edge">
<title>combat_p_proc&#45;&gt;GenSuprAlert</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M29.19,-135.58C32.04,-113.1 37.08,-73.48 40.48,-46.74"/>
<polygon fill="#555555" stroke="#555555" points="44.03,-47.51 41.82,-37.15 37.09,-46.63 44.03,-47.51"/>
</g>
<!-- critter_p_proc -->
<g id="node4" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="806" cy="-379.85" rx="27" ry="18"/>
</g>
<!-- destroy_p_proc -->
<g id="node5" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="878" cy="-379.85" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node6" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="950" cy="-379.85" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node7" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="734" cy="-379.85" rx="27" ry="18"/>
</g>
<!-- GenSupr08 -->
<g id="node8" class="node">
<title>GenSupr08</title>
<ellipse fill="#ffffff" stroke="#000000" cx="734" cy="-306.85" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;GenSupr08 -->
<g id="edge2" class="edge">
<title>talk_p_proc&#45;&gt;GenSupr08</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M734,-361.67C734,-353.91 734,-344.54 734,-335.8"/>
<polygon fill="#555555" stroke="#555555" points="737.5,-335.88 734,-325.88 730.5,-335.88 737.5,-335.88"/>
</g>
<!-- GenSupr00 -->
<g id="node9" class="node">
<title>GenSupr00</title>
<ellipse fill="#ffffff" stroke="#000000" cx="806" cy="-306.85" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;GenSupr00 -->
<g id="edge3" class="edge">
<title>talk_p_proc&#45;&gt;GenSupr00</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M748.57,-364.49C758.65,-354.54 772.26,-341.12 783.7,-329.84"/>
<polygon fill="#555555" stroke="#555555" points="785.54,-332.96 790.2,-323.44 780.63,-327.97 785.54,-332.96"/>
</g>
<!-- GenSupr03 -->
<g id="node10" class="node">
<title>GenSupr03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="662" cy="-306.85" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;GenSupr03 -->
<g id="edge4" class="edge">
<title>talk_p_proc&#45;&gt;GenSupr03</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M719.43,-364.49C709.35,-354.54 695.74,-341.12 684.3,-329.84"/>
<polygon fill="#555555" stroke="#555555" points="687.37,-327.97 677.8,-323.44 682.46,-332.96 687.37,-327.97"/>
</g>
<!-- GenSupr04 -->
<g id="node12" class="node">
<title>GenSupr04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="561" cy="-153.8" rx="27" ry="18"/>
</g>
<!-- GenSupr03&#45;&gt;GenSupr04 -->
<g id="edge5" class="edge">
<title>GenSupr03&#45;&gt;GenSupr04</title>
<path fill="none" stroke="#993700" d="M662.43,-288.72C662.13,-266.63 658.69,-227.97 640,-201.85 628.77,-186.16 610.53,-174.79 594.4,-167.17"/>
<polygon fill="#993700" stroke="#993700" points="596.27,-163.73 585.71,-162.9 593.45,-170.13 596.27,-163.73"/>
<text text-anchor="middle" x="691.25" y="-231.68" font-family="Times,serif" font-size="14.00" fill="#993700">Люг&#45;ги!</text>
</g>
<!-- GenSupr03&#45;&gt;GenSupr04 -->
<g id="edge6" class="edge">
<title>GenSupr03&#45;&gt;GenSupr04</title>
<path fill="none" stroke="#0b0099" d="M634.91,-305.38C584.48,-303.87 479.25,-297.51 456.75,-270.85 436.97,-247.42 440.11,-227.62 456.75,-201.85 471.6,-178.85 500.7,-166.98 524.39,-160.92"/>
<polygon fill="#0b0099" stroke="#0b0099" points="524.85,-164.17 533.82,-158.53 523.29,-157.35 524.85,-164.17"/>
<text text-anchor="middle" x="546.62" y="-231.68" font-family="Times,serif" font-size="14.00" fill="#0b0099">Сдохни, адское отродье!</text>
</g>
<!-- GenSupr05 -->
<g id="node13" class="node">
<title>GenSupr05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="255" cy="-153.8" rx="153.97" ry="30.05"/>
<text text-anchor="middle" x="255" y="-157.75" font-family="Times,serif" font-size="14.00">Хорошо, пошли. Только без</text>
<text text-anchor="middle" x="255" y="-140.5" font-family="Times,serif" font-size="14.00">фокусов.</text>
</g>
<!-- GenSupr03&#45;&gt;GenSupr05 -->
<g id="edge7" class="edge">
<title>GenSupr03&#45;&gt;GenSupr05</title>
<path fill="none" stroke="#229900" d="M634.71,-305.55C548.08,-304.31 283.52,-298.29 257.75,-270.85 239.12,-251.02 239.38,-219.82 243.78,-194.77"/>
<polygon fill="#229900" stroke="#229900" points="247.39,-195.61 245.96,-185.11 240.53,-194.2 247.39,-195.61"/>
<text text-anchor="middle" x="349.12" y="-240.3" font-family="Times,serif" font-size="14.00" fill="#229900">Мне нужно поговорить с</text>
<text text-anchor="middle" x="349.12" y="-223.05" font-family="Times,serif" font-size="14.00" fill="#229900">Создателем.</text>
</g>
<!-- GenSupr03a -->
<g id="node14" class="node">
<title>GenSupr03a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="879" cy="-153.8" rx="27" ry="18"/>
</g>
<!-- GenSupr03&#45;&gt;GenSupr03a -->
<g id="edge8" class="edge">
<title>GenSupr03&#45;&gt;GenSupr03a</title>
<path fill="none" stroke="#99004e" d="M682.46,-294.65C687.42,-292.37 692.79,-290.25 698,-288.85 721.69,-282.52 901.38,-288.89 918,-270.85 938.78,-248.3 928.4,-230.7 918,-201.85 914.69,-192.67 908.72,-184.01 902.43,-176.69"/>
<polygon fill="#99004e" stroke="#99004e" points="905.42,-174.68 896.05,-169.75 900.3,-179.45 905.42,-174.68"/>
<text text-anchor="middle" x="1030.12" y="-257.55" font-family="Times,serif" font-size="14.00" fill="#99004e">Я тоже мутант, особого</text>
<text text-anchor="middle" x="1030.12" y="-240.3" font-family="Times,serif" font-size="14.00" fill="#99004e">вида. Выполняю секретное</text>
<text text-anchor="middle" x="1030.12" y="-223.05" font-family="Times,serif" font-size="14.00" fill="#99004e">задание Создателя. Пусти,</text>
<text text-anchor="middle" x="1030.12" y="-205.8" font-family="Times,serif" font-size="14.00" fill="#99004e">или пожалеешь!</text>
</g>
<!-- GenSupr03b -->
<g id="node15" class="node">
<title>GenSupr03b</title>
<ellipse fill="#ffffff" stroke="#000000" cx="804" cy="-153.8" rx="27" ry="18"/>
</g>
<!-- GenSupr03&#45;&gt;GenSupr03b -->
<g id="edge9" class="edge">
<title>GenSupr03&#45;&gt;GenSupr03b</title>
<path fill="none" stroke="#007b99" d="M683.27,-295.49C698.23,-287.83 716.54,-277.6 722,-270.85 742.32,-245.76 726.28,-228.34 744.75,-201.85 752.79,-190.32 764.47,-180.21 775.33,-172.34"/>
<polygon fill="#007b99" stroke="#007b99" points="776.9,-174.83 783.17,-166.28 772.94,-169.05 776.9,-174.83"/>
<text text-anchor="middle" x="831.62" y="-231.68" font-family="Times,serif" font-size="14.00" fill="#007b99">Я из Собора. Пропусти.</text>
</g>
<!-- map_enter_p_proc -->
<g id="node11" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1022" cy="-379.85" rx="27" ry="18"/>
</g>
<!-- GenSupr05&#45;&gt;GenSuprAlert -->
<g id="edge15" class="edge">
<title>GenSupr05&#45;&gt;GenSuprAlert</title>
<path fill="none" stroke="#5e0099" d="M134.82,-134.71C101.69,-127.4 71.69,-117.8 60.25,-105.75 45.66,-90.38 42.09,-66.3 41.89,-47.41"/>
<polygon fill="#5e0099" stroke="#5e0099" points="45.41,-47.51 42.14,-37.44 38.42,-47.36 45.41,-47.51"/>
<text text-anchor="middle" x="161.88" y="-92.45" font-family="Times,serif" font-size="14.00" fill="#5e0099">А как насчет такого</text>
<text text-anchor="middle" x="161.88" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#5e0099">фокуса &#45; я превращаю тебя</text>
<text text-anchor="middle" x="161.88" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#5e0099">в отбивную?</text>
</g>
<!-- GenSuprxx -->
<g id="node18" class="node">
<title>GenSuprxx</title>
<ellipse fill="#ffffff" stroke="#000000" cx="285" cy="-18" rx="27" ry="18"/>
</g>
<!-- GenSupr05&#45;&gt;GenSuprxx -->
<g id="edge14" class="edge">
<title>GenSupr05&#45;&gt;GenSuprxx</title>
<path fill="none" stroke="#998a00" d="M261.58,-123.44C266.72,-100.54 273.8,-68.96 278.83,-46.54"/>
<polygon fill="#998a00" stroke="#998a00" points="282.41,-47.57 281.18,-37.04 275.58,-46.03 282.41,-47.57"/>
<text text-anchor="middle" x="328.38" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#998a00">О&#39;кей, пошли.</text>
</g>
<!-- GenSupr07 -->
<g id="node16" class="node">
<title>GenSupr07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="805" cy="-18" rx="27" ry="18"/>
</g>
<!-- GenSupr03a&#45;&gt;GenSupr07 -->
<g id="edge10" class="edge">
<title>GenSupr03a&#45;&gt;GenSupr07</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M869.93,-136.4C857.26,-113.5 834.17,-71.74 819.21,-44.7"/>
<polygon fill="#555555" stroke="#555555" points="821.82,-43.18 813.92,-36.12 815.69,-46.57 821.82,-43.18"/>
</g>
<!-- GenSupr06 -->
<g id="node17" class="node">
<title>GenSupr06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="878" cy="-18" rx="27" ry="18"/>
</g>
<!-- GenSupr03a&#45;&gt;GenSupr06 -->
<g id="edge11" class="edge">
<title>GenSupr03a&#45;&gt;GenSupr06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M878.87,-135.31C878.7,-112.97 878.41,-74.03 878.21,-47.41"/>
<polygon fill="#555555" stroke="#555555" points="881.71,-47.47 878.13,-37.5 874.71,-47.52 881.71,-47.47"/>
</g>
<!-- GenSupr03b&#45;&gt;GenSupr07 -->
<g id="edge12" class="edge">
<title>GenSupr03b&#45;&gt;GenSupr07</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M804.13,-135.31C804.3,-112.97 804.59,-74.03 804.79,-47.41"/>
<polygon fill="#555555" stroke="#555555" points="808.29,-47.52 804.87,-37.5 801.29,-47.47 808.29,-47.52"/>
</g>
<!-- GenSupr03b&#45;&gt;GenSupr06 -->
<g id="edge13" class="edge">
<title>GenSupr03b&#45;&gt;GenSupr06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M813.07,-136.4C825.74,-113.5 848.83,-71.74 863.79,-44.7"/>
<polygon fill="#555555" stroke="#555555" points="867.31,-46.57 869.08,-36.12 861.18,-43.18 867.31,-46.57"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"[]","combat_p_proc":"if (fixed_param == 4) then begin\n  round_count := round_count + 1;\nend\nif (round_count > 2) then begin\n  call GenSuprAlert;\nend\n","critter_p_proc":"if (obj_can_see_obj(self_obj, dude_obj)) then begin\n  if (hostile) then begin\n    hostile := 0;\n    attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n  end\n  else begin\n    if (global_var(146)) then begin\n      hostile := 1;\n    end\n    else begin\n      if (not(map_var(5))) then begin\n        if (tile_distance_objs(self_obj, dude_obj) < 12) then begin\n          dialogue_system_enter;\n        end\n      end\n    end\n  end\nend\nif (cur_map_index == 30) then begin\n  if (map_var(0)) then begin\n    if (not(waypoint)) then begin\n      if (tile_num(self_obj) != 22312) then begin\n        animate_move_obj_to_tile(self_obj, 22312, 0);\n      end\n      else begin\n        waypoint := 1;\n      end\n    end\n    else begin\n      if (waypoint == 1) then begin\n        if (tile_num(self_obj) != 31944) then begin\n          animate_move_obj_to_tile(self_obj, 31944, 0);\n        end\n        else begin\n          waypoint := 2;\n        end\n      end\n      else begin\n        if (waypoint == 2) then begin\n          removal_ptr := self_obj;\n        end\n      end\n    end\n  end\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(160, global_var(160) + 1);\n  if ((global_var(160) % 6) == 0) then begin\n    set_global_var(155, global_var(155) + 1);\n  end\nend\n","pickup_p_proc":"hostile := 1;\n","talk_p_proc":"if (global_var(54)) then begin\n  call GenSupr08;\nend\nelse begin\n  if ((obj_item_subtype(critter_inven_obj(dude_obj, 1)) == 3) or (obj_item_subtype(critter_inven_obj(dude_obj, 2)) == 3) and not(hostile)) then begin\n    if (random(0, 5) == 5) then begin\n      call GenSupr00;\n    end\n    else begin\n      hostile := 1;\n    end\n  end\n  else begin\n    start_gdialog(433, self_obj, 4, -1, -1);\n    gsay_start;\n    call GenSupr03;\n    gsay_end;\n    end_dialogue;\n  end\nend\n","map_enter_p_proc":"if (not(initialized)) then begin\n  critter_add_trait(self_obj, 1, 6, 34);\n  critter_add_trait(self_obj, 1, 5, 48);\n  initialized := 1;\nend\n","GenSupr00":"float_msg(self_obj, message_str(433, random(101, 103)), 2);\nhostile := 1;\n","GenSupr03":"gsay_reply(433, random(104, 106));\ngiq_option(-3, 433, 107, GenSupr04, 50);\ngiq_option(4, 433, 108, GenSupr04, 50);\ngiq_option(5, 433, 109, GenSupr05, 50);\ngiq_option(6, 433, 110, GenSupr03a, 50);\nif (obj_pid(critter_inven_obj(dude_obj, 0)) == 113) then begin\n  giq_option(6, 433, 111, GenSupr03b, 50);\nend\n","GenSupr03a":"if (is_success(roll_vs_skill(dude_obj, 14, 0))) then begin\n  call GenSupr07;\nend\nelse begin\n  call GenSupr06;\nend\n","GenSupr03b":"if (is_success(roll_vs_skill(dude_obj, 14, 25))) then begin\n  call GenSupr07;\nend\nelse begin\n  call GenSupr06;\nend\n","GenSupr04":"hostile := 1;\ngsay_message(433, random(112, 114), 51);\n","GenSupr05":"gsay_reply(433, 115);\ngiq_option(5, 433, 116, GenSuprxx, 50);\ngiq_option(5, 433, 117, GenSuprAlert, 51);\n","GenSupr06":"hostile := 1;\ngsay_message(433, random(118, 120), 51);\n","GenSupr07":"set_map_var(5, 1);\ngsay_message(433, random(121, 123), 50);\n","GenSupr08":"float_msg(self_obj, message_str(433, random(124, 127)), 2);\nhostile := 1;\n","GenSuprAlert":"set_global_var(146, 1);\nhostile := 1;\n","GenSuprxx":"set_global_var(57, 2);\nload_map(32, 5);\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>