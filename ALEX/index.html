<!DOCTYPE html><html><head><title>ALEX</title><meta charset="utf-8" /></head><body><svg width="800pt" height="750pt"
 viewBox="0.00 0.00 800.05 749.52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 745.519)">
<title>ALEX</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-745.519 796.045,-745.519 796.045,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="259.045" cy="-723.519" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node"><title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="117.045" cy="-631.042" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;critter_p_proc -->
<g id="edge1" class="edge"><title>start&#45;&gt;critter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M236.338,-713.486C214.021,-704.042 179.549,-687.907 153.045,-668.519 147.352,-664.354 141.732,-659.27 136.686,-654.237"/>
<polygon fill="#555555" stroke="#555555" points="139.208,-651.809 129.763,-647.01 134.154,-656.652 139.208,-651.809"/>
</g>
<!-- destroy_p_proc -->
<g id="node3" class="node"><title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="189.045" cy="-631.042" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge2" class="edge"><title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M247.171,-707.171C236.209,-693.003 219.77,-671.755 207.169,-655.467"/>
<polygon fill="#555555" stroke="#555555" points="209.865,-653.233 200.978,-647.466 204.329,-657.517 209.865,-653.233"/>
</g>
<!-- look_at_p_proc -->
<g id="node4" class="node"><title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="329.045" cy="-631.042" rx="95.4188" ry="37.4533"/>
<text text-anchor="middle" x="329.045" y="-642.342" font-family="Times,serif" font-size="14.00">You see: Alex, the n</text>
<text text-anchor="middle" x="329.045" y="-627.342" font-family="Times,serif" font-size="14.00">ight watch Regulator</text>
<text text-anchor="middle" x="329.045" y="-612.342" font-family="Times,serif" font-size="14.00">.</text>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge3" class="edge"><title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M270.92,-707.171C277.829,-698.241 286.914,-686.498 295.843,-674.957"/>
<polygon fill="#555555" stroke="#555555" points="298.619,-677.088 301.97,-667.037 293.083,-672.805 298.619,-677.088"/>
</g>
<!-- talk_p_proc -->
<g id="node5" class="node"><title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="502.045" cy="-631.042" rx="59.5901" ry="18"/>
<text text-anchor="middle" x="502.045" y="-627.342" font-family="Times,serif" font-size="14.00">Come on in, </text>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge4" class="edge"><title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M284.048,-716.325C318.313,-707.486 381.488,-689.93 433.045,-668.519 444.273,-663.856 456.105,-657.982 466.74,-652.317"/>
<polygon fill="#555555" stroke="#555555" points="468.618,-655.28 475.732,-647.429 465.275,-649.13 468.618,-655.28"/>
</g>
<!-- sleeping -->
<g id="node6" class="node"><title>sleeping</title>
<ellipse fill="#ffffff" stroke="#000000" cx="117.045" cy="-519.089" rx="27" ry="18"/>
</g>
<!-- critter_p_proc&#45;&gt;sleeping -->
<g id="edge5" class="edge"><title>critter_p_proc&#45;&gt;sleeping</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M117.045,-612.862C117.045,-595.352 117.045,-567.929 117.045,-547.431"/>
<polygon fill="#555555" stroke="#555555" points="120.545,-547.148 117.045,-537.148 113.545,-547.149 120.545,-547.148"/>
</g>
<!-- Alex01 -->
<g id="node7" class="node"><title>Alex01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="608.045" cy="-519.089" rx="96.3333" ry="37.4533"/>
<text text-anchor="middle" x="608.045" y="-530.389" font-family="Times,serif" font-size="14.00">Sorry, I can&#39;t let y</text>
<text text-anchor="middle" x="608.045" y="-515.389" font-family="Times,serif" font-size="14.00">ou in. Come back in </text>
<text text-anchor="middle" x="608.045" y="-500.389" font-family="Times,serif" font-size="14.00">the morning.</text>
</g>
<!-- talk_p_proc&#45;&gt;Alex01 -->
<g id="edge6" class="edge"><title>talk_p_proc&#45;&gt;Alex01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M518.144,-613.343C531.219,-599.78 550.241,-580.049 567.425,-562.224"/>
<polygon fill="#555555" stroke="#555555" points="570.233,-564.354 574.654,-554.726 565.194,-559.496 570.233,-564.354"/>
</g>
<!-- Alex02 -->
<g id="node8" class="node"><title>Alex02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="395.045" cy="-519.089" rx="98.9899" ry="26.7407"/>
<text text-anchor="middle" x="395.045" y="-522.889" font-family="Times,serif" font-size="14.00">Halt! Who goes there</text>
<text text-anchor="middle" x="395.045" y="-507.889" font-family="Times,serif" font-size="14.00">?</text>
</g>
<!-- talk_p_proc&#45;&gt;Alex02 -->
<g id="edge7" class="edge"><title>talk_p_proc&#45;&gt;Alex02</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M485.794,-613.343C470.242,-597.361 446.353,-572.813 426.989,-552.914"/>
<polygon fill="#555555" stroke="#555555" points="429.298,-550.269 419.816,-545.543 424.282,-555.151 429.298,-550.269"/>
</g>
<!-- Alex03 -->
<g id="node9" class="node"><title>Alex03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="212.045" cy="-299.496" rx="98.9899" ry="48.1667"/>
<text text-anchor="middle" x="212.045" y="-318.296" font-family="Times,serif" font-size="14.00">No strangers are all</text>
<text text-anchor="middle" x="212.045" y="-303.296" font-family="Times,serif" font-size="14.00">owed within the wall</text>
<text text-anchor="middle" x="212.045" y="-288.296" font-family="Times,serif" font-size="14.00">s of Adytum, by orde</text>
<text text-anchor="middle" x="212.045" y="-273.296" font-family="Times,serif" font-size="14.00">r of the mayor.</text>
</g>
<!-- Alex02&#45;&gt;Alex03 -->
<g id="edge8" class="edge"><title>Alex02&#45;&gt;Alex03</title>
<path fill="none" stroke="#799900" d="M302.989,-509.193C273.354,-501.601 243.246,-487.952 224.045,-463.612 200.935,-434.317 198.389,-392.118 201.384,-357.982"/>
<polygon fill="#799900" stroke="#799900" points="204.903,-357.982 202.474,-347.67 197.942,-357.246 204.903,-357.982"/>
<text text-anchor="middle" x="278.545" y="-452.412" font-family="Times,serif" font-size="14.00" fill="#799900">I&#39;m just a traveler.</text>
<text text-anchor="middle" x="278.545" y="-437.412" font-family="Times,serif" font-size="14.00" fill="#799900"> I&#39;d like to come in</text>
<text text-anchor="middle" x="278.545" y="-422.412" font-family="Times,serif" font-size="14.00" fill="#799900">side.</text>
</g>
<!-- Alex05 -->
<g id="node10" class="node"><title>Alex05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="505.045" cy="-299.496" rx="97.6615" ry="101.233"/>
<text text-anchor="middle" x="505.045" y="-355.796" font-family="Times,serif" font-size="14.00">Look, it is my duty </text>
<text text-anchor="middle" x="505.045" y="-340.796" font-family="Times,serif" font-size="14.00">and my honor to serv</text>
<text text-anchor="middle" x="505.045" y="-325.796" font-family="Times,serif" font-size="14.00">e as the night watch</text>
<text text-anchor="middle" x="505.045" y="-310.796" font-family="Times,serif" font-size="14.00"> for Adytum,</text>
<text text-anchor="middle" x="505.045" y="-295.796" font-family="Times,serif" font-size="14.00"> so it </text>
<text text-anchor="middle" x="505.045" y="-280.796" font-family="Times,serif" font-size="14.00">is my business. You </text>
<text text-anchor="middle" x="505.045" y="-265.796" font-family="Times,serif" font-size="14.00">turn around and leav</text>
<text text-anchor="middle" x="505.045" y="-250.796" font-family="Times,serif" font-size="14.00">e, or I&#39;ll have to g</text>
<text text-anchor="middle" x="505.045" y="-235.796" font-family="Times,serif" font-size="14.00">et serious.</text>
</g>
<!-- Alex02&#45;&gt;Alex05 -->
<g id="edge9" class="edge"><title>Alex02&#45;&gt;Alex05</title>
<path fill="none" stroke="#8c0099" d="M408.096,-492.274C419.902,-468.919 438.058,-433.004 455.48,-398.542"/>
<polygon fill="#8c0099" stroke="#8c0099" points="458.74,-399.851 460.128,-389.348 452.493,-396.693 458.74,-399.851"/>
<text text-anchor="middle" x="504.045" y="-444.912" font-family="Times,serif" font-size="14.00" fill="#8c0099">None of your busines</text>
<text text-anchor="middle" x="504.045" y="-429.912" font-family="Times,serif" font-size="14.00" fill="#8c0099">s.</text>
</g>
<!-- Alex06 -->
<g id="node11" class="node"><title>Alex06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="328.045" cy="-58.6899" rx="96.7474" ry="26.7407"/>
<text text-anchor="middle" x="328.045" y="-62.4899" font-family="Times,serif" font-size="14.00">Try coming back in t</text>
<text text-anchor="middle" x="328.045" y="-47.4899" font-family="Times,serif" font-size="14.00">he morning.</text>
</g>
<!-- Alex02&#45;&gt;Alex06 -->
<g id="edge10" class="edge"><title>Alex02&#45;&gt;Alex06</title>
<path fill="none" stroke="#009960" d="M453.976,-497.479C469.847,-492.122 487.049,-486.49 503.045,-481.612 532.128,-472.744 544.283,-481.255 569.045,-463.612 689.758,-377.604 727.893,-244.921 628.045,-135.38 598.879,-103.382 475.465,-129.987 434.045,-117.38 412.686,-110.879 390.742,-99.7936 372.401,-89.0676"/>
<polygon fill="#009960" stroke="#009960" points="374.081,-85.994 363.705,-83.8525 370.481,-91.9973 374.081,-85.994"/>
<text text-anchor="middle" x="738.545" y="-303.296" font-family="Times,serif" font-size="14.00" fill="#009960">Um, sorry. I&#39;ll leav</text>
<text text-anchor="middle" x="738.545" y="-288.296" font-family="Times,serif" font-size="14.00" fill="#009960">e.</text>
</g>
<!-- Alex02&#45;&gt;Alex06 -->
<g id="edge11" class="edge"><title>Alex02&#45;&gt;Alex06</title>
<path fill="none" stroke="#993300" d="M384.377,-491.986C375.264,-468.498 362.617,-432.828 356.045,-400.612 350.081,-371.376 336.224,-177.925 330.543,-96.1166"/>
<polygon fill="#993300" stroke="#993300" points="334.011,-95.532 329.829,-85.7976 327.028,-96.0155 334.011,-95.532"/>
<text text-anchor="middle" x="377.045" y="-295.796" font-family="Times,serif" font-size="14.00" fill="#993300">Nghgh.</text>
</g>
<!-- Alex03&#45;&gt;Alex06 -->
<g id="edge13" class="edge"><title>Alex03&#45;&gt;Alex06</title>
<path fill="none" stroke="#269900" d="M206.201,-251.232C204.221,-216.956 206.377,-170.624 226.045,-135.38 236.896,-115.936 255.056,-100.055 273.072,-87.9511"/>
<polygon fill="#269900" stroke="#269900" points="275.339,-90.6552 281.871,-82.3137 271.563,-84.7611 275.339,-90.6552"/>
<text text-anchor="middle" x="279.545" y="-161.68" font-family="Times,serif" font-size="14.00" fill="#269900">Um, sorry. I&#39;ll leav</text>
<text text-anchor="middle" x="279.545" y="-146.68" font-family="Times,serif" font-size="14.00" fill="#269900">e.</text>
</g>
<!-- Alex04 -->
<g id="node12" class="node"><title>Alex04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="94.0452" cy="-58.6899" rx="94.0904" ry="58.8803"/>
<text text-anchor="middle" x="94.0452" y="-84.9899" font-family="Times,serif" font-size="14.00">I&#39;m sorry, but I can</text>
<text text-anchor="middle" x="94.0452" y="-69.9899" font-family="Times,serif" font-size="14.00">&#39;t let you in. Turn </text>
<text text-anchor="middle" x="94.0452" y="-54.9899" font-family="Times,serif" font-size="14.00">around and leave or </text>
<text text-anchor="middle" x="94.0452" y="-39.9899" font-family="Times,serif" font-size="14.00">I&#39;ll have to</text>
<text text-anchor="middle" x="94.0452" y="-24.9899" font-family="Times,serif" font-size="14.00"> shoot.</text>
</g>
<!-- Alex03&#45;&gt;Alex04 -->
<g id="edge12" class="edge"><title>Alex03&#45;&gt;Alex04</title>
<path fill="none" stroke="#060099" d="M159.484,-258.601C136.556,-237.996 111.991,-210.801 99.0452,-180.38 92.1122,-164.088 89.2084,-145.415 88.4302,-127.703"/>
<polygon fill="#060099" stroke="#060099" points="91.9229,-127.331 88.2033,-117.411 84.9246,-127.486 91.9229,-127.331"/>
<text text-anchor="middle" x="153.045" y="-169.18" font-family="Times,serif" font-size="14.00" fill="#060099">I just need a place </text>
<text text-anchor="middle" x="153.045" y="-154.18" font-family="Times,serif" font-size="14.00" fill="#060099">to sleep for the nig</text>
<text text-anchor="middle" x="153.045" y="-139.18" font-family="Times,serif" font-size="14.00" fill="#060099">ht.</text>
</g>
<!-- Alex05&#45;&gt;Alex06 -->
<g id="edge14" class="edge"><title>Alex05&#45;&gt;Alex06</title>
<path fill="none" stroke="#990053" d="M439.981,-223.686C428.365,-209.547 416.609,-194.697 406.045,-180.38 385.202,-152.13 363.705,-118.471 348.571,-93.8843"/>
<polygon fill="#990053" stroke="#990053" points="351.501,-91.9668 343.296,-85.2635 345.53,-95.6202 351.501,-91.9668"/>
<text text-anchor="middle" x="459.545" y="-161.68" font-family="Times,serif" font-size="14.00" fill="#990053">Um, sorry. I&#39;ll leav</text>
<text text-anchor="middle" x="459.545" y="-146.68" font-family="Times,serif" font-size="14.00" fill="#990053">e.</text>
</g>
<!-- Alex07 -->
<g id="node13" class="node"><title>Alex07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="529.045" cy="-58.6899" rx="86.0347" ry="26.7407"/>
<text text-anchor="middle" x="529.045" y="-62.4899" font-family="Times,serif" font-size="14.00">Oh, that&#39;s it. Now t</text>
<text text-anchor="middle" x="529.045" y="-47.4899" font-family="Times,serif" font-size="14.00">he gloves are off!</text>
</g>
<!-- Alex05&#45;&gt;Alex07 -->
<g id="edge15" class="edge"><title>Alex05&#45;&gt;Alex07</title>
<path fill="none" stroke="#008099" d="M515.084,-198.604C518.747,-162.159 522.66,-123.222 525.409,-95.872"/>
<polygon fill="#008099" stroke="#008099" points="528.921,-95.926 526.439,-85.6261 521.956,-95.226 528.921,-95.926"/>
<text text-anchor="middle" x="579.545" y="-161.68" font-family="Times,serif" font-size="14.00" fill="#008099">Get out of my face, </text>
<text text-anchor="middle" x="579.545" y="-146.68" font-family="Times,serif" font-size="14.00" fill="#008099">John Law.</text>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (not(initialized)) then begin\n  critter_add_trait(self_obj, 1, 6, 49);\n  sleep_tile := 14275;\n  home_tile := 11300;\n  wake_time := 2030;\n  sleep_time := 730;\n  night_person := 1;\n  if (obj_is_carrying_obj_pid(self_obj, 41) == 0) then begin\n    item_caps_adjust(self_obj, random(0, 20));\n  end\n  initialized := 1;\nend\nelse begin\n  if (script_action == 12) then begin\n    call critter_p_proc;\n  end\n  else begin\n    if (script_action == 18) then begin\n      call destroy_p_proc;\n    end\n    else begin\n      if (script_action == 21) then begin\n        call look_at_p_proc;\n      end\n      else begin\n        if (script_action == 11) then begin\n          call talk_p_proc;\n        end\n      end\n    end\n  end\nend\n","critter_p_proc":"if (obj_can_see_obj(self_obj, dude_obj)) then begin\n  if (hostile) then begin\n    hostile := 0;\n    attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n  end\n  else begin\n    if (local_var(0) == 0) then begin\n      if (tile_distance_objs(self_obj, dude_obj) < 12) then begin\n        dialogue_system_enter;\n      end\n    end\n    if (tile_distance(tile_num(dude_obj), 10700) > tile_distance(tile_num(dude_obj), 11900)) then begin\n      if (global_var(128) < 2) then begin\n        hostile := 1;\n      end\n    end\n  end\nend\nelse begin\n  call sleeping;\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(159, global_var(159) + 1);\n  if ((global_var(159) % 2) == 0) then begin\n    set_global_var(155, global_var(155) - 1);\n  end\nend\n","look_at_p_proc":"if (local_var(0)) then begin\n  script_overrides;\n  display_msg(message_str(670, 100));\nend\n","talk_p_proc":"if (global_var(128) == 2) then begin\n  float_msg(self_obj, message_str(670, 101) + proto_data(obj_pid(dude_obj), 1), 0);\nend\nelse begin\n  if (local_var(0)) then begin\n    call Alex01;\n  end\n  else begin\n    start_gdialog(670, self_obj, 4, -1, -1);\n    gsay_start;\n    call Alex02;\n    gsay_end;\n    end_dialogue;\n  end\nend\n","Alex01":"float_msg(self_obj, message_str(670, 102), 0);\n","Alex02":"set_local_var(0, 1);\ngsay_reply(670, 103);\ngiq_option(4, 670, 104, Alex03, 50);\ngiq_option(4, 670, 105, Alex05, 51);\ngiq_option(4, 670, 106, Alex06, 50);\ngiq_option(-3, 670, 114, Alex06, 50);\n","Alex03":"gsay_reply(670, 107);\ngiq_option(4, 670, 108, Alex04, 50);\ngiq_option(4, 670, 106, Alex06, 50);\n","Alex04":"gsay_message(670, 109, 50);\n","Alex05":"gsay_reply(670, 110);\ngiq_option(4, 670, 106, Alex06, 50);\ngiq_option(4, 670, 111, Alex07, 50);\n","Alex06":"gsay_message(670, 112, 50);\n","Alex07":"hostile := 1;\ngsay_message(670, 113, 51);\n","sleeping":"if (local_var(1) == 1) then begin\n  if (not(night_person) and (game_time_hour >= wake_time) and (game_time_hour < sleep_time) or (night_person and ((game_time_hour >= wake_time) or (game_time_hour < sleep_time)))) then begin\n    if (((game_time_hour - wake_time) < 10) and ((game_time_hour - wake_time) > 0)) then begin\n      if (tile_num(self_obj) != home_tile) then begin\n        animate_move_obj_to_tile(self_obj, home_tile, 0);\n      end\n      else begin\n        set_local_var(1, 0);\n      end\n    end\n    else begin\n      move_to(self_obj, home_tile, elevation(self_obj));\n      if (tile_num(self_obj) == home_tile) then begin\n        set_local_var(1, 0);\n      end\n    end\n  end\nend\nelse begin\n  if (night_person and (game_time_hour >= sleep_time) and (game_time_hour < wake_time) or (not(night_person) and ((game_time_hour >= sleep_time) or (game_time_hour < wake_time)))) then begin\n    if (((game_time_hour - sleep_time) < 10) and ((game_time_hour - sleep_time) > 0)) then begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        animate_move_obj_to_tile(self_obj, self_obj, 0);\n      end\n      else begin\n        set_local_var(1, 1);\n      end\n    end\n    else begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        move_to(self_obj, sleep_tile, elevation(self_obj));\n      end\n      else begin\n        set_local_var(1, 1);\n      end\n    end\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>