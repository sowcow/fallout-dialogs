<!DOCTYPE html><html><head><title>RNDCOAST</title><meta charset="utf-8" /></head><body><svg width="1194pt" height="405pt"
 viewBox="0.00 0.00 1194.00 405.02" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 401.019)">
<title>RNDCOAST</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-401.019 1190,-401.019 1190,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="736" cy="-379.019" rx="27" ry="18"/>
</g>
<!-- choose_start -->
<g id="node2" class="node"><title>choose_start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-234.51" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;choose_start -->
<g id="edge1" class="edge"><title>start&#45;&gt;choose_start</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M708.766,-377.548C589.369,-375.259 115.78,-363.785 63,-325.019 43.2273,-310.497 34.2957,-283.291 30.2725,-262.67"/>
<polygon fill="#555555" stroke="#555555" points="33.6879,-261.873 28.5845,-252.588 26.784,-263.029 33.6879,-261.873"/>
</g>
<!-- Coast1 -->
<g id="node3" class="node"><title>Coast1</title>
<ellipse fill="#ffffff" stroke="#000000" cx="169" cy="-234.51" rx="96.7474" ry="90.5193"/>
<text text-anchor="middle" x="169" y="-283.31" font-family="Times,serif" font-size="14.00">You see several odd </text>
<text text-anchor="middle" x="169" y="-268.31" font-family="Times,serif" font-size="14.00">floating creatures..</text>
<text text-anchor="middle" x="169" y="-253.31" font-family="Times,serif" font-size="14.00">.</text>
<text text-anchor="middle" x="169" y="-238.31" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="169" y="-223.31" font-family="Times,serif" font-size="14.00">There is a gri</text>
<text text-anchor="middle" x="169" y="-208.31" font-family="Times,serif" font-size="14.00">sly dead corpse near</text>
<text text-anchor="middle" x="169" y="-193.31" font-family="Times,serif" font-size="14.00"> by that&#39;s been part</text>
<text text-anchor="middle" x="169" y="-178.31" font-family="Times,serif" font-size="14.00">ially eaten.</text>
</g>
<!-- start&#45;&gt;Coast1 -->
<g id="edge2" class="edge"><title>start&#45;&gt;Coast1</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M708.933,-376.956C622.479,-373.241 354.038,-359.171 275,-325.019 264.031,-320.28 253.333,-314.016 243.212,-306.996"/>
<polygon fill="#555555" stroke="#555555" points="245.005,-303.973 234.853,-300.939 240.897,-309.641 245.005,-303.973"/>
</g>
<!-- Coast2 -->
<g id="node4" class="node"><title>Coast2</title>
<ellipse fill="#ffffff" stroke="#000000" cx="311" cy="-234.51" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;Coast2 -->
<g id="edge3" class="edge"><title>start&#45;&gt;Coast2</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M708.866,-377.77C630.126,-376.527 403.588,-369.111 347,-325.019 327.76,-310.028 318.761,-283.131 314.576,-262.722"/>
<polygon fill="#555555" stroke="#555555" points="317.998,-261.97 312.799,-252.738 311.106,-263.197 317.998,-261.97"/>
</g>
<!-- Coast3 -->
<g id="node5" class="node"><title>Coast3</title>
<ellipse fill="#ffffff" stroke="#000000" cx="453" cy="-234.51" rx="96.7474" ry="37.4533"/>
<text text-anchor="middle" x="453" y="-245.81" font-family="Times,serif" font-size="14.00">You see a small swar</text>
<text text-anchor="middle" x="453" y="-230.81" font-family="Times,serif" font-size="14.00">m of rats rapidly ap</text>
<text text-anchor="middle" x="453" y="-215.81" font-family="Times,serif" font-size="14.00">proaching.</text>
</g>
<!-- start&#45;&gt;Coast3 -->
<g id="edge4" class="edge"><title>start&#45;&gt;Coast3</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M710.101,-373.714C674.431,-367.035 608.932,-352.045 559,-325.019 535.646,-312.379 512.748,-294.025 494.244,-277.223"/>
<polygon fill="#555555" stroke="#555555" points="496.309,-274.365 486.594,-270.138 491.553,-279.501 496.309,-274.365"/>
</g>
<!-- Coast4 -->
<g id="node6" class="node"><title>Coast4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="665" cy="-234.51" rx="96.7474" ry="37.4533"/>
<text text-anchor="middle" x="665" y="-245.81" font-family="Times,serif" font-size="14.00">You see a group of p</text>
<text text-anchor="middle" x="665" y="-230.81" font-family="Times,serif" font-size="14.00">easants being attack</text>
<text text-anchor="middle" x="665" y="-215.81" font-family="Times,serif" font-size="14.00">ed by raiders!</text>
</g>
<!-- start&#45;&gt;Coast4 -->
<g id="edge5" class="edge"><title>start&#45;&gt;Coast4</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M727.855,-361.672C718.071,-342.032 701.25,-308.271 687.471,-280.613"/>
<polygon fill="#555555" stroke="#555555" points="690.521,-278.887 682.929,-271.497 684.256,-282.008 690.521,-278.887"/>
</g>
<!-- Coast5 -->
<g id="node7" class="node"><title>Coast5</title>
<ellipse fill="#ffffff" stroke="#000000" cx="807" cy="-234.51" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;Coast5 -->
<g id="edge6" class="edge"><title>start&#45;&gt;Coast5</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M747.595,-362.297C754.87,-352.013 764.137,-338.105 771,-325.019 781.715,-304.589 791.321,-280.232 797.91,-262.088"/>
<polygon fill="#555555" stroke="#555555" points="801.282,-263.051 801.337,-252.456 794.687,-260.704 801.282,-263.051"/>
</g>
<!-- Coast6 -->
<g id="node8" class="node"><title>Coast6</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1019" cy="-234.51" rx="95.4188" ry="26.7407"/>
<text text-anchor="middle" x="1019" y="-238.31" font-family="Times,serif" font-size="14.00">You see a couple of </text>
<text text-anchor="middle" x="1019" y="-223.31" font-family="Times,serif" font-size="14.00">people out fishing.</text>
</g>
<!-- start&#45;&gt;Coast6 -->
<g id="edge7" class="edge"><title>start&#45;&gt;Coast6</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M757.031,-367.251C761.873,-365.008 767.055,-362.79 772,-361.019 833.701,-338.922 856.826,-355.205 915,-325.019 942.937,-310.523 969.739,-287.148 989.136,-267.921"/>
<polygon fill="#555555" stroke="#555555" points="991.652,-270.353 996.194,-260.782 986.674,-265.432 991.652,-270.353"/>
</g>
<!-- hunters -->
<g id="node9" class="node"><title>hunters</title>
<ellipse fill="#ffffff" stroke="#000000" cx="879" cy="-234.51" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;hunters -->
<g id="edge8" class="edge"><title>start&#45;&gt;hunters</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M757.35,-367.924C787.645,-353.531 839.814,-328.462 843,-325.019 859.2,-307.512 868.517,-281.785 873.595,-262.4"/>
<polygon fill="#555555" stroke="#555555" points="877.005,-263.188 875.938,-252.647 870.199,-261.553 877.005,-263.188"/>
</g>
<!-- Lighting -->
<g id="node10" class="node"><title>Lighting</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1159" cy="-234.51" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge9" class="edge"><title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M752.627,-364.676C755.997,-363.258 759.538,-361.984 763,-361.019 838.533,-339.977 1051.36,-372.178 1114,-325.019 1133.92,-310.024 1142.84,-282.205 1148.6,-261.544"/>
<polygon fill="#555555" stroke="#555555" points="1152,-262.352 1151.28,-251.782 1145.25,-260.498 1152,-262.352"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge10" class="edge"><title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M759.298,-369.552C766.278,-366.361 773.809,-363.023 781,-361.019 856.533,-339.977 1069.36,-372.178 1132,-325.019 1151.6,-310.264 1160.56,-283.092 1162.95,-262.542"/>
<polygon fill="#555555" stroke="#555555" points="1166.44,-262.712 1163.62,-252.5 1159.46,-262.244 1166.44,-262.712"/>
</g>
<!-- stranger -->
<g id="node11" class="node"><title>stranger</title>
<ellipse fill="#ffffff" stroke="#000000" cx="583" cy="-90" rx="27" ry="18"/>
</g>
<!-- Coast1&#45;&gt;stranger -->
<g id="edge20" class="edge"><title>Coast1&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M235.445,-168.518C247.839,-159.08 261.244,-150.406 275,-144 365.712,-101.756 485.575,-92.8713 545.508,-91.2057"/>
<polygon fill="#555555" stroke="#555555" points="545.717,-94.7019 555.636,-90.978 545.56,-87.7037 545.717,-94.7019"/>
</g>
<!-- Place_critter -->
<g id="node12" class="node"><title>Place_critter</title>
<ellipse fill="#ffffff" stroke="#000000" cx="665" cy="-18" rx="27" ry="18"/>
</g>
<!-- Coast1&#45;&gt;Place_critter -->
<g id="edge17" class="edge"><title>Coast1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M230.504,-164.242C239.23,-157.213 248.207,-150.338 257,-144 306.838,-108.076 317.725,-94.2251 375,-72 460.926,-38.6575 570.573,-25.5373 627.861,-21.0454"/>
<polygon fill="#555555" stroke="#555555" points="628.215,-24.5289 637.931,-20.3041 627.701,-17.5478 628.215,-24.5289"/>
</g>
<!-- Coast1&#45;&gt;Place_critter -->
<g id="edge18" class="edge"><title>Coast1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M239.066,-171.779C250.824,-162.171 263.081,-152.591 275,-144 324.838,-108.076 335.725,-94.2251 393,-72 473.523,-40.7539 574.879,-27.2671 628.245,-21.9979"/>
<polygon fill="#555555" stroke="#555555" points="628.632,-25.477 638.258,-21.0508 627.973,-18.5081 628.632,-25.477"/>
</g>
<!-- Coast1&#45;&gt;Place_critter -->
<g id="edge19" class="edge"><title>Coast1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M246.571,-180.033C261.763,-167.748 277.662,-155.056 293,-144 342.838,-108.076 353.725,-94.2251 411,-72 485.325,-43.1589 577.4,-29.4484 628.219,-23.365"/>
<polygon fill="#555555" stroke="#555555" points="628.886,-26.811 638.415,-22.1799 628.078,-19.8578 628.886,-26.811"/>
</g>
<!-- Coast2&#45;&gt;stranger -->
<g id="edge22" class="edge"><title>Coast2&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M313.114,-216.237C316.55,-195.865 325.307,-162.445 347,-144 376.741,-118.712 487.767,-102.2 546.319,-95.055"/>
<polygon fill="#555555" stroke="#555555" points="547.094,-98.4876 556.61,-93.8299 546.266,-91.5366 547.094,-98.4876"/>
</g>
<!-- Coast2&#45;&gt;Place_critter -->
<g id="edge21" class="edge"><title>Coast2&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M313.814,-216.558C317.905,-196.81 327.277,-164.305 347,-144 425.5,-63.1844 562.555,-33.481 628.072,-23.5317"/>
<polygon fill="#555555" stroke="#555555" points="628.931,-26.944 638.327,-22.0483 627.929,-20.0161 628.931,-26.944"/>
</g>
<!-- Coast3&#45;&gt;stranger -->
<g id="edge24" class="edge"><title>Coast3&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M484.469,-199.012C508.803,-172.337 541.769,-136.198 562.715,-113.237"/>
<polygon fill="#555555" stroke="#555555" points="565.435,-115.448 569.589,-105.702 560.264,-110.731 565.435,-115.448"/>
</g>
<!-- Coast3&#45;&gt;Place_critter -->
<g id="edge23" class="edge"><title>Coast3&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M466.466,-197.059C481.346,-161.137 508.42,-106.73 547,-72 570.871,-50.5115 604.898,-36.4912 630.283,-28.3014"/>
<polygon fill="#555555" stroke="#555555" points="631.364,-31.6309 639.892,-25.3443 629.305,-24.9406 631.364,-31.6309"/>
</g>
<!-- Coast4&#45;&gt;stranger -->
<g id="edge29" class="edge"><title>Coast4&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M644.308,-197.548C629.695,-172.152 610.477,-138.753 597.483,-116.17"/>
<polygon fill="#555555" stroke="#555555" points="600.348,-114.131 592.327,-107.209 594.28,-117.622 600.348,-114.131"/>
</g>
<!-- Coast4&#45;&gt;Place_critter -->
<g id="edge25" class="edge"><title>Coast4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M649.349,-197.121C642.599,-153.636 643.279,-82.0188 651.389,-44.2021"/>
<polygon fill="#555555" stroke="#555555" points="654.788,-45.0389 653.874,-34.4836 648.006,-43.3051 654.788,-45.0389"/>
</g>
<!-- Coast4&#45;&gt;Place_critter -->
<g id="edge26" class="edge"><title>Coast4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M659.758,-196.634C657.575,-153.896 657.762,-84.4648 660.318,-46.2949"/>
<polygon fill="#555555" stroke="#555555" points="663.836,-46.2082 661.145,-35.961 656.859,-45.6502 663.836,-46.2082"/>
</g>
<!-- Coast4&#45;&gt;Place_critter -->
<g id="edge27" class="edge"><title>Coast4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M670.242,-196.634C672.425,-153.896 672.238,-84.4648 669.682,-46.2949"/>
<polygon fill="#555555" stroke="#555555" points="673.141,-45.6502 668.855,-35.961 666.164,-46.2082 673.141,-45.6502"/>
</g>
<!-- Coast4&#45;&gt;Place_critter -->
<g id="edge28" class="edge"><title>Coast4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M680.651,-197.121C687.401,-153.636 686.721,-82.0188 678.611,-44.2021"/>
<polygon fill="#555555" stroke="#555555" points="681.994,-43.3051 676.126,-34.4836 675.212,-45.0389 681.994,-43.3051"/>
</g>
<!-- Coast5&#45;&gt;stranger -->
<g id="edge31" class="edge"><title>Coast5&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M804.715,-216.432C801.111,-196.253 792.188,-163.022 771,-144 728.895,-106.199 661.809,-95.1585 620.194,-92.0532"/>
<polygon fill="#555555" stroke="#555555" points="620.394,-88.559 610.193,-91.4233 619.953,-95.5451 620.394,-88.559"/>
</g>
<!-- Coast5&#45;&gt;Place_critter -->
<g id="edge30" class="edge"><title>Coast5&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M801.999,-216.59C796.105,-198.008 785.277,-167.664 771,-144 746.965,-104.163 710.388,-64.2187 687.097,-40.5572"/>
<polygon fill="#555555" stroke="#555555" points="689.283,-37.7927 679.745,-33.1807 684.325,-42.7342 689.283,-37.7927"/>
</g>
<!-- hunters&#45;&gt;stranger -->
<g id="edge16" class="edge"><title>hunters&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M877.006,-216.523C873.674,-196.114 865.003,-162.336 843,-144 809.477,-116.063 683.176,-100.449 619.777,-94.2189"/>
<polygon fill="#555555" stroke="#555555" points="620.088,-90.7328 609.801,-93.2652 619.422,-97.701 620.088,-90.7328"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge12" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M859.333,-221.733C845.111,-203.552 834.788,-168.219 816,-144 779.505,-96.9552 720.44,-60.4423 686.761,-39.3346"/>
<polygon fill="#555555" stroke="#555555" points="688.301,-36.1675 677.975,-33.7936 684.567,-42.0884 688.301,-36.1675"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge13" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M869.086,-217.609C861.602,-198.588 851.453,-166.498 834,-144 795.059,-93.8025 730.423,-55.5959 693.238,-35.3"/>
<polygon fill="#555555" stroke="#555555" points="694.87,-32.2036 684.408,-30.5296 691.542,-38.3622 694.87,-32.2036"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge14" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M881.69,-216.59C879.241,-197.458 869.145,-166.101 852,-144 810.342,-90.3003 739.278,-50.3229 697.619,-31.3155"/>
<polygon fill="#555555" stroke="#555555" points="699.008,-28.1028 688.447,-27.2589 696.176,-34.5047 699.008,-28.1028"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge15" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M894.17,-219.573C898.309,-200.865 888.069,-167.292 870,-144 825.594,-86.7578 747.774,-45.1081 700.198,-27.8297"/>
<polygon fill="#555555" stroke="#555555" points="701.123,-24.4467 690.528,-24.5157 698.853,-31.0687 701.123,-24.4467"/>
</g>
<!-- stranger&#45;&gt;Place_critter -->
<g id="edge11" class="edge"><title>stranger&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M599.201,-75.1703C611.183,-64.9415 627.691,-50.8487 641.175,-39.3383"/>
<polygon fill="#555555" stroke="#555555" points="643.779,-41.7175 649.112,-32.5628 639.234,-36.3935 643.779,-41.7175"/>
</g>
<!-- add_party -->
<g id="node13" class="node"><title>add_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="808" cy="-379.019" rx="27" ry="18"/>
</g>
<!-- update_party -->
<g id="node14" class="node"><title>update_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="880" cy="-379.019" rx="27" ry="18"/>
</g>
<!-- remove_party -->
<g id="node15" class="node"><title>remove_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="952" cy="-379.019" rx="27" ry="18"/>
</g>
<!-- Darkness -->
<g id="node16" class="node"><title>Darkness</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1024" cy="-379.019" rx="27" ry="18"/>
</g>
<!-- Invasion -->
<g id="node17" class="node"><title>Invasion</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1096" cy="-379.019" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 15) then begin\n  dude_pos := random(0, 2);\n  dude_rot := random(0, 5);\n  if ((global_var(32) != 1) and metarule(14, 0)) then begin\n    Ranger_rerolls := has_trait(0, dude_obj, 47);\n    set_global_var(334, 0);\n    while(Encounter_Num == 0) do begin\n      Encounter_Num := random(1, 6) + random(1, 6) + random(1, 6);\n      if (get_critter_stat(dude_obj, 6) > 8) then begin\n        Encounter_Num := Encounter_Num + 2;\n      end\n      else begin\n        if (get_critter_stat(dude_obj, 6) > 7) then begin\n          Encounter_Num := Encounter_Num + 1;\n        end\n        else begin\n          if (get_critter_stat(dude_obj, 6) < 3) then begin\n            Encounter_Num := Encounter_Num - 1;\n          end\n        end\n      end\n      if ((global_var(123) != 3) and (global_var(158) > 2) and random(0, 1)) then begin\n        Encounter_Num := 7;\n      end\n      else begin\n        if (Encounter_Num <= 3) then begin\n          Encounter_Num := 1;\n        end\n        else begin\n          if (Encounter_Num <= 5) then begin\n            Encounter_Num := 2;\n          end\n          else begin\n            if (Encounter_Num <= 8) then begin\n              Encounter_Num := 3;\n            end\n            else begin\n              if (Encounter_Num <= 12) then begin\n                Encounter_Num := 4;\n              end\n              else begin\n                if (Encounter_Num <= 15) then begin\n                  Encounter_Num := 5;\n                end\n                else begin\n                  Encounter_Num := 6;\n                end\n              end\n            end\n          end\n        end\n      end\n      if (Ranger_rerolls) then begin\n        if ((Encounter_Num == 1) or (Encounter_Num == 2) or (Encounter_Num == 4) or (Encounter_Num == 5) or (Encounter_Num == 7)) then begin\n          Encounter_Num := 0;\n        end\n        Ranger_rerolls := Ranger_rerolls - 1;\n      end\n    end\n    if (global_var(295) > 0) then begin\n      Encounter_Num := global_var(295);\n      set_global_var(295, 0);\n      debug_msg(\"Coast encounter type: \" + Encounter_Num);\n    end\n    call choose_start;\n    Dude_tile := tile_num(dude_obj);\n    if (Encounter_Num == 1) then begin\n      call Coast1;\n    end\n    else begin\n      if (Encounter_Num == 2) then begin\n        call Coast2;\n      end\n      else begin\n        if (Encounter_Num == 3) then begin\n          call Coast3;\n        end\n        else begin\n          if (Encounter_Num == 4) then begin\n            call Coast4;\n          end\n          else begin\n            if (Encounter_Num == 5) then begin\n              call Coast5;\n            end\n            else begin\n              if (Encounter_Num == 6) then begin\n                call Coast6;\n              end\n              else begin\n                call hunters;\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  else begin\n    if (metarule(14, 0)) then begin\n      if (dude_pos == 0) then begin\n        override_map_start(92, 98, 0, dude_rot);\n      end\n      else begin\n        if (dude_pos == 1) then begin\n          override_map_start(95, 109, 0, dude_rot);\n        end\n        else begin\n          override_map_start(92, 101, 0, dude_rot);\n        end\n      end\n    end\n  end\n  call Lighting;\nend\nelse begin\n  if (script_action == 23) then begin\n    call Lighting;\n  end\nend\n","stranger":"if (has_trait(0, dude_obj, 46) and (global_var(601) == 0) and random(0, 1)) then begin\n  Critter_type := 16777520;\n  Critter_script := 856;\n  Critter_direction := random(0, 1);\n  Outer_ring := 7;\n  Inner_ring := 4;\n  call Place_critter;\n  Critter_direction := dude_rot + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  anim(Critter, 1000, Critter_direction);\n  Item := create_object_sid(40, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 2);\n  Item := create_object_sid(116, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := item_caps_adjust(Critter, random(7, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  set_global_var(288, 12);\nend\n","Lighting":"variable LVar0 := 0;\nLVar0 := game_time_hour;\nif ((LVar0 >= 600) and (LVar0 < 700)) then begin\n  set_light_level(LVar0 - 600 + 40);\nend\nelse begin\n  if ((LVar0 >= 700) and (LVar0 < 1800)) then begin\n    set_light_level(100);\n  end\n  else begin\n    if ((LVar0 >= 1800) and (LVar0 < 1900)) then begin\n      set_light_level(100 - (LVar0 - 1800));\n    end\n    else begin\n      set_light_level(40);\n    end\n  end\nend\n","Place_critter":"variable LVar0 := 0;\nvariable LVar1 := 0;\nvariable LVar2 := 0;\nCritter := create_object_sid(Critter_type, 0, 0, Critter_script);\nLVar2 := random(Inner_ring, Outer_ring);\nif (restrict_range) then begin\n  LVar0 := random(0, 2);\nend\nelse begin\n  LVar0 := random(0, 5);\nend\nCritter_tile := tile_num_in_direction(Dude_tile, Critter_direction, LVar2);\nLVar1 := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nif ((tile_distance(Dude_tile, LVar1) <= Outer_ring) and (tile_distance(Dude_tile, LVar1) >= Inner_ring)) then begin\n  Critter_tile := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nend\ncritter_attempt_placement(Critter, Critter_tile, 0);\n","hunters":"Inner_ring := 8;\nOuter_ring := 5;\ngroup_angle := random(0, 5);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777349;\nCritter_script := 241;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(23, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(36, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 4 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(17, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nItem := create_object_sid(144, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777467;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(7, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777472;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(143, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(34, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 3 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(14, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 40) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777462;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(18, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(31, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\ncall stranger;\n","Coast1":"display_msg(message_str(245, 100));\ndisplay_msg(message_str(245, 104));\nOuter_ring := (get_critter_stat(dude_obj, 1) / 3) + 7;\nInner_ring := (get_critter_stat(dude_obj, 1) / 3) + 4;\nTot_Critter_A := random(2, 4);\nCritter_type := 16777261;\nCritter_script := 953;\nif (restrict_range) then begin\n  group_angle := random(0, 1);\nend\nelse begin\n  group_angle := random(0, 5);\nend\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 1 * 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nOuter_ring := 3;\nInner_ring := 2;\nCritter_type := 16777261;\nCritter_script := 953;\nif (restrict_range) then begin\n  Critter_direction := random(0, 1);\nend\nelse begin\n  Critter_direction := group_angle + (random(0, 1 * 2) - 1);\nend\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nOuter_ring := 6;\nInner_ring := 3;\nCritter_type := 16777254;\nCritter_script := -1;\nif (restrict_range) then begin\n  Critter_direction := random(0, 1);\nend\nelse begin\n  Critter_direction := random(0, 5);\nend\ncall Place_critter;\nItem := create_object_sid(40, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(34, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, has_trait(0, dude_obj, 40) + 1);\nItem := item_caps_adjust(Critter, random(4, 25) * (1 + (2 * has_trait(0, dude_obj, 20))));\nkill_critter(Critter, 61);\ncall stranger;\n","Coast2":"display_msg(message_str(112, 313));\nTot_Critter_A := random(4, 7);\nif ((game_time_hour >= 700) and (game_time_hour < 1800)) then begin\n  Outer_ring := 6;\n  Inner_ring := 3;\nend\nelse begin\n  Outer_ring := 4;\n  Inner_ring := 3;\nend\nCritter_type := 16777284;\nCritter_script := 735;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := random(1, 2);\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\ncall stranger;\n","Coast3":"display_msg(message_str(245, 101));\nOuter_ring := 4;\nInner_ring := 1;\nTot_Critter_A := random(8, 12);\nCritter_type := 16777264;\nCritter_script := 222;\nif (restrict_range) then begin\n  group_angle := random(0, 1);\nend\nelse begin\n  group_angle := random(0, 5);\nend\nwhile(Tot_Critter_A) do begin\n  if (restrict_range) then begin\n    Critter_direction := group_angle;\n  end\n  else begin\n    Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  end\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\ncall stranger;\n","Coast4":"display_msg(message_str(245, 102));\nset_global_var(290, 0);\nset_global_var(291, 0);\nset_global_var(292, 0);\ngroup_angle := random(0, 2);\nMapX := (Dude_tile % 200) + 8;\nMapY := (Dude_tile / 200) + 6;\nif ((game_time_hour >= 1900) or (game_time_hour < 600)) then begin\n  Critter := create_object_sid(33555044, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 2), 0);\n  Critter := create_object_sid(33555044, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554640, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 5) * 200) + (MapX - 4), 0);\n  Critter := create_object_sid(33554640, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX - 7), 0);\n  Critter := create_object_sid(33554641, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 7) * 200) + MapX, 0);\n  Critter := create_object_sid(33554640, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(93, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 3) * 200) + (MapX + 3), 0);\nend\nelse begin\n  Critter := create_object_sid(33554710, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554711, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554712, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554866, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554710, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554711, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554712, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554866, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554435, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 5) * 200) + (MapX + 1), 0);\n  Critter := create_object_sid(33554529, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 5) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554530, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 7) * 200) + (MapX + 1), 0);\n  Critter := create_object_sid(33554528, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 2) * 200) + MapX, 0);\n  Critter := create_object_sid(33554527, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 5) * 200) + (MapX - 1), 0);\n  Critter := create_object_sid(33554833 + 1, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 2) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554833 + 1, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 8) * 200) + (MapX + 5), 0);\n  Critter := create_object_sid(33554833 + 2, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(46, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 7) * 200) + (MapX + 3), 0);\n  Critter := create_object_sid(93, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 3) * 200) + (MapX + 3), 0);\nend\nOuter_ring := 9;\nInner_ring := 6;\nTot_Critter_A := random(3, 4);\nset_global_var(289, Tot_Critter_A);\nCritter_script := 750;\nwhile(Tot_Critter_A) do begin\n  if (random(0, 1)) then begin\n    Critter_type := 16777247;\n    Item := create_object_sid(7, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\n  else begin\n    Critter_type := 16777419;\n    Item := create_object_sid(21, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 1) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(6, 15) * (1 + (1 * has_trait(0, dude_obj, 20))));\n  end\n  if (random(0, 1)) then begin\n    if (random(0, 2) == 0) then begin\n      Item := create_object_sid(125, 0, 0, -1);\n    end\n    else begin\n      Item := create_object_sid(124, 0, 0, -1);\n    end\n    add_obj_to_inven(Critter, Item);\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nvictim := Critter;\nCritter_script := 713;\nif (group_angle == 0) then begin\n  group_angle := 3;\nend\nelse begin\n  if (group_angle == 1) then begin\n    group_angle := 4;\n  end\n  else begin\n    if (group_angle == 2) then begin\n      group_angle := 5;\n    end\n    else begin\n      if (group_angle == 3) then begin\n        group_angle := 0;\n      end\n      else begin\n        if (group_angle == 4) then begin\n          group_angle := 1;\n        end\n        else begin\n          if (group_angle == 5) then begin\n            group_angle := 2;\n          end\n        end\n      end\n    end\n  end\nend\nTot_Critter_A := random(3, 5);\nset_global_var(288, 6);\nwhile(Tot_Critter_A) do begin\n  Critter_direction := random(0, 5);\n  if (Critter_direction == 0) then begin\n    Critter_type := 16777386;\n  end\n  else begin\n    if (Critter_direction == 1) then begin\n      Critter_type := 16777248;\n    end\n    else begin\n      if (Critter_direction == 2) then begin\n        Critter_type := 16777387;\n      end\n      else begin\n        if (Critter_direction == 3) then begin\n          Critter_type := 16777388;\n        end\n        else begin\n          Critter_type := 16777236;\n        end\n      end\n    end\n  end\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (random(0, 1)) then begin\n    Item := create_object_sid(46, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(2, 4) * (1 + (1 * has_trait(0, dude_obj, 20))));\n  end\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_type := 16777258;\nCritter_script := 713;\nset_global_var(288, 68);\nTot_Critter_A := random(1, 2);\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (random(0, 2) == 0) then begin\n    Item := create_object_sid(163, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(2, 4) * (1 + (1 * has_trait(0, dude_obj, 20))));\n  end\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_type := 16777252;\nCritter_script := 713;\nset_global_var(288, 8);\nCritter_direction := group_angle + (random(0, 2) - 1);\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nif (group_angle == 0) then begin\n  Critter_direction := 3;\nend\nelse begin\n  if (group_angle == 1) then begin\n    Critter_direction := 4;\n  end\n  else begin\n    if (group_angle == 2) then begin\n      Critter_direction := 5;\n    end\n    else begin\n      if (group_angle == 3) then begin\n        Critter_direction := 0;\n      end\n      else begin\n        if (group_angle == 4) then begin\n          Critter_direction := 1;\n        end\n        else begin\n          if (group_angle == 5) then begin\n            Critter_direction := 2;\n          end\n        end\n      end\n    end\n  end\nend\nif (random(0, 2) == 0) then begin\n  Critter_direction := Critter_direction + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\nend\nanim(Critter, 1000, Critter_direction);\nattack_setup(victim, Critter);\ncall stranger;\n","Coast5":"display_msg(message_str(112, 313));\nOuter_ring := 6;\nInner_ring := 4;\nTot_Critter_A := random(4, 6);\nCritter_type := 16777284;\nCritter_script := 735;\nif (restrict_range) then begin\n  group_angle := random(1, 2);\nend\nelse begin\n  group_angle := random(0, 5);\nend\nwhile(Tot_Critter_A) do begin\n  if (restrict_range) then begin\n    Critter_direction := group_angle;\n  end\n  else begin\n    Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  end\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\ncall stranger;\n","Coast6":"display_msg(message_str(245, 103));\nif ((game_time_hour >= 1900) or (game_time_hour < 600)) then begin\n  Critter := create_object_sid(33554640, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 4) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554641, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 2) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33555044, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554747, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 6), 0);\nend\nelse begin\n  Critter := create_object_sid(33554833 + 1, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 3) * 200) + (MapX + 3), 0);\n  Critter := create_object_sid(33554833 + 1, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 2) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554710, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554711, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554712, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554866, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554747, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 6), 0);\nend\nCritter := create_object_sid(16777229, 0, 0, 644);\ncritter_attempt_placement(Critter, ((MapY + 2) * 200) + (MapX + 11), 0);\nanim(Critter, 1000, 3);\nItem := create_object_sid(7, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(109, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(18, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(31, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2);\nItem := item_caps_adjust(Critter, random(50, 100) * (has_trait(0, dude_obj, 20) + 1));\nItem := create_object_sid(81, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 3);\nCritter := create_object_sid(16777258, 0, 0, 645);\ncritter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX + 10), 0);\nanim(Critter, 1000, 3);\nItem := create_object_sid(7, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(103, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(2, 3) * (has_trait(0, dude_obj, 20) + 1));\n","choose_start":"if ((Encounter_Num == 2) or (Encounter_Num == 5)) then begin\n  override_map_start(92, 97, 0, dude_rot);\nend\nelse begin\n  if (Encounter_Num == 6) then begin\n    if (cur_map_index == 20) then begin\n      MapX := 113;\n      MapY := 93;\n      override_map_start(MapX, MapY, 0, dude_rot);\n    end\n    else begin\n      MapX := 103;\n      MapY := 94;\n      override_map_start(MapX, MapY, 0, dude_rot);\n    end\n  end\n  else begin\n    if ((Encounter_Num == 4) or (Encounter_Num == 7)) then begin\n      override_map_start(94, 98, 0, dude_rot);\n    end\n    else begin\n      if (dude_pos == 0) then begin\n        override_map_start(99, 102, 0, dude_rot);\n      end\n      else begin\n        restrict_range := 1;\n        if (dude_pos == 1) then begin\n          override_map_start(108, 94, 0, dude_rot);\n        end\n        else begin\n          override_map_start(111, 104, 0, dude_rot);\n        end\n      end\n    end\n  end\nend\n","add_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nparty_elevation := elevation(dude_obj);\nif (global_var(26) == 5) then begin\n  if (Tandi_ptr == 0) then begin\n  end\n  critter_add_trait(Tandi_ptr, 1, 6, 0);\nend\n","update_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nif (elevation(dude_obj) != party_elevation) then begin\n  party_elevation := elevation(dude_obj);\n  if (global_var(118) == 2) then begin\n    if (Ian_ptr == 0) then begin\n    end\n    else begin\n      move_to(Ian_ptr, tile_num_in_direction(tile_num(dude_obj), 1, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(5)) then begin\n    if (Dog_ptr == 0) then begin\n    end\n    else begin\n      move_to(Dog_ptr, tile_num_in_direction(tile_num(dude_obj), 2, 1), elevation(dude_obj));\n    end\n  end\n  if (global_var(121) == 2) then begin\n    if (Tycho_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tycho_ptr, tile_num_in_direction(tile_num(dude_obj), 3, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(244) == 2) then begin\n    if (Katja_ptr == 0) then begin\n    end\n    else begin\n      move_to(Katja_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(26) == 5) then begin\n    if (Tandi_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tandi_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 4), elevation(dude_obj));\n    end\n  end\nend\n","remove_party":"if (global_var(118) == 2) then begin\n  set_global_var(118, 2);\nend\nif (global_var(5)) then begin\n  set_global_var(5, 1);\nend\nif (global_var(121) == 2) then begin\n  set_global_var(121, 2);\nend\nif (global_var(244) == 2) then begin\n  set_global_var(244, 2);\nend\nif (global_var(26) == 5) then begin\nend\n","Darkness":"set_light_level(40);\n","Invasion":"if (not(global_var(18) == 2)) then begin\n  if (global_var(149) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(13, 1);\n  end\n  if (global_var(150) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(14, 1);\n  end\n  if (global_var(151) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(16, 1);\n  end\n  if (global_var(152) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(15, 1);\n  end\n  if (global_var(153) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(12, 1);\n  end\n  if (global_var(154) <= 0) then begin\n    set_global_var(11, 1);\n  end\n  if (global_var(148) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(7, 1);\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>