<!DOCTYPE html><html><head><title>duc</title><meta charset="utf-8" /></head><body><svg width="1863pt" height="876pt"
 viewBox="0.00 0.00 1863.14 875.76" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 871.76)">
<title>duc</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-871.76 1859.14,-871.76 1859.14,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="602.43" cy="-849.76" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="258.43" cy="-715.92" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;critter_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;critter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M576.43,-844.32C536.35,-836.96 457.48,-820.46 394.43,-794.76 354.71,-778.58 312.34,-752.81 285.64,-735.4"/>
<polygon fill="#555555" stroke="#555555" points="287.82,-731.98 277.55,-729.39 283.97,-737.82 287.82,-731.98"/>
</g>
<!-- damage_p_proc -->
<g id="node3" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="430.43" cy="-715.92" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;damage_p_proc -->
<g id="edge2" class="edge">
<title>start&#45;&gt;damage_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M576.26,-844.41C546.31,-838.19 497.43,-824.1 466.43,-794.76 452.06,-781.16 442.91,-760.71 437.43,-744.18"/>
<polygon fill="#555555" stroke="#555555" points="440.59,-743.55 434.34,-734.99 433.89,-745.58 440.59,-743.55"/>
</g>
<!-- destroy_p_proc -->
<g id="node4" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="502.43" cy="-715.92" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge3" class="edge">
<title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M583.69,-836.36C569.79,-826.41 551.13,-811.41 538.43,-794.76 526.77,-779.47 517.71,-759.79 511.59,-744.04"/>
<polygon fill="#555555" stroke="#555555" points="514.58,-743.04 507.84,-734.87 508.02,-745.46 514.58,-743.04"/>
</g>
<!-- look_at_p_proc -->
<g id="node5" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="702.43" cy="-715.92" rx="154.5" ry="78.84"/>
<text text-anchor="middle" x="702.43" y="-754.37" font-family="Times,serif" font-size="14.00">Вы видите странствующего</text>
<text text-anchor="middle" x="702.43" y="-737.12" font-family="Times,serif" font-size="14.00">торговца азиатской</text>
<text text-anchor="middle" x="702.43" y="-719.87" font-family="Times,serif" font-size="14.00">внешности.</text>
<text text-anchor="middle" x="702.43" y="-702.62" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="702.43" y="-685.37" font-family="Times,serif" font-size="14.00">Вы видите Дака,</text>
<text text-anchor="middle" x="702.43" y="-668.12" font-family="Times,serif" font-size="14.00">странствующего купца.</text>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge4" class="edge">
<title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M614.29,-833.12C621.21,-824 630.53,-811.72 640.52,-798.55"/>
<polygon fill="#555555" stroke="#555555" points="643.91,-800.87 647.16,-790.79 638.33,-796.64 643.91,-800.87"/>
</g>
<!-- pickup_p_proc -->
<g id="node6" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="902.43" cy="-715.92" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;pickup_p_proc -->
<g id="edge5" class="edge">
<title>start&#45;&gt;pickup_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M629.09,-846.35C688.55,-840.51 829.66,-823.88 866.43,-794.76 882.13,-782.33 891.28,-761.47 896.41,-744.47"/>
<polygon fill="#555555" stroke="#555555" points="900.02,-745.55 899.24,-734.98 893.26,-743.73 900.02,-745.55"/>
</g>
<!-- talk_p_proc -->
<g id="node7" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1043.43" cy="-715.92" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge6" class="edge">
<title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M629.88,-848.98C688.94,-848.47 831.41,-842 938.43,-794.76 969.86,-780.89 1000.83,-756.21 1020.9,-738.35"/>
<polygon fill="#555555" stroke="#555555" points="1022.76,-741.48 1027.8,-732.16 1018.05,-736.3 1022.76,-741.48"/>
</g>
<!-- flee_dude -->
<g id="node8" class="node">
<title>flee_dude</title>
<ellipse fill="#ffffff" stroke="#000000" cx="29.43" cy="-509.04" rx="27" ry="18"/>
</g>
<!-- critter_p_proc&#45;&gt;flee_dude -->
<g id="edge7" class="edge">
<title>critter_p_proc&#45;&gt;flee_dude</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M234.89,-706.71C194.82,-691.62 113.05,-655.8 65.43,-600.08 50.16,-582.21 40.84,-557.06 35.52,-537.87"/>
<polygon fill="#555555" stroke="#555555" points="38.7,-537.19 32.83,-528.37 31.92,-538.93 38.7,-537.19"/>
</g>
<!-- get_reaction -->
<g id="node9" class="node">
<title>get_reaction</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1371.43" cy="-382" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;get_reaction -->
<g id="edge8" class="edge">
<title>talk_p_proc&#45;&gt;get_reaction</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1050.71,-698.43C1059.36,-680.72 1075.44,-652.98 1097.43,-637.08 1144.38,-603.13 1183.18,-642.69 1222.43,-600.08 1278.44,-539.28 1204.96,-479.29 1260.43,-418 1270.59,-406.77 1306.89,-396.7 1335.25,-390.27"/>
<polygon fill="#555555" stroke="#555555" points="1335.63,-393.55 1344.65,-387.99 1334.14,-386.71 1335.63,-393.55"/>
</g>
<!-- Duc09 -->
<g id="node10" class="node">
<title>Duc09</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1412.43" cy="-509.04" rx="143.37" ry="66.64"/>
<text text-anchor="middle" x="1412.43" y="-538.86" font-family="Times,serif" font-size="14.00">Если путешествуешь в</text>
<text text-anchor="middle" x="1412.43" y="-521.61" font-family="Times,serif" font-size="14.00">одиночку, будь</text>
<text text-anchor="middle" x="1412.43" y="-504.36" font-family="Times,serif" font-size="14.00">осторожнее. В последнее</text>
<text text-anchor="middle" x="1412.43" y="-487.11" font-family="Times,serif" font-size="14.00">время из Шэйди Сэндс</text>
<text text-anchor="middle" x="1412.43" y="-469.86" font-family="Times,serif" font-size="14.00">пропадают люди.</text>
</g>
<!-- talk_p_proc&#45;&gt;Duc09 -->
<g id="edge9" class="edge">
<title>talk_p_proc&#45;&gt;Duc09</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1050.07,-698.02C1058.25,-679.66 1074,-651.09 1097.43,-637.08 1158.09,-600.81 1189.29,-643.99 1255.43,-619.08 1283.64,-608.45 1311.6,-591.64 1335.94,-574.36"/>
<polygon fill="#555555" stroke="#555555" points="1337.69,-576.69 1343.73,-567.99 1333.58,-571.02 1337.69,-576.69"/>
</g>
<!-- Duc10 -->
<g id="node11" class="node">
<title>Duc10</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1714.43" cy="-509.04" rx="140.71" ry="66.64"/>
<text text-anchor="middle" x="1714.43" y="-538.86" font-family="Times,serif" font-size="14.00">Эй, мне про тебя</text>
<text text-anchor="middle" x="1714.43" y="-521.61" font-family="Times,serif" font-size="14.00">рассказывали. Спасение</text>
<text text-anchor="middle" x="1714.43" y="-504.36" font-family="Times,serif" font-size="14.00">девушки от налетчиков &#45;</text>
<text text-anchor="middle" x="1714.43" y="-487.11" font-family="Times,serif" font-size="14.00">твоих рук дело, да?</text>
<text text-anchor="middle" x="1714.43" y="-469.86" font-family="Times,serif" font-size="14.00">Отличная работа.</text>
</g>
<!-- talk_p_proc&#45;&gt;Duc10 -->
<g id="edge10" class="edge">
<title>talk_p_proc&#45;&gt;Duc10</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1049.84,-698.2C1057.89,-679.72 1073.62,-650.77 1097.43,-637.08 1119.99,-624.11 1539.64,-608.01 1564.43,-600.08 1586.28,-593.08 1608.3,-582.38 1628.48,-570.76"/>
<polygon fill="#555555" stroke="#555555" points="1630.09,-573.28 1636.92,-565.18 1626.53,-567.25 1630.09,-573.28"/>
</g>
<!-- Duc01 -->
<g id="node12" class="node">
<title>Duc01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="804.43" cy="-509.04" rx="152.91" ry="66.64"/>
<text text-anchor="middle" x="804.43" y="-538.86" font-family="Times,serif" font-size="14.00">Привет! Меня зовут Дак, я</text>
<text text-anchor="middle" x="804.43" y="-521.61" font-family="Times,serif" font-size="14.00">иду торговать в Шэйди</text>
<text text-anchor="middle" x="804.43" y="-504.36" font-family="Times,serif" font-size="14.00">Сэндс. Может, и ты</text>
<text text-anchor="middle" x="804.43" y="-487.11" font-family="Times,serif" font-size="14.00">что&#45;нибудь посмотришь из</text>
<text text-anchor="middle" x="804.43" y="-469.86" font-family="Times,serif" font-size="14.00">моих товаров?</text>
</g>
<!-- talk_p_proc&#45;&gt;Duc01 -->
<g id="edge11" class="edge">
<title>talk_p_proc&#45;&gt;Duc01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1027.38,-701.16C997.92,-675.91 933.48,-620.67 881.42,-576.04"/>
<polygon fill="#555555" stroke="#555555" points="884.05,-572.82 874.18,-568.97 879.49,-578.14 884.05,-572.82"/>
</g>
<!-- Duc06 -->
<g id="node13" class="node">
<title>Duc06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1094.43" cy="-509.04" rx="118.97" ry="91.04"/>
<text text-anchor="middle" x="1094.43" y="-556.11" font-family="Times,serif" font-size="14.00">Немногие решаются</text>
<text text-anchor="middle" x="1094.43" y="-538.86" font-family="Times,serif" font-size="14.00">путешествовать в</text>
<text text-anchor="middle" x="1094.43" y="-521.61" font-family="Times,serif" font-size="14.00">одиночку. Кто ты?</text>
<text text-anchor="middle" x="1094.43" y="-504.36" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1094.43" y="-487.11" font-family="Times,serif" font-size="14.00">Я </text>
<text text-anchor="middle" x="1094.43" y="-469.86" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1094.43" y="-452.61" font-family="Times,serif" font-size="14.00">.</text>
</g>
<!-- talk_p_proc&#45;&gt;Duc06 -->
<g id="edge12" class="edge">
<title>talk_p_proc&#45;&gt;Duc06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1047.69,-697.81C1052.66,-677.85 1061.28,-643.22 1069.77,-609.09"/>
<polygon fill="#555555" stroke="#555555" points="1073.38,-610.08 1072.4,-599.53 1066.59,-608.39 1073.38,-610.08"/>
</g>
<!-- Duc07 -->
<g id="node14" class="node">
<title>Duc07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="225.43" cy="-509.04" rx="150.79" ry="30.05"/>
<text text-anchor="middle" x="225.43" y="-512.99" font-family="Times,serif" font-size="14.00">Привет еще раз! Чем могу</text>
<text text-anchor="middle" x="225.43" y="-495.74" font-family="Times,serif" font-size="14.00">помочь?</text>
</g>
<!-- talk_p_proc&#45;&gt;Duc07 -->
<g id="edge13" class="edge">
<title>talk_p_proc&#45;&gt;Duc07</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1029.41,-700.28C1010.67,-681.79 975.47,-650.74 938.43,-637.08 910.43,-626.75 431.2,-608.03 402.43,-600.08 358.08,-587.82 311.87,-563.87 277.79,-543.75"/>
<polygon fill="#555555" stroke="#555555" points="279.89,-540.33 269.51,-538.19 276.29,-546.34 279.89,-540.33"/>
</g>
<!-- Duc08 -->
<g id="node15" class="node">
<title>Duc08</title>
<ellipse fill="#ffffff" stroke="#000000" cx="509.43" cy="-509.04" rx="98.03" ry="18"/>
<text text-anchor="middle" x="509.43" y="-504.36" font-family="Times,serif" font-size="14.00">Чего ты хочешь?</text>
</g>
<!-- talk_p_proc&#45;&gt;Duc08 -->
<g id="edge14" class="edge">
<title>talk_p_proc&#45;&gt;Duc08</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1028.97,-700.28C1010.01,-682.1 974.87,-651.68 938.43,-637.08 815.36,-587.76 766.52,-646.75 642.43,-600.08 602.04,-584.89 561.88,-555.16 536.43,-534.02"/>
<polygon fill="#555555" stroke="#555555" points="538.96,-530.73 529.07,-526.94 534.44,-536.07 538.96,-530.73"/>
</g>
<!-- ReactToLevel -->
<g id="node23" class="node">
<title>ReactToLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1095.43" cy="-153.8" rx="27" ry="18"/>
</g>
<!-- get_reaction&#45;&gt;ReactToLevel -->
<g id="edge31" class="edge">
<title>get_reaction&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1383.77,-365.53C1387.65,-359.74 1391.44,-352.89 1393.43,-346 1406.83,-299.49 1422.75,-275.61 1393.43,-237.1 1361.66,-195.37 1204.67,-169.38 1132.21,-159.43"/>
<polygon fill="#555555" stroke="#555555" points="1133.12,-155.89 1122.74,-158.02 1132.19,-162.82 1133.12,-155.89"/>
</g>
<!-- UpReact -->
<g id="node22" class="node">
<title>UpReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1595.43" cy="-291.55" rx="27" ry="18"/>
</g>
<!-- Duc10&#45;&gt;UpReact -->
<g id="edge29" class="edge">
<title>Duc10&#45;&gt;UpReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1679.21,-444.26C1655.93,-402.11 1626.68,-349.13 1609.61,-318.23"/>
<polygon fill="#555555" stroke="#555555" points="1612.22,-316.71 1604.32,-309.65 1606.09,-320.09 1612.22,-316.71"/>
</g>
<!-- Duc02 -->
<g id="node16" class="node">
<title>Duc02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="491.43" cy="-291.55" rx="90.14" ry="18"/>
<text text-anchor="middle" x="491.43" y="-286.88" font-family="Times,serif" font-size="14.00">Я покажу тебе.</text>
</g>
<!-- Duc01&#45;&gt;Duc02 -->
<g id="edge15" class="edge">
<title>Duc01&#45;&gt;Duc02</title>
<path fill="none" stroke="#009955" d="M693.84,-462.71C661.25,-446.06 627.02,-425.04 599.68,-400 585.63,-387.14 589.03,-378.28 576.43,-364 560.69,-346.14 540.36,-328.89 523.53,-315.81"/>
<polygon fill="#009955" stroke="#009955" points="526.16,-312.66 516.09,-309.37 521.91,-318.22 526.16,-312.66"/>
<text text-anchor="middle" x="666.81" y="-377.32" font-family="Times,serif" font-size="14.00" fill="#009955">Что ты продаешь?</text>
</g>
<!-- Duc03 -->
<g id="node17" class="node">
<title>Duc03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="753.43" cy="-291.55" rx="153.44" ry="54.45"/>
<text text-anchor="middle" x="753.43" y="-312.75" font-family="Times,serif" font-size="14.00">Да, Шэйди Сэндс &#45; часть</text>
<text text-anchor="middle" x="753.43" y="-295.5" font-family="Times,serif" font-size="14.00">моего обычного маршрута.</text>
<text text-anchor="middle" x="753.43" y="-278.25" font-family="Times,serif" font-size="14.00">Если хочешь, пойдем с</text>
<text text-anchor="middle" x="753.43" y="-261" font-family="Times,serif" font-size="14.00">нами.</text>
</g>
<!-- Duc01&#45;&gt;Duc03 -->
<g id="edge16" class="edge">
<title>Duc01&#45;&gt;Duc03</title>
<path fill="none" stroke="#992800" d="M803.98,-442.11C802.39,-417.22 798.85,-388.91 791.43,-364 790.55,-361.03 789.53,-358.05 788.42,-355.07"/>
<polygon fill="#992800" stroke="#992800" points="791.32,-353.93 784.29,-346 784.85,-356.58 791.32,-353.93"/>
<text text-anchor="middle" x="899.93" y="-385.95" font-family="Times,serif" font-size="14.00" fill="#992800">Ты часто бываешь в Шэйди</text>
<text text-anchor="middle" x="899.93" y="-368.7" font-family="Times,serif" font-size="14.00" fill="#992800">Сэндс?</text>
</g>
<!-- Duc04 -->
<g id="node18" class="node">
<title>Duc04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1262.43" cy="-291.55" rx="122.15" ry="42.25"/>
<text text-anchor="middle" x="1262.43" y="-304.13" font-family="Times,serif" font-size="14.00">Извини, я сразу не</text>
<text text-anchor="middle" x="1262.43" y="-286.88" font-family="Times,serif" font-size="14.00">заметил, что у тебя с</text>
<text text-anchor="middle" x="1262.43" y="-269.63" font-family="Times,serif" font-size="14.00">мозгами беда.</text>
</g>
<!-- Duc01&#45;&gt;Duc04 -->
<g id="edge17" class="edge">
<title>Duc01&#45;&gt;Duc04</title>
<path fill="none" stroke="#000599" d="M896.39,-455.57C919.13,-442.97 943.54,-429.77 966.43,-418 983.05,-409.45 987.63,-408.18 1004.43,-400 1036.6,-384.34 1043.34,-377.6 1076.43,-364 1100.22,-354.22 1107.29,-354.86 1131.43,-346 1145.86,-340.7 1161.05,-334.8 1175.79,-328.91"/>
<polygon fill="#000599" stroke="#000599" points="1176.93,-331.82 1184.9,-324.84 1174.31,-325.33 1176.93,-331.82"/>
<text text-anchor="middle" x="1094.43" y="-377.32" font-family="Times,serif" font-size="14.00" fill="#000599">Ырг!</text>
</g>
<!-- Duc06&#45;&gt;Duc04 -->
<g id="edge21" class="edge">
<title>Duc06&#45;&gt;Duc04</title>
<path fill="none" stroke="#997b00" d="M1108.53,-418.31C1114.59,-399.02 1123.27,-379.72 1135.68,-364 1146.24,-350.62 1160.05,-339.32 1174.65,-329.95"/>
<polygon fill="#997b00" stroke="#997b00" points="1176.1,-332.55 1182.82,-324.36 1172.46,-326.58 1176.1,-332.55"/>
<text text-anchor="middle" x="1186.31" y="-377.32" font-family="Times,serif" font-size="14.00" fill="#997b00">Не твое дело.</text>
</g>
<!-- Duc06&#45;&gt;Duc04 -->
<g id="edge22" class="edge">
<title>Duc06&#45;&gt;Duc04</title>
<path fill="none" stroke="#4e0099" d="M1187.16,-451.37C1205.36,-436.6 1222.72,-419.33 1235.43,-400 1246.16,-383.68 1252.63,-363.39 1256.52,-344.86"/>
<polygon fill="#4e0099" stroke="#4e0099" points="1260.12,-345.67 1258.53,-335.19 1253.24,-344.37 1260.12,-345.67"/>
<text text-anchor="middle" x="1269.43" y="-377.32" font-family="Times,serif" font-size="14.00" fill="#4e0099">Ырг!</text>
</g>
<!-- Duc07&#45;&gt;Duc02 -->
<g id="edge24" class="edge">
<title>Duc07&#45;&gt;Duc02</title>
<path fill="none" stroke="#99000b" d="M234.46,-478.68C245.77,-446.43 268.11,-395.09 303.68,-364 305.06,-362.79 385.52,-332.39 440.66,-311.63"/>
<polygon fill="#99000b" stroke="#99000b" points="441.5,-314.68 449.63,-307.88 439.04,-308.12 441.5,-314.68"/>
<text text-anchor="middle" x="370.81" y="-377.32" font-family="Times,serif" font-size="14.00" fill="#99000b">Что ты продаешь?</text>
</g>
<!-- Duc05 -->
<g id="node20" class="node">
<title>Duc05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="190.43" cy="-153.8" rx="155.03" ry="30.05"/>
<text text-anchor="middle" x="190.43" y="-157.75" font-family="Times,serif" font-size="14.00">Туда примерно день пешим</text>
<text text-anchor="middle" x="190.43" y="-140.5" font-family="Times,serif" font-size="14.00">ходом. Вперед!</text>
</g>
<!-- Duc07&#45;&gt;Duc05 -->
<g id="edge23" class="edge">
<title>Duc07&#45;&gt;Duc05</title>
<path fill="none" stroke="#009921" d="M218.06,-478.71C210.33,-446.43 198.63,-392.89 193.68,-346 188.19,-294.01 188.22,-233.65 189.06,-194.87"/>
<polygon fill="#009921" stroke="#009921" points="192.58,-195.14 189.33,-185.05 185.58,-194.96 192.58,-195.14"/>
<text text-anchor="middle" x="277.31" y="-295.5" font-family="Times,serif" font-size="14.00" fill="#009921">Можно пойти с вами в</text>
<text text-anchor="middle" x="277.31" y="-278.25" font-family="Times,serif" font-size="14.00" fill="#009921">Шэйди Сэндс?</text>
</g>
<!-- DucEnd -->
<g id="node21" class="node">
<title>DucEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="430.43" cy="-18" rx="27" ry="18"/>
</g>
<!-- Duc07&#45;&gt;DucEnd -->
<g id="edge25" class="edge">
<title>Duc07&#45;&gt;DucEnd</title>
<path fill="none" stroke="#003899" d="M189.62,-479.48C110.27,-412.81 -66.22,-243.48 26.43,-123.75 71.71,-65.23 301.87,-33.41 393.1,-22.94"/>
<polygon fill="#003899" stroke="#003899" points="393.23,-26.34 402.77,-21.74 392.44,-19.38 393.23,-26.34"/>
<text text-anchor="middle" x="61.81" y="-205.8" font-family="Times,serif" font-size="14.00" fill="#003899">Ничем, спасибо.</text>
</g>
<!-- Duc08&#45;&gt;Duc02 -->
<g id="edge27" class="edge">
<title>Duc08&#45;&gt;Duc02</title>
<path fill="none" stroke="#990091" d="M494.99,-491.11C478.84,-470.95 453.64,-435.52 443.68,-400 439.36,-384.59 439.03,-379.31 443.68,-364 448.78,-347.18 459.3,-330.71 469.17,-317.83"/>
<polygon fill="#990091" stroke="#990091" points="472.3,-320.52 475.83,-310.52 466.84,-316.14 472.3,-320.52"/>
<text text-anchor="middle" x="510.81" y="-377.32" font-family="Times,serif" font-size="14.00" fill="#990091">Что ты продаешь?</text>
</g>
<!-- Duc08&#45;&gt;Duc04 -->
<g id="edge28" class="edge">
<title>Duc08&#45;&gt;Duc04</title>
<path fill="none" stroke="#009974" d="M529.13,-490.94C553.88,-470.39 598.44,-436.4 642.43,-418 680.06,-402.25 699.74,-424.4 732.43,-400 746.93,-389.18 736.16,-373.7 751.43,-364 787.1,-341.32 1090.16,-355.11 1131.43,-346 1148.11,-342.31 1165.4,-336.69 1181.74,-330.44"/>
<polygon fill="#009974" stroke="#009974" points="1182.75,-333.41 1190.77,-326.49 1180.18,-326.9 1182.75,-333.41"/>
<text text-anchor="middle" x="769.43" y="-377.32" font-family="Times,serif" font-size="14.00" fill="#009974">Ырг!</text>
</g>
<!-- Duc08&#45;&gt;DucEnd -->
<g id="edge26" class="edge">
<title>Duc08&#45;&gt;DucEnd</title>
<path fill="none" stroke="#659900" d="M492,-491.05C465.02,-463.5 414.03,-406.08 392.43,-346 354.19,-239.64 397.71,-102.47 419.49,-45.56"/>
<polygon fill="#659900" stroke="#659900" points="423,-47.18 423.4,-36.59 416.49,-44.62 423,-47.18"/>
<text text-anchor="middle" x="426.56" y="-205.8" font-family="Times,serif" font-size="14.00" fill="#659900">Нет, ничего.</text>
</g>
<!-- DucBarter -->
<g id="node19" class="node">
<title>DucBarter</title>
<ellipse fill="#ffffff" stroke="#000000" cx="474.43" cy="-153.8" rx="27" ry="18"/>
</g>
<!-- Duc02&#45;&gt;DucBarter -->
<g id="edge18" class="edge">
<title>Duc02&#45;&gt;DucBarter</title>
<path fill="none" stroke="#319900" d="M489.24,-273.08C486.39,-250.27 481.35,-210.07 477.95,-182.94"/>
<polygon fill="#319900" stroke="#319900" points="481.32,-182.69 476.61,-173.2 474.38,-183.56 481.32,-182.69"/>
<text text-anchor="middle" x="538.68" y="-205.8" font-family="Times,serif" font-size="14.00" fill="#319900">Я покажу тебе.</text>
</g>
<!-- Duc03&#45;&gt;Duc05 -->
<g id="edge19" class="edge">
<title>Duc03&#45;&gt;Duc05</title>
<path fill="none" stroke="#99005e" d="M670.73,-245.34C655.57,-236.78 639.96,-227.79 625.43,-219.1 613.21,-211.8 611.85,-206.61 598.43,-201.85 530.97,-177.97 509.52,-192.02 438.43,-183.85 403.99,-179.9 366.86,-175.58 332.09,-171.51"/>
<polygon fill="#99005e" stroke="#99005e" points="332.72,-167.94 322.38,-170.26 331.9,-174.9 332.72,-167.94"/>
<text text-anchor="middle" x="688.43" y="-205.8" font-family="Times,serif" font-size="14.00" fill="#99005e">Отлично, пошли!</text>
</g>
<!-- Duc03&#45;&gt;DucEnd -->
<g id="edge20" class="edge">
<title>Duc03&#45;&gt;DucEnd</title>
<path fill="none" stroke="#008b99" d="M756.54,-236.91C756.03,-225.19 754.56,-212.97 751.43,-201.85 730.81,-128.68 728.35,-96.67 665.43,-54 634.06,-32.73 526.65,-23.96 468.52,-20.71"/>
<polygon fill="#008b99" stroke="#008b99" points="468.76,-17.16 458.59,-20.13 468.39,-24.15 468.76,-17.16"/>
<text text-anchor="middle" x="795.93" y="-149.13" font-family="Times,serif" font-size="14.00" fill="#008b99">Нет, спасибо.</text>
</g>
<!-- DucBarter&#45;&gt;DucEnd -->
<g id="edge30" class="edge">
<title>DucBarter&#45;&gt;DucEnd</title>
<path fill="none" stroke="#994700" d="M468.86,-135.86C461.42,-113.24 448.16,-72.91 439.33,-46.06"/>
<polygon fill="#994700" stroke="#994700" points="442.41,-45.21 435.96,-36.81 435.76,-47.4 442.41,-45.21"/>
<text text-anchor="middle" x="560.68" y="-92.45" font-family="Times,serif" font-size="14.00" fill="#994700">Вы видите странствующего</text>
<text text-anchor="middle" x="560.68" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#994700">торговца азиатской</text>
<text text-anchor="middle" x="560.68" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#994700">внешности.</text>
</g>
<!-- UpReact&#45;&gt;ReactToLevel -->
<g id="edge32" class="edge">
<title>UpReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1577.1,-278.21C1547.05,-258.62 1484.77,-220.69 1426.43,-201.85 1323.99,-168.78 1196.26,-158.94 1133.64,-156.02"/>
<polygon fill="#555555" stroke="#555555" points="1133.87,-152.48 1123.73,-155.55 1133.57,-159.48 1133.87,-152.48"/>
</g>
<!-- LevelToReact -->
<g id="node24" class="node">
<title>LevelToReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1133.43" cy="-715.92" rx="27" ry="18"/>
</g>
<!-- DownReact -->
<g id="node25" class="node">
<title>DownReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="951.43" cy="-291.55" rx="27" ry="18"/>
</g>
<!-- DownReact&#45;&gt;ReactToLevel -->
<g id="edge33" class="edge">
<title>DownReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M960.57,-274.11C967.2,-262.99 976.84,-248.34 987.43,-237.1 1011.46,-211.63 1043.96,-188.01 1067.02,-172.67"/>
<polygon fill="#555555" stroke="#555555" points="1068.51,-175.22 1074.96,-166.82 1064.68,-169.36 1068.51,-175.22"/>
</g>
<!-- BottomReact -->
<g id="node26" class="node">
<title>BottomReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1214.43" cy="-849.76" rx="27" ry="18"/>
</g>
<!-- TopReact -->
<g id="node27" class="node">
<title>TopReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1286.43" cy="-849.76" rx="27" ry="18"/>
</g>
<!-- BigUpReact -->
<g id="node28" class="node">
<title>BigUpReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1023.43" cy="-291.55" rx="27" ry="18"/>
</g>
<!-- BigUpReact&#45;&gt;ReactToLevel -->
<g id="edge34" class="edge">
<title>BigUpReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1032.11,-274.18C1044.44,-250.94 1067.13,-208.16 1081.73,-180.63"/>
<polygon fill="#555555" stroke="#555555" points="1085.12,-182.71 1086.71,-172.23 1078.94,-179.43 1085.12,-182.71"/>
</g>
<!-- BigDownReact -->
<g id="node29" class="node">
<title>BigDownReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1095.43" cy="-291.55" rx="27" ry="18"/>
</g>
<!-- BigDownReact&#45;&gt;ReactToLevel -->
<g id="edge35" class="edge">
<title>BigDownReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1095.43,-273.08C1095.43,-250.27 1095.43,-210.07 1095.43,-182.94"/>
<polygon fill="#555555" stroke="#555555" points="1098.93,-183.2 1095.43,-173.2 1091.93,-183.2 1098.93,-183.2"/>
</g>
<!-- UpReactLevel -->
<g id="node30" class="node">
<title>UpReactLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1070.43" cy="-849.76" rx="27" ry="18"/>
</g>
<!-- UpReactLevel&#45;&gt;LevelToReact -->
<g id="edge36" class="edge">
<title>UpReactLevel&#45;&gt;LevelToReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1078.41,-832.07C1089.11,-809.68 1108.22,-769.69 1120.86,-743.23"/>
<polygon fill="#555555" stroke="#555555" points="1124.36,-745.02 1125.52,-734.48 1118.05,-742 1124.36,-745.02"/>
</g>
<!-- DownReactLevel -->
<g id="node31" class="node">
<title>DownReactLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1142.43" cy="-849.76" rx="27" ry="18"/>
</g>
<!-- DownReactLevel&#45;&gt;LevelToReact -->
<g id="edge37" class="edge">
<title>DownReactLevel&#45;&gt;LevelToReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1141.25,-831.53C1139.75,-809.52 1137.13,-771.15 1135.34,-744.92"/>
<polygon fill="#555555" stroke="#555555" points="1138.78,-744.9 1134.61,-735.16 1131.8,-745.38 1138.78,-744.9"/>
</g>
<!-- Goodbyes -->
<g id="node32" class="node">
<title>Goodbyes</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1358.43" cy="-849.76" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (not(initialized)) then begin\n  critter_add_trait(self_obj, 1, 6, 2);\n  critter_add_trait(self_obj, 1, 5, 6);\n  known := global_var(333);\n  initialized := 1;\nend\nelse begin\n  if (script_action == 12) then begin\n    call critter_p_proc;\n  end\n  else begin\n    if (script_action == 14) then begin\n      call damage_p_proc;\n    end\n    else begin\n      if (script_action == 18) then begin\n        call destroy_p_proc;\n      end\n      else begin\n        if (script_action == 21) then begin\n          call look_at_p_proc;\n        end\n        else begin\n          if (script_action == 4) then begin\n            call pickup_p_proc;\n          end\n          else begin\n            if (script_action == 11) then begin\n              call talk_p_proc;\n            end\n          end\n        end\n      end\n    end\n  end\nend\n","critter_p_proc":"if ((global_var(289) == 1) and (tile_distance_objs(dude_obj, self_obj) < 8)) then begin\n  call flee_dude;\nend\n","damage_p_proc":"set_global_var(289, 1);\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (source_obj == dude_obj) then begin\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n      set_global_var(156, 1);\n      set_global_var(157, 0);\n    end\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n      set_global_var(157, 1);\n      set_global_var(156, 0);\n    end\n    set_global_var(159, global_var(159) + 1);\n    if ((global_var(159) % 2) == 0) then begin\n      set_global_var(155, global_var(155) - 1);\n    end\n  end\nend\nset_global_var(331, 1);\nset_global_var(289, 1);\n","look_at_p_proc":"script_overrides;\nif (not(known)) then begin\n  display_msg(message_str(243, 100));\nend\nelse begin\n  display_msg(message_str(243, 101));\nend\n","pickup_p_proc":"set_global_var(289, 1);\n","talk_p_proc":"if (global_var(289) == 1) then begin\n  float_msg(self_obj, message_str(669, random(100, 105)), 0);\nend\nelse begin\n  start_gdialog(243, self_obj, 4, -1, -1);\n  gsay_start;\n  call get_reaction;\n  if ((global_var(26) == 1) and (Tandi_seed == 0)) then begin\n    call Duc09;\n  end\n  else begin\n    if ((global_var(26) == 2) and (Tandi_rescued == 0)) then begin\n      call Duc10;\n    end\n    else begin\n      if (not(known)) then begin\n        if (local_var(1) > 1) then begin\n          call Duc01;\n        end\n        else begin\n          call Duc06;\n        end\n      end\n      else begin\n        if (local_var(1) > 1) then begin\n          call Duc07;\n        end\n        else begin\n          call Duc08;\n        end\n      end\n    end\n  end\n  gsay_end;\n  end_dialogue;\nend\n","flee_dude":"variable LVar0 := 0;\nvariable LVar1 := 0;\nvariable LVar2 := 0;\nwhile(LVar1 < 5) do begin\n  if (tile_distance(tile_num(dude_obj), tile_num_in_direction(tile_num(self_obj), LVar1, 3)) > LVar2) then begin\n    LVar0 := tile_num_in_direction(tile_num(self_obj), LVar1, 3);\n    LVar2 := tile_distance(tile_num(dude_obj), LVar0);\n  end\n  LVar1 := LVar1 + 1;\nend\nanimate_move_obj_to_tile(self_obj, LVar0, 1);\n","Duc01":"gsay_reply(243, 102);\nknown := 1;\nset_global_var(333, known);\ngiq_option(4, 243, 103, Duc02, 50);\ngiq_option(4, 243, 104, Duc03, 50);\ngiq_option(-3, 243, 105, Duc04, 50);\n","Duc02":"gsay_reply(243, 106);\ngiq_option(0, 634, 106, DucBarter, 49);\n","Duc03":"gsay_reply(243, 107);\ngiq_option(4, 243, 108, Duc05, 50);\ngiq_option(4, 243, 109, DucEnd, 50);\n","Duc04":"gsay_message(243, 110, 50);\n","Duc05":"gsay_message(243, 111, 50);\ngame_time_advance(game_ticks(86400));\nif (global_var(68) < 1) then begin\n  set_global_var(68, 1);\nend\nload_map(26, 1);\n","Duc06":"gsay_reply(243, 113);\ngiq_option(4, 243, 114, Duc04, 51);\ngiq_option(4, 243, message_str(243, 115) + proto_data(obj_pid(dude_obj), 1) + message_str(243, 116), Duc08, 50);\ngiq_option(-3, 243, 117, Duc04, 50);\n","Duc07":"gsay_reply(243, 118);\ngiq_option(4, 243, 119, Duc05, 50);\ngiq_option(4, 243, 120, Duc02, 50);\ngiq_option(4, 243, 121, DucEnd, 50);\n","Duc08":"gsay_reply(243, 122);\nknown := 1;\nset_global_var(333, known);\ngiq_option(6, 243, 123, DucEnd, 50);\ngiq_option(6, 243, 124, Duc02, 50);\ngiq_option(-3, 243, 125, Duc04, 50);\n","Duc09":"gsay_message(243, 126, 50);\nTandi_seed := 1;\n","Duc10":"gsay_message(243, 127, 49);\nTandi_rescued := 1;\ncall UpReact;\n","DucBarter":"gdialog_mod_barter(0);\ngiq_option(0, 634, 100, DucEnd, 50);\n","DucEnd":"[]","get_reaction":"if (local_var(2) == 0) then begin\n  set_local_var(0, 50);\n  set_local_var(1, 2);\n  set_local_var(2, 1);\n  set_local_var(0, local_var(0) + (5 * get_critter_stat(dude_obj, 3)) - 25);\n  set_local_var(0, local_var(0) + (10 * has_trait(0, dude_obj, 10)));\n  if (has_trait(0, dude_obj, 39)) then begin\n    if (global_var(155) > 0) then begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n  end\n  else begin\n    if (local_var(3) == 1) then begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n  end\n  if (global_var(158) > 2) then begin\n    set_local_var(0, local_var(0) - 30);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_local_var(0, local_var(0) + 20);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_local_var(0, local_var(0) - 20);\n  end\n  call ReactToLevel;\nend\n","ReactToLevel":"if (local_var(0) <= 25) then begin\n  set_local_var(1, 1);\nend\nelse begin\n  if (local_var(0) <= 75) then begin\n    set_local_var(1, 2);\n  end\n  else begin\n    set_local_var(1, 3);\n  end\nend\n","LevelToReact":"if (local_var(1) == 1) then begin\n  set_local_var(0, random(1, 25));\nend\nelse begin\n  if (local_var(1) == 2) then begin\n    set_local_var(0, random(26, 75));\n  end\n  else begin\n    set_local_var(0, random(76, 100));\n  end\nend\n","UpReact":"set_local_var(0, local_var(0) + 10);\ncall ReactToLevel;\n","DownReact":"set_local_var(0, local_var(0) - 10);\ncall ReactToLevel;\n","BottomReact":"set_local_var(1, 1);\nset_local_var(0, 1);\n","TopReact":"set_local_var(0, 100);\nset_local_var(1, 3);\n","BigUpReact":"set_local_var(0, local_var(0) + 25);\ncall ReactToLevel;\n","BigDownReact":"set_local_var(0, local_var(0) - 25);\ncall ReactToLevel;\n","UpReactLevel":"set_local_var(1, local_var(1) + 1);\nif (local_var(1) > 3) then begin\n  set_local_var(1, 3);\nend\ncall LevelToReact;\n","DownReactLevel":"set_local_var(1, local_var(1) - 1);\nif (local_var(1) < 1) then begin\n  set_local_var(1, 1);\nend\ncall LevelToReact;\n","Goodbyes":"exit_line := message_str(634, random(100, 105));\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>