<!DOCTYPE html><html><head><title>ncCasPat</title><meta charset="utf-8" /></head><body><svg width="3935pt" height="238pt"
 viewBox="0.00 0.00 3935.23 237.68" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 233.68)">
<title>ncCasPat</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-233.68 3931.23,-233.68 3931.23,4 -4,4"/>
<!-- checkPartyMembersNearDoor -->
<g id="node1" class="node">
<title>checkPartyMembersNearDoor</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- ChooseFromList -->
<g id="node2" class="node">
<title>ChooseFromList</title>
<ellipse fill="#ffffff" stroke="#000000" cx="150" cy="-78.84" rx="138.06" ry="78.84"/>
<text text-anchor="middle" x="150" y="-117.29" font-family="Times,serif" font-size="14.00">You see one of the casino</text>
<text text-anchor="middle" x="150" y="-100.04" font-family="Times,serif" font-size="14.00">patrons. He looks tired.</text>
<text text-anchor="middle" x="150" y="-82.79" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="150" y="-65.54" font-family="Times,serif" font-size="14.00">You see one of the casino</text>
<text text-anchor="middle" x="150" y="-48.29" font-family="Times,serif" font-size="14.00">patrons. He has a golden</text>
<text text-anchor="middle" x="150" y="-31.04" font-family="Times,serif" font-size="14.00">gleam in his eye.</text>
</g>
<!-- CLICK_PREV -->
<g id="node3" class="node">
<title>CLICK_PREV</title>
<ellipse fill="#ffffff" stroke="#000000" cx="99" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- CLICK_PREV&#45;&gt;ChooseFromList -->
<g id="edge1" class="edge">
<title>CLICK_PREV&#45;&gt;ChooseFromList</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M105.56,-193.85C108.52,-186.26 112.25,-176.68 116.3,-166.31"/>
<polygon fill="#555555" stroke="#555555" points="119.88,-167.76 120.25,-157.17 113.36,-165.22 119.88,-167.76"/>
</g>
<!-- CLICK_0 -->
<g id="node4" class="node">
<title>CLICK_0</title>
<ellipse fill="#ffffff" stroke="#000000" cx="264" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- stored_node -->
<g id="node5" class="node">
<title>stored_node</title>
<ellipse fill="none" stroke="black" cx="408" cy="-78.84" rx="72.25" ry="18"/>
<text text-anchor="middle" x="408" y="-74.17" font-family="Times,serif" font-size="14.00">stored_node</text>
</g>
<!-- CLICK_0&#45;&gt;stored_node -->
<g id="edge2" class="edge">
<title>CLICK_0&#45;&gt;stored_node</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M279.41,-196.68C303.82,-174.51 351.66,-131.04 381.6,-103.83"/>
<polygon fill="#555555" stroke="#555555" points="383.5,-106.93 388.54,-97.61 378.79,-101.75 383.5,-106.93"/>
</g>
<!-- CLICK_1 -->
<g id="node6" class="node">
<title>CLICK_1</title>
<ellipse fill="#ffffff" stroke="#000000" cx="336" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- CLICK_1&#45;&gt;stored_node -->
<g id="edge3" class="edge">
<title>CLICK_1&#45;&gt;stored_node</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M344.97,-194.38C357.14,-172.27 379.01,-132.52 393.52,-106.15"/>
<polygon fill="#555555" stroke="#555555" points="396.93,-108.22 398.69,-97.77 390.8,-104.84 396.93,-108.22"/>
</g>
<!-- CLICK_2 -->
<g id="node7" class="node">
<title>CLICK_2</title>
<ellipse fill="#ffffff" stroke="#000000" cx="408" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- CLICK_2&#45;&gt;stored_node -->
<g id="edge4" class="edge">
<title>CLICK_2&#45;&gt;stored_node</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M408,-193.31C408,-171.61 408,-134.19 408,-108.28"/>
<polygon fill="#555555" stroke="#555555" points="411.5,-108.29 408,-98.29 404.5,-108.29 411.5,-108.29"/>
</g>
<!-- CLICK_3 -->
<g id="node8" class="node">
<title>CLICK_3</title>
<ellipse fill="#ffffff" stroke="#000000" cx="480" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- CLICK_3&#45;&gt;stored_node -->
<g id="edge5" class="edge">
<title>CLICK_3&#45;&gt;stored_node</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M471.03,-194.38C458.86,-172.27 436.99,-132.52 422.48,-106.15"/>
<polygon fill="#555555" stroke="#555555" points="425.2,-104.84 417.31,-97.77 419.07,-108.22 425.2,-104.84"/>
</g>
<!-- CLICK_4 -->
<g id="node9" class="node">
<title>CLICK_4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="552" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- CLICK_4&#45;&gt;stored_node -->
<g id="edge6" class="edge">
<title>CLICK_4&#45;&gt;stored_node</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M535.43,-197.25C522.57,-186.71 504.41,-171.54 489,-157.68 469.61,-140.25 448.38,-119.79 432.52,-104.23"/>
<polygon fill="#555555" stroke="#555555" points="435.34,-102.1 425.76,-97.58 430.42,-107.09 435.34,-102.1"/>
</g>
<!-- CLICK_MORE -->
<g id="node10" class="node">
<title>CLICK_MORE</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- CLICK_MORE&#45;&gt;ChooseFromList -->
<g id="edge7" class="edge">
<title>CLICK_MORE&#45;&gt;ChooseFromList</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M168.21,-193.31C167.09,-186.34 165.71,-177.75 164.22,-168.44"/>
<polygon fill="#555555" stroke="#555555" points="167.53,-167.99 162.49,-158.67 160.62,-169.1 167.53,-167.99"/>
</g>
<!-- start -->
<g id="node11" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="849" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node12" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1253" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node13" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1491" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node14" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1646" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- Node011 -->
<g id="node15" class="node">
<title>Node011</title>
<ellipse fill="#ffffff" stroke="#000000" cx="644" cy="-78.84" rx="146.02" ry="54.45"/>
<text text-anchor="middle" x="644" y="-100.04" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
<text text-anchor="middle" x="644" y="-82.79" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="644" y="-65.54" font-family="Times,serif" font-size="14.00">Way to burn those Enclave</text>
<text text-anchor="middle" x="644" y="-48.29" font-family="Times,serif" font-size="14.00">bastards! Way to go!</text>
</g>
<!-- talk_p_proc&#45;&gt;Node011 -->
<g id="edge8" class="edge">
<title>talk_p_proc&#45;&gt;Node011</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1620.08,-206.28C1596.03,-202.35 1559.2,-196.77 1527,-193.68 1365.76,-178.21 955.64,-198.92 799,-157.68 775.41,-151.47 751.23,-141.4 729.19,-130.53"/>
<polygon fill="#555555" stroke="#555555" points="731.06,-127.05 720.56,-125.66 727.9,-133.29 731.06,-127.05"/>
</g>
<!-- Node012 -->
<g id="node16" class="node">
<title>Node012</title>
<ellipse fill="#ffffff" stroke="#000000" cx="940" cy="-78.84" rx="132.23" ry="18"/>
<text text-anchor="middle" x="940" y="-74.17" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node012 -->
<g id="edge9" class="edge">
<title>talk_p_proc&#45;&gt;Node012</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1620.06,-206.51C1595.99,-202.75 1559.15,-197.28 1527,-193.68 1329.36,-171.61 1271.42,-215.03 1081,-157.68 1041.07,-145.66 999.81,-121.23 972.32,-102.92"/>
<polygon fill="#555555" stroke="#555555" points="974.79,-99.69 964.55,-96.98 970.86,-105.49 974.79,-99.69"/>
</g>
<!-- Node013 -->
<g id="node17" class="node">
<title>Node013</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1222" cy="-78.84" rx="132.23" ry="18"/>
<text text-anchor="middle" x="1222" y="-74.17" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node013 -->
<g id="edge10" class="edge">
<title>talk_p_proc&#45;&gt;Node013</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1619.88,-206.88C1559.25,-197.88 1410.51,-174.75 1363,-157.68 1324.51,-143.86 1283.98,-120.43 1256.3,-102.87"/>
<polygon fill="#555555" stroke="#555555" points="1258.37,-99.4 1248.07,-96.93 1254.59,-105.29 1258.37,-99.4"/>
</g>
<!-- Node006 -->
<g id="node18" class="node">
<title>Node006</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2354" cy="-78.84" rx="132.23" ry="18"/>
<text text-anchor="middle" x="2354" y="-74.17" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node006 -->
<g id="edge11" class="edge">
<title>talk_p_proc&#45;&gt;Node006</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1673.3,-209.61C1772.04,-205.5 2110.13,-189.37 2213,-157.68 2252.85,-145.41 2294.13,-121.02 2321.64,-102.79"/>
<polygon fill="#555555" stroke="#555555" points="2323.08,-105.37 2329.42,-96.87 2319.17,-99.56 2323.08,-105.37"/>
</g>
<!-- Node014 -->
<g id="node19" class="node">
<title>Node014</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1504" cy="-78.84" rx="132.23" ry="18"/>
<text text-anchor="middle" x="1504" y="-74.17" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node014 -->
<g id="edge12" class="edge">
<title>talk_p_proc&#45;&gt;Node014</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1630.53,-196.43C1606.49,-174.28 1559.84,-131.3 1530.4,-104.16"/>
<polygon fill="#555555" stroke="#555555" points="1533.31,-102.17 1523.58,-97.96 1528.56,-107.31 1533.31,-102.17"/>
</g>
<!-- Node008 -->
<g id="node20" class="node">
<title>Node008</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2636" cy="-78.84" rx="132.23" ry="18"/>
<text text-anchor="middle" x="2636" y="-74.17" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node008 -->
<g id="edge13" class="edge">
<title>talk_p_proc&#45;&gt;Node008</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1673.32,-210.59C1800.53,-209.88 2335.48,-204.14 2495,-157.68 2535.28,-145.95 2576.78,-121.23 2604.23,-102.78"/>
<polygon fill="#555555" stroke="#555555" points="2605.71,-105.33 2611.98,-96.79 2601.75,-99.55 2605.71,-105.33"/>
</g>
<!-- Node009 -->
<g id="node21" class="node">
<title>Node009</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1788" cy="-78.84" rx="133.29" ry="54.45"/>
<text text-anchor="middle" x="1788" y="-100.04" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
<text text-anchor="middle" x="1788" y="-82.79" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1788" y="-65.54" font-family="Times,serif" font-size="14.00">Is that a robo&#45;slot</text>
<text text-anchor="middle" x="1788" y="-48.29" font-family="Times,serif" font-size="14.00">machine?</text>
</g>
<!-- talk_p_proc&#45;&gt;Node009 -->
<g id="edge14" class="edge">
<title>talk_p_proc&#45;&gt;Node009</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1661.47,-196.43C1677.22,-181.91 1702.68,-158.45 1726.65,-136.37"/>
<polygon fill="#555555" stroke="#555555" points="1728.72,-139.3 1733.7,-129.95 1723.98,-134.15 1728.72,-139.3"/>
</g>
<!-- Node010 -->
<g id="node22" class="node">
<title>Node010</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2072" cy="-78.84" rx="132.23" ry="18"/>
<text text-anchor="middle" x="2072" y="-74.17" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node010 -->
<g id="edge15" class="edge">
<title>talk_p_proc&#45;&gt;Node010</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1672.97,-208.51C1724.31,-203.76 1839.07,-190.15 1930,-157.68 1968.89,-143.8 2009.91,-120.22 2037.8,-102.64"/>
<polygon fill="#555555" stroke="#555555" points="2039.19,-105.27 2045.74,-96.93 2035.42,-99.37 2039.19,-105.27"/>
</g>
<!-- destroy_p_proc -->
<g id="node23" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2856" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node24" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3033" cy="-211.68" rx="132.23" ry="18"/>
<text text-anchor="middle" x="3033" y="-207.01" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
</g>
<!-- description_p_proc -->
<g id="node25" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3210" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- use_skill_on_p_proc -->
<g id="node26" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3282" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- damage_p_proc -->
<g id="node27" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3354" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node28" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3426" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- timed_event_p_proc -->
<g id="node29" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2784" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- timed_event_p_proc&#45;&gt;Node006 -->
<g id="edge19" class="edge">
<title>timed_event_p_proc&#45;&gt;Node006</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2756.95,-208.65C2704.9,-204.1 2587.72,-190.79 2495,-157.68 2456.49,-143.93 2415.96,-120.49 2388.29,-102.91"/>
<polygon fill="#555555" stroke="#555555" points="2390.36,-99.44 2380.06,-96.97 2386.57,-105.33 2390.36,-99.44"/>
</g>
<!-- timed_event_p_proc&#45;&gt;Node008 -->
<g id="edge21" class="edge">
<title>timed_event_p_proc&#45;&gt;Node008</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2768.16,-196.68C2743.21,-174.63 2694.44,-131.51 2663.63,-104.27"/>
<polygon fill="#555555" stroke="#555555" points="2666.26,-102.04 2656.45,-98.04 2661.63,-107.29 2666.26,-102.04"/>
</g>
<!-- timed_event_p_proc&#45;&gt;Node009 -->
<g id="edge22" class="edge">
<title>timed_event_p_proc&#45;&gt;Node009</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2756.56,-210.57C2628.77,-209.81 2091.41,-203.86 1931,-157.68 1909.31,-151.44 1887.24,-141.52 1867.13,-130.82"/>
<polygon fill="#555555" stroke="#555555" points="1869.19,-127.41 1858.74,-125.69 1865.84,-133.55 1869.19,-127.41"/>
</g>
<!-- timed_event_p_proc&#45;&gt;Node010 -->
<g id="edge23" class="edge">
<title>timed_event_p_proc&#45;&gt;Node010</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2756.85,-209.64C2657.86,-205.59 2316.72,-189.6 2213,-157.68 2173.14,-145.42 2131.87,-121.03 2104.36,-102.8"/>
<polygon fill="#555555" stroke="#555555" points="2106.83,-99.57 2096.58,-96.88 2102.91,-105.37 2106.83,-99.57"/>
</g>
<!-- Node003 -->
<g id="node30" class="node">
<title>Node003</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2932" cy="-78.84" rx="146.02" ry="54.45"/>
<text text-anchor="middle" x="2932" y="-100.04" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
<text text-anchor="middle" x="2932" y="-82.79" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="2932" y="-65.54" font-family="Times,serif" font-size="14.00">Way to burn those Enclave</text>
<text text-anchor="middle" x="2932" y="-48.29" font-family="Times,serif" font-size="14.00">bastards! Way to go!</text>
</g>
<!-- timed_event_p_proc&#45;&gt;Node003 -->
<g id="edge16" class="edge">
<title>timed_event_p_proc&#45;&gt;Node003</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2799.84,-196.68C2816.19,-182.23 2842.77,-158.72 2867.83,-136.57"/>
<polygon fill="#555555" stroke="#555555" points="2869.72,-139.69 2874.9,-130.44 2865.09,-134.44 2869.72,-139.69"/>
</g>
<!-- Node004 -->
<g id="node31" class="node">
<title>Node004</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3229" cy="-78.84" rx="133.29" ry="54.45"/>
<text text-anchor="middle" x="3229" y="-100.04" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
<text text-anchor="middle" x="3229" y="-82.79" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="3229" y="-65.54" font-family="Times,serif" font-size="14.00">Uh&#45;oh. Get out of the</text>
<text text-anchor="middle" x="3229" y="-48.29" font-family="Times,serif" font-size="14.00">way.</text>
</g>
<!-- timed_event_p_proc&#45;&gt;Node004 -->
<g id="edge17" class="edge">
<title>timed_event_p_proc&#45;&gt;Node004</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2804.51,-199.68C2809.47,-197.39 2814.83,-195.21 2820,-193.68 2934.82,-159.72 2973.25,-195.09 3087,-157.68 3107.77,-150.85 3129.03,-140.99 3148.56,-130.56"/>
<polygon fill="#555555" stroke="#555555" points="3149.9,-133.27 3157,-125.41 3146.54,-127.13 3149.9,-133.27"/>
</g>
<!-- Node005 -->
<g id="node32" class="node">
<title>Node005</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3513" cy="-78.84" rx="132.23" ry="18"/>
<text text-anchor="middle" x="3513" y="-74.17" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
</g>
<!-- timed_event_p_proc&#45;&gt;Node005 -->
<g id="edge18" class="edge">
<title>timed_event_p_proc&#45;&gt;Node005</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2804.44,-199.42C2809.4,-197.14 2814.78,-195.04 2820,-193.68 3057.59,-132.21 3135.37,-226.29 3371,-157.68 3411.5,-145.89 3453.3,-121.18 3480.97,-102.75"/>
<polygon fill="#555555" stroke="#555555" points="3482.48,-105.28 3488.79,-96.77 3478.55,-99.48 3482.48,-105.28"/>
</g>
<!-- Node007 -->
<g id="node33" class="node">
<title>Node007</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3795" cy="-78.84" rx="132.23" ry="18"/>
<text text-anchor="middle" x="3795" y="-74.17" font-family="Times,serif" font-size="14.00">You see a casino patron.</text>
</g>
<!-- timed_event_p_proc&#45;&gt;Node007 -->
<g id="edge20" class="edge">
<title>timed_event_p_proc&#45;&gt;Node007</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2804.42,-199.33C2809.38,-197.06 2814.77,-194.98 2820,-193.68 3180.19,-104.72 3296.81,-258 3654,-157.68 3694.39,-146.34 3735.87,-121.56 3763.29,-102.98"/>
<polygon fill="#555555" stroke="#555555" points="3764.78,-105.51 3771.02,-96.95 3760.81,-99.75 3764.78,-105.51"/>
</g>
<!-- map_update_p_proc -->
<g id="node34" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3498" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- push_p_proc -->
<g id="node35" class="node">
<title>push_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3570" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- Node998 -->
<g id="node36" class="node">
<title>Node998</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3642" cy="-211.68" rx="27" ry="18"/>
</g>
<!-- Node999 -->
<g id="node37" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="3714" cy="-211.68" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"checkPartyMembersNearDoor":"if (party_member_obj(16777278) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777278)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777376) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777376)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777377) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777377)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777305) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777305)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777313) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777313)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777323) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777323)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777352) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777352)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777378) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777378)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777368) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777368)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777379) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777379)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777380) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777380)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777295) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777295)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777381) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777381)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777407) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777407)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777411) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777411)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777412) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777412)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777413) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777413)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777481) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777481)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777558) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777558)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777600) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777600)) <= 5) then begin\n    return 1;\n  end\nend\nreturn 0;\n","ChooseFromList":"variable LVar0 := 0;\ngsay_reply(328, stored_msg);\nif (message_str(353, top_msg - 1) != \"\") then begin\n  giq_option(1, 328, message_str(353, 150), CLICK_PREV, 50);\nend\nif (LVar0 == 0) then begin\n  if (message_str(353, top_msg + 0) != \"\") then begin\n    giq_option(1, 328, message_str(353, top_msg + 0), CLICK_0, 50);\n  end\n  else begin\n    LVar0 := 1;\n  end\nend\nif (LVar0 == 0) then begin\n  if (message_str(353, top_msg + 1) != \"\") then begin\n    giq_option(1, 328, message_str(353, top_msg + 1), CLICK_1, 50);\n  end\n  else begin\n    LVar0 := 1;\n  end\nend\nif (LVar0 == 0) then begin\n  if (message_str(353, top_msg + 2) != \"\") then begin\n    giq_option(1, 328, message_str(353, top_msg + 2), CLICK_2, 50);\n  end\n  else begin\n    LVar0 := 1;\n  end\nend\nif (LVar0 == 0) then begin\n  if (message_str(353, top_msg + 3) != \"\") then begin\n    giq_option(1, 328, message_str(353, top_msg + 3), CLICK_3, 50);\n  end\n  else begin\n    LVar0 := 1;\n  end\nend\nif (LVar0 == 0) then begin\n  if (message_str(353, top_msg + 4) != \"\") then begin\n    giq_option(1, 328, message_str(353, top_msg + 4), CLICK_4, 50);\n  end\n  else begin\n    LVar0 := 1;\n  end\nend\nif (LVar0 == 0) then begin\n  if (message_str(353, top_msg + 5) != \"\") then begin\n    giq_option(1, 328, message_str(353, 151), CLICK_MORE, 50);\n  end\nend\n","CLICK_PREV":"top_msg := top_msg - 5;\ncall ChooseFromList;\n","CLICK_0":"set_global_var(var_num, (global_var(var_num) / 100 * 100) + (top_msg % 100));\ncall stored_node;\n","CLICK_1":"set_global_var(var_num, (global_var(var_num) / 100 * 100) + ((top_msg + 1) % 100));\ncall stored_node;\n","CLICK_2":"set_global_var(var_num, (global_var(var_num) / 100 * 100) + ((top_msg + 2) % 100));\ncall stored_node;\n","CLICK_3":"set_global_var(var_num, (global_var(var_num) / 100 * 100) + ((top_msg + 3) % 100));\ncall stored_node;\n","CLICK_4":"set_global_var(var_num, (global_var(var_num) / 100 * 100) + ((top_msg + 4) % 100));\ncall stored_node;\n","CLICK_MORE":"top_msg := top_msg + 5;\ncall ChooseFromList;\n","start":"[]","critter_p_proc":"if (obj_can_see_obj(self_obj, dude_obj)) then begin\n  if ((local_var(0) bwand 2) != 0) then begin\n    if (critter_is_fleeing(self_obj)) then begin\n      if (anim_busy(self_obj) == 0) then begin\n        if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin\n          if (anim_busy(self_obj) == 0) then begin\n            global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));\n            animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n            global_temp := (global_temp + 1) % 6;\n            while((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin\n              debug_msg(\"flee loop: rot == \" + global_temp);\n              animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n              global_temp := (global_temp + 1) % 6;\n            end\n          end\n        end\n      end\n    end\n    else begin\n      attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n    end\n  end\nend\n","pickup_p_proc":"if (source_obj == dude_obj) then begin\n  set_local_var(0, local_var(0) bwor 2);\nend\n","talk_p_proc":"script_overrides;\nif (global_var(494) == 8) then begin\n  call Node011;\nend\nelse begin\n  if ((obj_pid(critter_inven_obj(dude_obj, 0)) == 3) or (obj_pid(critter_inven_obj(dude_obj, 0)) == 348) or (obj_pid(critter_inven_obj(dude_obj, 0)) == 349) or (obj_pid(critter_inven_obj(dude_obj, 0)) == 232)) then begin\n    call Node012;\n  end\n  else begin\n    if (global_var(230) > 0) then begin\n      call Node013;\n    end\n    else begin\n      if (global_var(259) > 0) then begin\n        call Node006;\n      end\n      else begin\n        if ((global_var(232) > 0) and ((get_critter_stat(dude_obj, 34) == 1) and (get_critter_stat(self_obj, 34) == 0))) then begin\n          call Node014;\n        end\n        else begin\n          if ((global_var(232) > 0) and ((get_critter_stat(dude_obj, 34) == 0) and (get_critter_stat(self_obj, 34) == 1))) then begin\n            call Node008;\n          end\n          else begin\n            if (obj_can_see_obj(self_obj, party_member_obj(16777295))) then begin\n              call Node009;\n            end\n            else begin\n              call Node010;\n            end\n          end\n        end\n      end\n    end\n  end\nend\nlast_timed_obj := self_obj;\nlast_timed_param := last_timed_param;\nmetarule3(100, self_obj, 1, 0);\nadd_timer_event(self_obj, game_ticks(25) + random(0, game_ticks(35 - 25)), 1);\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(5, global_var(5) + 1);\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin\n    set_global_var(2, 1);\n    set_global_var(3, 0);\n  end\n  if (metarule(51, self_obj) == 2) then begin\n    if (source_obj == dude_obj) then begin\n      set_global_var(2, 0);\n      set_global_var(1, global_var(1) + 1);\n      set_global_var(0, global_var(0) + -15);\n      debug_msg(\"Player gains \" + -15 + \" Karma Points.\");\n      set_global_var(37, 0);\n      set_global_var(38, 0);\n      set_global_var(39, 0);\n      set_global_var(40, 0);\n      set_global_var(41, 0);\n      set_global_var(42, 0);\n      set_global_var(43, 0);\n      set_global_var(44, 0);\n      set_global_var(45, 0);\n      if (global_var(0) >= 1000) then begin\n        set_global_var(37, 1);\n      end\n      else begin\n        if (global_var(0) >= 750) then begin\n          set_global_var(38, 1);\n        end\n        else begin\n          if (global_var(0) >= 500) then begin\n            set_global_var(39, 1);\n          end\n          else begin\n            if (global_var(0) >= 250) then begin\n              set_global_var(40, 1);\n            end\n            else begin\n              if (global_var(0) > -250) then begin\n                set_global_var(41, 1);\n              end\n              else begin\n                if (global_var(0) > -500) then begin\n                  set_global_var(42, 1);\n                end\n                else begin\n                  if (global_var(0) > -750) then begin\n                    set_global_var(43, 1);\n                  end\n                  else begin\n                    if (global_var(0) > -1000) then begin\n                      set_global_var(44, 1);\n                    end\n                    else begin\n                      set_global_var(45, 1);\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n      set_global_var(55, global_var(55) + -8);\n      debug_msg(\"Added \" + -8 + \" to Town Rep\");\n    end\n  end\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin\n    set_global_var(3, 1);\n    set_global_var(2, 0);\n  end\n  set_global_var(0, global_var(0) + -10);\n  debug_msg(\"Player gains \" + -10 + \" Karma Points.\");\n  set_global_var(37, 0);\n  set_global_var(38, 0);\n  set_global_var(39, 0);\n  set_global_var(40, 0);\n  set_global_var(41, 0);\n  set_global_var(42, 0);\n  set_global_var(43, 0);\n  set_global_var(44, 0);\n  set_global_var(45, 0);\n  if (global_var(0) >= 1000) then begin\n    set_global_var(37, 1);\n  end\n  else begin\n    if (global_var(0) >= 750) then begin\n      set_global_var(38, 1);\n    end\n    else begin\n      if (global_var(0) >= 500) then begin\n        set_global_var(39, 1);\n      end\n      else begin\n        if (global_var(0) >= 250) then begin\n          set_global_var(40, 1);\n        end\n        else begin\n          if (global_var(0) > -250) then begin\n            set_global_var(41, 1);\n          end\n          else begin\n            if (global_var(0) > -500) then begin\n              set_global_var(42, 1);\n            end\n            else begin\n              if (global_var(0) > -750) then begin\n                set_global_var(43, 1);\n              end\n              else begin\n                if (global_var(0) > -1000) then begin\n                  set_global_var(44, 1);\n                end\n                else begin\n                  set_global_var(45, 1);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  set_global_var(55, global_var(55) + -5);\n  debug_msg(\"Added \" + -5 + \" to Town Rep\");\nend\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(328, 100));\n","description_p_proc":"script_overrides;\nif (get_critter_stat(self_obj, 34) == 1) then begin\n  display_msg(message_str(328, random(156, 161)));\nend\nelse begin\n  display_msg(message_str(328, random(150, 155)));\nend\n","use_skill_on_p_proc":"[]","damage_p_proc":"if (source_obj == dude_obj) then begin\n  set_local_var(0, local_var(0) bwor 8);\n  set_local_var(0, local_var(0) bwor 2);\nend\n","map_enter_p_proc":"variable LVar0 := 0;\nif (metarule(22, 0) == 0) then begin\n  if ((global_var(552) < game_time) and (global_var(552) != 0)) then begin\n    if ((random(1, 5) == 4) or (328 == 428)) then begin\n      if (328 == 428) then begin\n        set_global_var(495, global_var(495) bwor 256);\n      end\n      check_still_kill := 0;\n      if (tile_in_tile_rect(15940, 15916, 19540, 19516, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 0) or (-1 == 0)) or (tile_in_tile_rect(13528, 13516, 15928, 15916, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 0) or (-1 == 0))) or (tile_in_tile_rect(25528, 25504, 29128, 29104, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 1) or (-1 == 1)))) then begin\n        check_still_kill := 1;\n      end\n      else begin\n        if (tile_in_tile_rect(7898, 7896, 19498, 19462, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 0) or (-1 == 0)) or (tile_in_tile_rect(10298, 10262, 19498, 19462, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 1) or (-1 == 1))) or (tile_in_tile_rect(10298, 10262, 19498, 19462, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 2) or (-1 == 2))) or (tile_in_tile_rect(15128, 15094, 26728, 26694, tile_num(self_obj)) and (cur_map_index == 61) and ((elevation(self_obj) == 0) or (-1 == 0)))) then begin\n          check_still_kill := 2;\n        end\n        else begin\n          if (tile_in_tile_rect(8292, 8262, 15092, 15062, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 0) or (-1 == 0)) or (tile_in_tile_rect(9862, 9858, 15062, 15058, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 0) or (-1 == 0))) or (tile_in_tile_rect(10258, 10246, 12258, 12246, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 0) or (-1 == 0))) or (tile_in_tile_rect(9882, 9848, 18282, 18248, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 1) or (-1 == 1))) or (tile_in_tile_rect(10700, 10666, 17500, 17466, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 2) or (-1 == 2)) or (tile_in_tile_rect(12666, 12654, 14666, 14654, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 2) or (-1 == 2))))) then begin\n            check_still_kill := 3;\n          end\n          else begin\n            if (tile_in_tile_rect(19528, 19478, 26728, 26678, tile_num(self_obj)) and (cur_map_index == 57) and ((elevation(self_obj) == 0) or (-1 == 0))) then begin\n              check_still_kill := 4;\n            end\n          end\n        end\n      end\n      debug_msg(\"\");\n      if (check_still_kill == 0) then begin\n        kill_critter(self_obj, random(61, 62));\n      end\n      else begin\n        destroy_object(self_obj);\n      end\n    end\n  end\n  if (metarule(14, 0)) then begin\n    set_local_var(1, tile_num(self_obj));\n    LVar0 := 0;\n    if (tile_in_tile_rect(15940, 15916, 19540, 19516, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 0) or (-1 == 0)) or (tile_in_tile_rect(13528, 13516, 15928, 15916, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 0) or (-1 == 0))) or (tile_in_tile_rect(25528, 25504, 29128, 29104, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 1) or (-1 == 1)))) then begin\n      LVar0 := 1;\n    end\n    else begin\n      if (tile_in_tile_rect(7898, 7896, 19498, 19462, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 0) or (-1 == 0)) or (tile_in_tile_rect(10298, 10262, 19498, 19462, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 1) or (-1 == 1))) or (tile_in_tile_rect(10298, 10262, 19498, 19462, tile_num(self_obj)) and (cur_map_index == 55) and ((elevation(self_obj) == 2) or (-1 == 2))) or (tile_in_tile_rect(15128, 15094, 26728, 26694, tile_num(self_obj)) and (cur_map_index == 61) and ((elevation(self_obj) == 0) or (-1 == 0)))) then begin\n        LVar0 := 2;\n      end\n      else begin\n        if (tile_in_tile_rect(8292, 8262, 15092, 15062, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 0) or (-1 == 0)) or (tile_in_tile_rect(9862, 9858, 15062, 15058, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 0) or (-1 == 0))) or (tile_in_tile_rect(10258, 10246, 12258, 12246, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 0) or (-1 == 0))) or (tile_in_tile_rect(9882, 9848, 18282, 18248, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 1) or (-1 == 1))) or (tile_in_tile_rect(10700, 10666, 17500, 17466, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 2) or (-1 == 2)) or (tile_in_tile_rect(12666, 12654, 14666, 14654, tile_num(self_obj)) and (cur_map_index == 54) and ((elevation(self_obj) == 2) or (-1 == 2))))) then begin\n          LVar0 := 3;\n        end\n        else begin\n          if (tile_in_tile_rect(19528, 19478, 26728, 26678, tile_num(self_obj)) and (cur_map_index == 57) and ((elevation(self_obj) == 0) or (-1 == 0))) then begin\n            LVar0 := 4;\n          end\n        end\n      end\n    end\n    debug_msg(\"\");\n    if (LVar0 == 1) then begin\n      critter_add_trait(self_obj, 1, 6, 59);\n    end\n    else begin\n      if (LVar0 == 2) then begin\n        critter_add_trait(self_obj, 1, 6, 57);\n      end\n      else begin\n        if (LVar0 == 3) then begin\n          critter_add_trait(self_obj, 1, 6, 58);\n        end\n        else begin\n          if (LVar0 == 4) then begin\n            critter_add_trait(self_obj, 1, 6, 66);\n          end\n        end\n      end\n    end\n    debug_msg(\"\");\n    critter_add_trait(self_obj, 1, 5, 33);\n  end\n  if (random(1, 10) <= (6 + ((game_time_hour <= 600) or (game_time_hour >= 1800)))) then begin\n    if (has_trait(1, self_obj, 666) == 0) then begin\n      set_obj_visibility(self_obj, 0);\n    end\n  end\n  else begin\n    if (has_trait(1, self_obj, 666) == 1) then begin\n      set_obj_visibility(self_obj, 1);\n    end\n  end\n  last_timed_obj := self_obj;\n  last_timed_param := last_timed_param;\n  metarule3(100, self_obj, 1, 0);\n  add_timer_event(self_obj, game_ticks(10) + random(0, game_ticks(20 - 10)), 1);\nend\n","timed_event_p_proc":"if (fixed_param == 1) then begin\n  if (has_trait(1, self_obj, 666)) then begin\n    if (combat_is_initialized == 0) then begin\n      if (random(1, 5) == 2) then begin\n        if (obj_can_see_obj(self_obj, dude_obj)) then begin\n          if (global_var(494) == 8) then begin\n            call Node003;\n          end\n          else begin\n            if ((obj_pid(critter_inven_obj(dude_obj, 0)) == 3) or (obj_pid(critter_inven_obj(dude_obj, 0)) == 348) or (obj_pid(critter_inven_obj(dude_obj, 0)) == 349) or (obj_pid(critter_inven_obj(dude_obj, 0)) == 232)) then begin\n              call Node004;\n            end\n            else begin\n              if ((global_var(230) > 0) or (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1)))) then begin\n                call Node005;\n              end\n              else begin\n                if (global_var(259) > 0) then begin\n                  call Node006;\n                end\n                else begin\n                  if ((global_var(232) > 0) and ((get_critter_stat(dude_obj, 34) == 1) and (get_critter_stat(self_obj, 34) == 0))) then begin\n                    call Node007;\n                  end\n                  else begin\n                    if ((global_var(232) > 0) and ((get_critter_stat(dude_obj, 34) == 0) and (get_critter_stat(self_obj, 34) == 1))) then begin\n                      call Node008;\n                    end\n                    else begin\n                      if (obj_can_see_obj(self_obj, party_member_obj(16777295))) then begin\n                        call Node009;\n                      end\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n      else begin\n        if (anim_busy(self_obj) == 0) then begin\n          slot_obj := tile_contains_pid_obj(tile_num_in_direction(tile_num(self_obj), 5, 1), elevation(self_obj), 33554898);\n          if (slot_obj == 0) then begin\n            slot_obj := tile_contains_pid_obj(tile_num_in_direction(tile_num(self_obj), 0, 1), elevation(self_obj), 33554897);\n          end\n          if ((slot_obj != 0) and (item_caps_total(self_obj) > 0) and (random(1, 20) != 14)) then begin\n            if (random(0, 1)) then begin\n              call Node010;\n            end\n            if (rotation_to_tile(tile_num(self_obj), tile_num(slot_obj)) != has_trait(1, self_obj, 10)) then begin\n              anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), tile_num(slot_obj)));\n            end\n            else begin\n              reg_anim_func(2, self_obj);\n              reg_anim_func(1, 1);\n              reg_anim_animate(self_obj, 11, -1);\n              reg_anim_func(3, 0);\n              if ((random(0, 100) <= 17) and (item_caps_total(self_obj) < 30)) then begin\n                item_caps_adjust(self_obj, random(1, 10));\n                last_timed_obj := self_obj;\n                last_timed_param := last_timed_param;\n                metarule3(100, self_obj, 43, 0);\n                add_timer_event(self_obj, 5, 43);\n              end\n              else begin\n                if (item_caps_total(self_obj) > 3) then begin\n                  item_caps_adjust(self_obj, -1);\n                end\n              end\n            end\n          end\n          else begin\n            if ((tile_distance(tile_num(self_obj), local_var(1)) > 4) and (random(1, 10) != 2)) then begin\n              animate_move_obj_to_tile(self_obj, local_var(1), 0);\n            end\n            else begin\n              animate_move_obj_to_tile(self_obj, tile_num_in_direction(local_var(1), random(0, 5), random(1, 5)), 0);\n            end\n          end\n        end\n      end\n    end\n  end\n  last_timed_obj := self_obj;\n  last_timed_param := last_timed_param;\n  metarule3(100, self_obj, 1, 0);\n  add_timer_event(self_obj, game_ticks(10) + random(0, game_ticks(20 - 10)), 1);\nend\nelse begin\n  if (fixed_param == 43) then begin\n    play_sfx(\"winner\");\n  end\nend\n","map_update_p_proc":"if ((global_var(495) bwand 536870912) != 0) then begin\n  if (has_trait(1, self_obj, 666)) then begin\n    if (tile_in_tile_rect(22298, 22266, 29498, 29466, tile_num(self_obj)) == 0) then begin\n      if (has_trait(1, self_obj, 666) == 1) then begin\n        set_obj_visibility(self_obj, 1);\n      end\n      set_local_var(0, local_var(0) bwor 512);\n    end\n  end\nend\nelse begin\n  if ((local_var(0) bwand 512) != 0) then begin\n    if (has_trait(1, self_obj, 666) == 0) then begin\n      set_obj_visibility(self_obj, 0);\n    end\n    set_local_var(0, local_var(0) bwand (4294967295 - 512));\n  end\nend\n","push_p_proc":"slot_obj := tile_contains_pid_obj(tile_num_in_direction(tile_num(self_obj), 5, 1), elevation(self_obj), 33554898);\nif (slot_obj == 0) then begin\n  slot_obj := tile_contains_pid_obj(tile_num_in_direction(tile_num(self_obj), 0, 1), elevation(self_obj), 33554897);\nend\nif (slot_obj != 0) then begin\n  script_overrides;\nend\n","Node998":"set_local_var(0, local_var(0) bwor 2);\n","Node999":"[]","Node003":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  floater_patch_msg := random(200, 205);\n  if ((floater_patch_msg >= 203) and (floater_patch_msg <= 205) or (floater_patch_msg == 325) or (floater_patch_msg == 330) or (floater_patch_msg == 331)) then begin\n    float_msg(self_obj, message_str(328, floater_patch_msg) + obj_name(dude_obj) + message_str(328, floater_patch_msg + 300), 8);\n  end\n  else begin\n    float_msg(self_obj, message_str(328, floater_patch_msg), 8);\n  end\nend\nelse begin\n  float_msg(self_obj, message_str(328, 202), 8);\nend\n","Node004":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(206, 215)), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, 206), 8);\nend\n","Node005":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(222 - (6 * (get_critter_stat(dude_obj, 34) == 0)), 225 + (7 * (get_critter_stat(dude_obj, 34) == 1)))), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, random(223, 225)), 8);\nend\n","Node006":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(234 - (get_critter_stat(dude_obj, 34) == 0), 241 + (2 * (get_critter_stat(dude_obj, 34) == 1)))), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, random(235, 236)), 8);\nend\n","Node007":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(244, 267)), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, random(244, 245)), 8);\nend\n","Node008":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(268, 276)), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, random(268, 269)), 8);\nend\n","Node009":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(277, 279)), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, 278), 8);\nend\n","Node010":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(280, 320)), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, random(281, 288)), 8);\nend\n","Node011":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  floater_patch_msg := random(321, 331);\n  if ((floater_patch_msg >= 203) and (floater_patch_msg <= 205) or (floater_patch_msg == 325) or (floater_patch_msg == 330) or (floater_patch_msg == 331)) then begin\n    float_msg(self_obj, message_str(328, floater_patch_msg) + obj_name(dude_obj) + message_str(328, floater_patch_msg + 300), 8);\n  end\n  else begin\n    float_msg(self_obj, message_str(328, floater_patch_msg), 8);\n  end\nend\nelse begin\n  float_msg(self_obj, message_str(328, 321), 8);\nend\n","Node012":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(332, 352)), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, random(340, 341)), 8);\nend\n","Node013":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(353, 358)), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, random(353, 354)), 8);\nend\n","Node014":"if (message_str(403, 100) == \"You see one of the Reno townsfolk.\") then begin\n  float_msg(self_obj, message_str(328, random(359, 376)), 8);\nend\nelse begin\n  float_msg(self_obj, message_str(328, random(372, 373)), 8);\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>