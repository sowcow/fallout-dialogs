<!DOCTYPE html><html><head><title>DOCLOCKR</title><meta charset="utf-8" /></head><body><svg width="940pt" height="968pt"
 viewBox="0.00 0.00 940.36 968.35" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 964.35)">
<title>DOCLOCKR</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-964.35 936.36,-964.35 936.36,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="348.64" cy="-942.35" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node2" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="29.64" cy="-480.18" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M321.66,-940.31C257.71,-937.24 99.74,-925.93 65.64,-888.35 -32.82,-779.86 4.12,-581.54 22.1,-508.84"/>
<polygon fill="#555555" stroke="#555555" points="25.72,-509.83 24.8,-499.28 18.93,-508.1 25.72,-509.83"/>
</g>
<!-- use_p_proc -->
<g id="node3" class="node">
<title>use_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="204.64" cy="-480.18" rx="129.58" ry="152.03"/>
<text text-anchor="middle" x="204.64" y="-570.38" font-family="Times,serif" font-size="14.00">The locker is locked.</text>
<text text-anchor="middle" x="204.64" y="-553.13" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="204.64" y="-535.88" font-family="Times,serif" font-size="14.00">You spot a trap on the</text>
<text text-anchor="middle" x="204.64" y="-518.63" font-family="Times,serif" font-size="14.00">locker, and disarm it.</text>
<text text-anchor="middle" x="204.64" y="-501.38" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="204.64" y="-484.13" font-family="Times,serif" font-size="14.00">You spot a trap on the</text>
<text text-anchor="middle" x="204.64" y="-466.88" font-family="Times,serif" font-size="14.00">locker, and accidentally</text>
<text text-anchor="middle" x="204.64" y="-449.63" font-family="Times,serif" font-size="14.00">set it off!</text>
<text text-anchor="middle" x="204.64" y="-432.38" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="204.64" y="-415.13" font-family="Times,serif" font-size="14.00">You spot a trap on the</text>
<text text-anchor="middle" x="204.64" y="-397.88" font-family="Times,serif" font-size="14.00">locker, but fail to</text>
<text text-anchor="middle" x="204.64" y="-380.63" font-family="Times,serif" font-size="14.00">disarm it.</text>
</g>
<!-- start&#45;&gt;use_p_proc -->
<g id="edge2" class="edge">
<title>start&#45;&gt;use_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M343.35,-924.43C328.7,-877.62 286.47,-742.68 252.42,-633.87"/>
<polygon fill="#555555" stroke="#555555" points="255.48,-632.93 249.16,-624.43 248.8,-635.02 255.48,-632.93"/>
</g>
<!-- use_obj_on_p_proc -->
<g id="node4" class="node">
<title>use_obj_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="492.64" cy="-480.18" rx="140.71" ry="225.21"/>
<text text-anchor="middle" x="492.64" y="-622.13" font-family="Times,serif" font-size="14.00">You unlock the locker.</text>
<text text-anchor="middle" x="492.64" y="-604.88" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="492.64" y="-587.63" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="492.64" y="-570.38" font-family="Times,serif" font-size="14.00">the trap!</text>
<text text-anchor="middle" x="492.64" y="-553.13" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="492.64" y="-535.88" font-family="Times,serif" font-size="14.00">While tampering with the</text>
<text text-anchor="middle" x="492.64" y="-518.63" font-family="Times,serif" font-size="14.00">lock, you trip up the</text>
<text text-anchor="middle" x="492.64" y="-501.38" font-family="Times,serif" font-size="14.00">tumblers. There&#39;s no</text>
<text text-anchor="middle" x="492.64" y="-484.13" font-family="Times,serif" font-size="14.00"> bypassing this lock now.</text>
<text text-anchor="middle" x="492.64" y="-466.88" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="492.64" y="-449.63" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="492.64" y="-432.38" font-family="Times,serif" font-size="14.00">the trap!</text>
<text text-anchor="middle" x="492.64" y="-415.13" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="492.64" y="-397.88" font-family="Times,serif" font-size="14.00">You fail to bypass the</text>
<text text-anchor="middle" x="492.64" y="-380.63" font-family="Times,serif" font-size="14.00">lock on the locker.</text>
<text text-anchor="middle" x="492.64" y="-363.38" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="492.64" y="-346.13" font-family="Times,serif" font-size="14.00">The locker&#39;s already</text>
<text text-anchor="middle" x="492.64" y="-328.88" font-family="Times,serif" font-size="14.00">unlocked.</text>
</g>
<!-- start&#45;&gt;use_obj_on_p_proc -->
<g id="edge3" class="edge">
<title>start&#45;&gt;use_obj_on_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M353.94,-924.43C366.04,-885.75 396.98,-786.89 426.57,-692.32"/>
<polygon fill="#555555" stroke="#555555" points="430.15,-693.59 429.8,-683 423.47,-691.5 430.15,-693.59"/>
</g>
<!-- use_skill_on_p_proc -->
<g id="node5" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="791.64" cy="-480.18" rx="140.71" ry="408.18"/>
<text text-anchor="middle" x="791.64" y="-751.5" font-family="Times,serif" font-size="14.00">You unlock the locker.</text>
<text text-anchor="middle" x="791.64" y="-734.25" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-717" font-family="Times,serif" font-size="14.00">While tampering with the</text>
<text text-anchor="middle" x="791.64" y="-699.75" font-family="Times,serif" font-size="14.00">lock, you trip up the</text>
<text text-anchor="middle" x="791.64" y="-682.5" font-family="Times,serif" font-size="14.00">tumblers. There&#39;s no</text>
<text text-anchor="middle" x="791.64" y="-665.25" font-family="Times,serif" font-size="14.00"> bypassing this lock now.</text>
<text text-anchor="middle" x="791.64" y="-648" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-630.75" font-family="Times,serif" font-size="14.00">You fail to bypass the</text>
<text text-anchor="middle" x="791.64" y="-613.5" font-family="Times,serif" font-size="14.00">lock on the locker.</text>
<text text-anchor="middle" x="791.64" y="-596.25" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-579" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="791.64" y="-561.75" font-family="Times,serif" font-size="14.00">the trap!</text>
<text text-anchor="middle" x="791.64" y="-544.5" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-527.25" font-family="Times,serif" font-size="14.00">The locker&#39;s already</text>
<text text-anchor="middle" x="791.64" y="-510" font-family="Times,serif" font-size="14.00">unlocked.</text>
<text text-anchor="middle" x="791.64" y="-492.75" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-475.5" font-family="Times,serif" font-size="14.00">You spot a trap on the</text>
<text text-anchor="middle" x="791.64" y="-458.25" font-family="Times,serif" font-size="14.00">locker, and disarm it.</text>
<text text-anchor="middle" x="791.64" y="-441" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-423.75" font-family="Times,serif" font-size="14.00">You notice that there is</text>
<text text-anchor="middle" x="791.64" y="-406.5" font-family="Times,serif" font-size="14.00">a crude explosive device</text>
<text text-anchor="middle" x="791.64" y="-389.25" font-family="Times,serif" font-size="14.00">on the locker.</text>
<text text-anchor="middle" x="791.64" y="-372" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-354.75" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="791.64" y="-337.5" font-family="Times,serif" font-size="14.00">the trap!</text>
<text text-anchor="middle" x="791.64" y="-320.25" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-303" font-family="Times,serif" font-size="14.00">You disarm the trap.</text>
<text text-anchor="middle" x="791.64" y="-285.75" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-268.5" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="791.64" y="-251.25" font-family="Times,serif" font-size="14.00">the trap!</text>
<text text-anchor="middle" x="791.64" y="-234" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="791.64" y="-216.75" font-family="Times,serif" font-size="14.00">You fail to disarm the</text>
<text text-anchor="middle" x="791.64" y="-199.5" font-family="Times,serif" font-size="14.00">trap.</text>
</g>
<!-- start&#45;&gt;use_skill_on_p_proc -->
<g id="edge4" class="edge">
<title>start&#45;&gt;use_skill_on_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M375.57,-939.87C440.3,-935.78 602.25,-922.32 642.64,-888.35 666.09,-868.64 685.85,-844.9 702.5,-818.91"/>
<polygon fill="#555555" stroke="#555555" points="705.96,-820.97 708.26,-810.63 700.01,-817.28 705.96,-820.97"/>
</g>
<!-- set_off_trap -->
<g id="node6" class="node">
<title>set_off_trap</title>
<ellipse fill="#ffffff" stroke="#000000" cx="492.64" cy="-18" rx="27" ry="18"/>
</g>
<!-- use_p_proc&#45;&gt;set_off_trap -->
<g id="edge5" class="edge">
<title>use_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M207.28,-328.07C222.62,-242.98 257.13,-140.39 324.64,-72 358.46,-37.74 415.76,-25.56 454.57,-21.28"/>
<polygon fill="#555555" stroke="#555555" points="454.87,-24.67 464.49,-20.23 454.2,-17.71 454.87,-24.67"/>
</g>
<!-- use_p_proc&#45;&gt;set_off_trap -->
<g id="edge6" class="edge">
<title>use_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M222.69,-329.56C240.22,-244.17 274.74,-140.79 342.64,-72 372.71,-41.54 421.35,-28.53 455.05,-23.02"/>
<polygon fill="#555555" stroke="#555555" points="455.48,-26.34 464.86,-21.42 454.46,-19.42 455.48,-26.34"/>
</g>
<!-- use_p_proc&#45;&gt;set_off_trap -->
<g id="edge7" class="edge">
<title>use_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M237.56,-333.01C257.29,-246.98 291.82,-141.72 360.64,-72 386.54,-45.77 426.2,-32.48 455.68,-25.78"/>
<polygon fill="#555555" stroke="#555555" points="456.37,-29 465.44,-23.51 454.93,-22.15 456.37,-29"/>
</g>
<!-- use_obj_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge8" class="edge">
<title>use_obj_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M485.89,-254.82C485.84,-172.37 486.94,-88.93 489.2,-46.9"/>
<polygon fill="#555555" stroke="#555555" points="492.74,-47.38 489.87,-37.18 485.76,-46.95 492.74,-47.38"/>
</g>
<!-- use_obj_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge9" class="edge">
<title>use_obj_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M499.39,-254.82C499.44,-172.37 498.34,-88.93 496.08,-46.9"/>
<polygon fill="#555555" stroke="#555555" points="499.53,-46.95 495.41,-37.18 492.54,-47.38 499.53,-46.95"/>
</g>
<!-- use_skill_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge10" class="edge">
<title>use_skill_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M697.59,-175.43C678.28,-137.31 654.42,-101.44 624.64,-72 598.43,-46.08 558.79,-32.78 529.39,-25.99"/>
<polygon fill="#555555" stroke="#555555" points="530.18,-22.37 519.67,-23.69 528.71,-29.21 530.18,-22.37"/>
</g>
<!-- use_skill_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge11" class="edge">
<title>use_skill_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M705.47,-156.62C688.18,-125.56 667.46,-96.55 642.64,-72 612.29,-41.99 563.93,-28.9 530.35,-23.23"/>
<polygon fill="#555555" stroke="#555555" points="531,-19.64 520.58,-21.58 529.94,-26.56 531,-19.64"/>
</g>
<!-- use_skill_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge12" class="edge">
<title>use_skill_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M713.71,-140.01C698.57,-115.23 680.98,-92.11 660.64,-72 626.41,-38.15 569.26,-25.83 530.59,-21.41"/>
<polygon fill="#555555" stroke="#555555" points="531.01,-17.83 520.71,-20.32 530.31,-24.8 531.01,-17.83"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 21) then begin\n  call look_at_p_proc;\nend\nelse begin\n  if (script_action == 6) then begin\n    call use_p_proc;\n  end\n  else begin\n    if (script_action == 7) then begin\n      call use_obj_on_p_proc;\n    end\n    else begin\n      if (script_action == 8) then begin\n        call use_skill_on_p_proc;\n      end\n    end\n  end\nend\n","look_at_p_proc":"set_map_var(4, self_obj);\n","use_p_proc":"messing_with_Morbid_stuff := 1;\nif (source_obj == dude_obj) then begin\n  if (obj_is_locked(self_obj)) then begin\n    script_overrides;\n    display_msg(message_str(851, 100));\n  end\n  else begin\n    if (local_var(2) == 0) then begin\n      script_overrides;\n      if (local_var(1) == 0) then begin\n        GVar0 := roll_vs_skill(source_obj, 11, 0);\n        if (is_success(GVar0)) then begin\n          reg_anim_func(2, source_obj);\n          GVar0 := roll_vs_skill(source_obj, 11, 0);\n          if (is_success(GVar0)) then begin\n            set_local_var(1, 1);\n            set_local_var(2, 1);\n            display_msg(message_str(851, 101));\n          end\n          else begin\n            if (is_critical(GVar0) and (local_var(2) == 0)) then begin\n              set_local_var(1, 1);\n              set_local_var(2, 1);\n              display_msg(message_str(851, 103));\n              call set_off_trap;\n            end\n            else begin\n              set_local_var(1, 1);\n              display_msg(message_str(851, 102));\n            end\n          end\n        end\n        else begin\n          call set_off_trap;\n        end\n      end\n      else begin\n        call set_off_trap;\n      end\n    end\n  end\nend\nelse begin\n  if (source_obj == Katja_ptr) then begin\n    set_local_var(1, 1);\n    set_local_var(2, 1);\n    obj_unlock(self_obj);\n  end\nend\n","use_obj_on_p_proc":"messing_with_Morbid_stuff := 1;\nif (obj_pid(obj_being_used_with) == 84) then begin\n  if (obj_is_locked(self_obj)) then begin\n    script_overrides;\n    GVar0 := roll_vs_skill(source_obj, 9, -40);\n    if (is_success(GVar0)) then begin\n      obj_unlock(self_obj);\n      display_msg(message_str(851, 107));\n    end\n    else begin\n      if (is_critical(GVar0)) then begin\n        jam_lock(self_obj);\n        set_local_var(0, local_var(0) + 1);\n        if ((local_var(0) >= 3) and (local_var(2) == 0)) then begin\n          display_msg(message_str(851, 106));\n          call set_off_trap;\n        end\n        else begin\n          display_msg(message_str(851, 110));\n        end\n      end\n      else begin\n        set_local_var(0, local_var(0) + 1);\n        if ((local_var(0) >= 3) and (local_var(2) == 0)) then begin\n          display_msg(message_str(851, 106));\n          call set_off_trap;\n        end\n        else begin\n          display_msg(message_str(851, 108));\n        end\n      end\n    end\n  end\n  else begin\n    display_msg(message_str(851, 109));\n  end\nend\n","use_skill_on_p_proc":"messing_with_Morbid_stuff := 1;\nif (action_being_used == 9) then begin\n  if (obj_is_locked(self_obj)) then begin\n    script_overrides;\n    GVar0 := roll_vs_skill(dude_obj, 9, -60);\n    if (is_success(GVar0)) then begin\n      obj_unlock(self_obj);\n      display_msg(message_str(851, 107));\n    end\n    else begin\n      if (is_critical(GVar0)) then begin\n        jam_lock(self_obj);\n        display_msg(message_str(851, 110));\n      end\n      else begin\n        display_msg(message_str(851, 108));\n        set_local_var(0, local_var(0) + 1);\n        if ((local_var(0) >= 3) and (local_var(2) == 0)) then begin\n          display_msg(message_str(851, 106));\n          call set_off_trap;\n        end\n      end\n    end\n  end\n  else begin\n    display_msg(message_str(851, 109));\n  end\nend\nelse begin\n  if (action_being_used == 11) then begin\n    if (local_var(1) == 0) then begin\n      GVar0 := roll_vs_skill(source_obj, 11, 0);\n      if (is_success(GVar0)) then begin\n        if (is_critical(GVar0)) then begin\n          script_overrides;\n          display_msg(message_str(851, 101));\n          set_local_var(1, 1);\n          set_local_var(2, 1);\n        end\n        else begin\n          script_overrides;\n          display_msg(message_str(851, 111));\n          set_local_var(1, 1);\n        end\n      end\n      else begin\n        if (is_critical(GVar0)) then begin\n          display_msg(message_str(851, 106));\n          call set_off_trap;\n        end\n      end\n    end\n    else begin\n      if (local_var(2) == 0) then begin\n        script_overrides;\n        GVar0 := roll_vs_skill(source_obj, 11, 0);\n        if (is_success(GVar0)) then begin\n          display_msg(message_str(851, 104));\n          set_local_var(2, 1);\n        end\n        else begin\n          if (is_critical(GVar0)) then begin\n            display_msg(message_str(851, 106));\n            call set_off_trap;\n          end\n          else begin\n            display_msg(message_str(851, 105));\n          end\n        end\n      end\n    end\n  end\nend\n","set_off_trap":"if (local_var(2) == 0) then begin\n  explosion(tile_num(self_obj), elevation(self_obj), random(6, 36));\n  destroy_object(self_obj);\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>