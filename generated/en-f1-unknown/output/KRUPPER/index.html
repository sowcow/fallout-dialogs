<!DOCTYPE html><html><head><title>KRUPPER</title><meta charset="utf-8" /></head><body><svg width="1281pt" height="629pt"
 viewBox="0.00 0.00 1281.00 628.64" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 624.64)">
<title>KRUPPER</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-624.64 1277,-624.64 1277,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="375" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-529.64" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;critter_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;critter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M348.13,-599.45C293.39,-594.45 165.47,-580.05 63,-547.64 61.23,-547.08 59.44,-546.46 57.65,-545.78"/>
<polygon fill="#555555" stroke="#555555" points="59.13,-542.18 48.56,-541.51 56.4,-548.63 59.13,-542.18"/>
</g>
<!-- look_at_p_proc -->
<g id="node3" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="192" cy="-529.64" rx="119.6" ry="18"/>
<text text-anchor="middle" x="192" y="-524.97" font-family="Times,serif" font-size="14.00">You see huge mutant.</text>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge2" class="edge">
<title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M352.19,-592.79C325.33,-582.37 279.86,-564.73 244.22,-550.9"/>
<polygon fill="#555555" stroke="#555555" points="245.56,-547.28 234.97,-546.93 243.03,-553.81 245.56,-547.28"/>
</g>
<!-- pickup_p_proc -->
<g id="node4" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="357" cy="-529.64" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;pickup_p_proc -->
<g id="edge3" class="edge">
<title>start&#45;&gt;pickup_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M370.64,-584.46C368.65,-576.61 366.25,-567.11 364.01,-558.3"/>
<polygon fill="#555555" stroke="#555555" points="367.17,-557.51 361.32,-548.67 360.38,-559.23 367.17,-557.51"/>
</g>
<!-- talk_p_proc -->
<g id="node5" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="429" cy="-529.64" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge4" class="edge">
<title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M386.72,-586.24C393.72,-577.03 402.77,-565.12 410.71,-554.7"/>
<polygon fill="#555555" stroke="#555555" points="414.04,-557.1 417.31,-547.02 408.47,-552.86 414.04,-557.1"/>
</g>
<!-- destroy_p_proc -->
<g id="node6" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="501" cy="-529.64" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge5" class="edge">
<title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M395.24,-590.24C415.82,-578.64 447.91,-560.56 471.35,-547.35"/>
<polygon fill="#555555" stroke="#555555" points="472.81,-549.98 479.81,-542.02 469.38,-543.88 472.81,-549.98"/>
</g>
<!-- timed_event_p_proc -->
<g id="node7" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="573" cy="-529.64" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;timed_event_p_proc -->
<g id="edge6" class="edge">
<title>start&#45;&gt;timed_event_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M399.48,-594.48C431.49,-584.89 489.12,-566.85 537,-547.64 538.68,-546.97 540.38,-546.26 542.1,-545.52"/>
<polygon fill="#555555" stroke="#555555" points="543.18,-548.43 550.87,-541.14 540.31,-542.04 543.18,-548.43"/>
</g>
<!-- krupper01 -->
<g id="node8" class="node">
<title>krupper01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="571" cy="-432.39" rx="130.11" ry="42.25"/>
<text text-anchor="middle" x="571" y="-444.97" font-family="Times,serif" font-size="14.00">You should not be here.</text>
<text text-anchor="middle" x="571" y="-427.72" font-family="Times,serif" font-size="14.00">This area off limits to</text>
<text text-anchor="middle" x="571" y="-410.47" font-family="Times,serif" font-size="14.00">Children.</text>
</g>
<!-- talk_p_proc&#45;&gt;krupper01 -->
<g id="edge7" class="edge">
<title>talk_p_proc&#45;&gt;krupper01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M447.56,-516.19C462.56,-506.13 484.61,-491.34 505.94,-477.03"/>
<polygon fill="#555555" stroke="#555555" points="507.66,-479.42 514.02,-470.94 503.76,-473.61 507.66,-479.42"/>
</g>
<!-- kruppercombat -->
<g id="node9" class="node">
<title>kruppercombat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="488" cy="-18" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;kruppercombat -->
<g id="edge8" class="edge">
<title>talk_p_proc&#45;&gt;kruppercombat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M412.97,-514.92C394.9,-497.83 368,-466.78 368,-433.39 368,-433.39 368,-433.39 368,-114.25 368,-70.31 417.97,-43.42 453.42,-29.87"/>
<polygon fill="#555555" stroke="#555555" points="454.22,-32.94 462.43,-26.24 451.83,-26.35 454.22,-32.94"/>
</g>
<!-- krupper01&#45;&gt;kruppercombat -->
<g id="edge11" class="edge">
<title>krupper01&#45;&gt;kruppercombat</title>
<path fill="none" stroke="#280099" d="M541.1,-390.87C505.31,-339.61 447.4,-247.16 425,-157.5 415.9,-121.06 409.31,-107.12 425,-73 431.98,-57.83 445.54,-45.33 458.31,-36.19"/>
<polygon fill="#280099" stroke="#280099" points="459.99,-38.61 466.35,-30.14 456.1,-32.79 459.99,-38.61"/>
<text text-anchor="middle" x="525.25" y="-196.7" font-family="Times,serif" font-size="14.00" fill="#280099">I have the ultimate hall</text>
<text text-anchor="middle" x="525.25" y="-179.45" font-family="Times,serif" font-size="14.00" fill="#280099">pass. Meet my gun!</text>
</g>
<!-- krupper03 -->
<g id="node11" class="node">
<title>krupper03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="846" cy="-282.45" rx="148.14" ry="54.45"/>
<text text-anchor="middle" x="846" y="-303.65" font-family="Times,serif" font-size="14.00">This prisoner cell block.</text>
<text text-anchor="middle" x="846" y="-286.4" font-family="Times,serif" font-size="14.00">Here we hold humans until</text>
<text text-anchor="middle" x="846" y="-269.15" font-family="Times,serif" font-size="14.00">you dip</text>
<text text-anchor="middle" x="846" y="-251.9" font-family="Times,serif" font-size="14.00"> them. Good stuff, huh?</text>
</g>
<!-- krupper01&#45;&gt;krupper03 -->
<g id="edge10" class="edge">
<title>krupper01&#45;&gt;krupper03</title>
<path fill="none" stroke="#995400" d="M637.22,-395.77C672.09,-377.01 715.41,-353.7 753.54,-333.19"/>
<polygon fill="#995400" stroke="#995400" points="754.97,-335.86 762.12,-328.04 751.65,-329.69 754.97,-335.86"/>
<text text-anchor="middle" x="798.25" y="-358.84" font-family="Times,serif" font-size="14.00" fill="#995400">Why? What is this place?</text>
</g>
<!-- krupper02 -->
<g id="node12" class="node">
<title>krupper02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="846" cy="-115.25" rx="121.09" ry="42.25"/>
<text text-anchor="middle" x="846" y="-127.82" font-family="Times,serif" font-size="14.00">You too stupid to be a</text>
<text text-anchor="middle" x="846" y="-110.57" font-family="Times,serif" font-size="14.00">Child. You must be</text>
<text text-anchor="middle" x="846" y="-93.32" font-family="Times,serif" font-size="14.00">intruder!</text>
</g>
<!-- krupper01&#45;&gt;krupper02 -->
<g id="edge12" class="edge">
<title>krupper01&#45;&gt;krupper02</title>
<path fill="none" stroke="#059900" d="M579.68,-389.77C590.7,-345.42 613.41,-275.23 654.5,-228 682.45,-195.88 722,-170.65 757.91,-152.36"/>
<polygon fill="#059900" stroke="#059900" points="759.04,-155.21 766.43,-147.62 755.92,-148.94 759.04,-155.21"/>
<text text-anchor="middle" x="672.25" y="-277.77" font-family="Times,serif" font-size="14.00" fill="#059900">Hng.</text>
</g>
<!-- krupper00 -->
<g id="node10" class="node">
<title>krupper00</title>
<ellipse fill="#ffffff" stroke="#000000" cx="570" cy="-115.25" rx="136.44" ry="18"/>
<text text-anchor="middle" x="570" y="-110.57" font-family="Times,serif" font-size="14.00">Halt! You cannot escape!</text>
</g>
<!-- krupper00&#45;&gt;kruppercombat -->
<g id="edge9" class="edge">
<title>krupper00&#45;&gt;kruppercombat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M555.34,-97.22C542.16,-81.91 522.68,-59.28 508.06,-42.3"/>
<polygon fill="#555555" stroke="#555555" points="510.09,-40.3 500.91,-35 504.79,-44.86 510.09,-40.3"/>
</g>
<!-- krupper03&#45;&gt;krupper02 -->
<g id="edge14" class="edge">
<title>krupper03&#45;&gt;krupper02</title>
<path fill="none" stroke="#990031" d="M846,-227.81C846,-208.83 846,-187.52 846,-168.64"/>
<polygon fill="#990031" stroke="#990031" points="849.5,-168.84 846,-158.84 842.5,-168.84 849.5,-168.84"/>
<text text-anchor="middle" x="919.88" y="-188.07" font-family="Times,serif" font-size="14.00" fill="#990031">What is the dipping?</text>
</g>
<!-- krupper04 -->
<g id="node13" class="node">
<title>krupper04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1087" cy="-115.25" rx="102.24" ry="18"/>
<text text-anchor="middle" x="1087" y="-110.57" font-family="Times,serif" font-size="14.00">You need to leave.</text>
</g>
<!-- krupper03&#45;&gt;krupper04 -->
<g id="edge15" class="edge">
<title>krupper03&#45;&gt;krupper04</title>
<path fill="none" stroke="#005e99" d="M944.71,-241.63C963.13,-232.4 981.69,-221.78 998,-210 1024.94,-190.54 1050.5,-162.23 1067.25,-141.81"/>
<polygon fill="#005e99" stroke="#005e99" points="1070.54,-144.3 1074.09,-134.32 1065.09,-139.91 1070.54,-144.3"/>
<text text-anchor="middle" x="1075.5" y="-188.07" font-family="Times,serif" font-size="14.00" fill="#005e99">Ok, thanks.</text>
</g>
<!-- krupper02&#45;&gt;kruppercombat -->
<g id="edge13" class="edge">
<title>krupper02&#45;&gt;kruppercombat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M758.53,-85.75C744.04,-81.31 729.14,-76.9 715,-73 648.22,-54.57 569.37,-36.67 524.37,-26.81"/>
<polygon fill="#555555" stroke="#555555" points="525.2,-23.19 514.68,-24.48 523.71,-30.03 525.2,-23.19"/>
</g>
<!-- get_reaction -->
<g id="node14" class="node">
<title>get_reaction</title>
<ellipse fill="#ffffff" stroke="#000000" cx="598" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- ReactToLevel -->
<g id="node15" class="node">
<title>ReactToLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="742" cy="-529.64" rx="27" ry="18"/>
</g>
<!-- get_reaction&#45;&gt;ReactToLevel -->
<g id="edge16" class="edge">
<title>get_reaction&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M619.25,-591.17C643.5,-579.21 683.37,-559.55 711.06,-545.9"/>
<polygon fill="#555555" stroke="#555555" points="712.24,-548.72 719.67,-541.16 709.15,-542.45 712.24,-548.72"/>
</g>
<!-- LevelToReact -->
<g id="node16" class="node">
<title>LevelToReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="994" cy="-529.64" rx="27" ry="18"/>
</g>
<!-- UpReact -->
<g id="node17" class="node">
<title>UpReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="670" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- UpReact&#45;&gt;ReactToLevel -->
<g id="edge17" class="edge">
<title>UpReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M684.57,-587.28C694.65,-577.33 708.26,-563.91 719.7,-552.63"/>
<polygon fill="#555555" stroke="#555555" points="721.54,-555.75 726.2,-546.23 716.63,-550.76 721.54,-555.75"/>
</g>
<!-- DownReact -->
<g id="node18" class="node">
<title>DownReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="742" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- DownReact&#45;&gt;ReactToLevel -->
<g id="edge18" class="edge">
<title>DownReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M742,-584.46C742,-576.69 742,-567.32 742,-558.59"/>
<polygon fill="#555555" stroke="#555555" points="745.5,-558.67 742,-548.67 738.5,-558.67 745.5,-558.67"/>
</g>
<!-- BottomReact -->
<g id="node19" class="node">
<title>BottomReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1102" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- TopReact -->
<g id="node20" class="node">
<title>TopReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1174" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- BigUpReact -->
<g id="node21" class="node">
<title>BigUpReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="814" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- BigUpReact&#45;&gt;ReactToLevel -->
<g id="edge19" class="edge">
<title>BigUpReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M799.43,-587.28C789.35,-577.33 775.74,-563.91 764.3,-552.63"/>
<polygon fill="#555555" stroke="#555555" points="767.37,-550.76 757.8,-546.23 762.46,-555.75 767.37,-550.76"/>
</g>
<!-- BigDownReact -->
<g id="node22" class="node">
<title>BigDownReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="886" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- BigDownReact&#45;&gt;ReactToLevel -->
<g id="edge20" class="edge">
<title>BigDownReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M864.75,-591.17C840.5,-579.21 800.63,-559.55 772.94,-545.9"/>
<polygon fill="#555555" stroke="#555555" points="774.85,-542.45 764.33,-541.16 771.76,-548.72 774.85,-542.45"/>
</g>
<!-- UpReactLevel -->
<g id="node23" class="node">
<title>UpReactLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="958" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- UpReactLevel&#45;&gt;LevelToReact -->
<g id="edge21" class="edge">
<title>UpReactLevel&#45;&gt;LevelToReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M966.35,-585.18C970.62,-576.75 975.92,-566.3 980.73,-556.81"/>
<polygon fill="#555555" stroke="#555555" points="984.29,-558.52 985.7,-548.02 978.05,-555.36 984.29,-558.52"/>
</g>
<!-- DownReactLevel -->
<g id="node24" class="node">
<title>DownReactLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1030" cy="-602.64" rx="27" ry="18"/>
</g>
<!-- DownReactLevel&#45;&gt;LevelToReact -->
<g id="edge22" class="edge">
<title>DownReactLevel&#45;&gt;LevelToReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1021.65,-585.18C1017.38,-576.75 1012.08,-566.3 1007.27,-556.81"/>
<polygon fill="#555555" stroke="#555555" points="1009.95,-555.36 1002.3,-548.02 1003.71,-558.52 1009.95,-555.36"/>
</g>
<!-- Goodbyes -->
<g id="node25" class="node">
<title>Goodbyes</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1246" cy="-602.64" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (not(initialized)) then begin\n  critter_add_trait(self_obj, 1, 6, 34);\n  critter_add_trait(self_obj, 1, 5, 48);\n  initialized := 1;\nend\nif (script_action == 12) then begin\n  call critter_p_proc;\nend\nelse begin\n  if (script_action == 21) then begin\n    call look_at_p_proc;\n  end\n  else begin\n    if (script_action == 4) then begin\n      call pickup_p_proc;\n    end\n    else begin\n      if (script_action == 11) then begin\n        call talk_p_proc;\n      end\n      else begin\n        if (script_action == destroy_p_proc) then begin\n          call destroy_p_proc;\n        end\n        else begin\n          if (script_action == 22) then begin\n            call timed_event_p_proc;\n          end\n        end\n      end\n    end\n  end\nend\n","critter_p_proc":"if ((local_var(4) == 0) and obj_can_see_obj(self_obj, dude_obj)) then begin\n  dialogue_system_enter;\nend\nif (hostile) then begin\n  hostile := 0;\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(434, 100));\n","pickup_p_proc":"hostile := 1;\n","talk_p_proc":"if (obj_pid(critter_inven_obj(dude_obj, 0)) == 113) then begin\n  call krupper01;\nend\nelse begin\n  call kruppercombat;\nend\nset_local_var(4, 1);\n","timed_event_p_proc":"if (obj_can_see_obj(self_obj, dude_obj)) then begin\n  hostile := 1;\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(160, global_var(160) + 1);\n  if ((global_var(160) % 6) == 0) then begin\n    set_global_var(155, global_var(155) + 1);\n  end\nend\n","krupper00":"float_msg(self_obj, message_str(434, 101), 0);\ncall kruppercombat;\n","krupper01":"start_gdialog(434, self_obj, 4, -1, -1);\ngsay_start;\ngsay_reply(434, 102);\ngiq_option(4, 434, 103, krupper03, 50);\ngiq_option(4, 434, 104, kruppercombat, 50);\ngiq_option(-3, 434, 105, krupper02, 50);\ngsay_end;\nend_dialogue;\n","krupper02":"gsay_message(434, 106, 50);\ncall kruppercombat;\n","krupper03":"gsay_reply(434, 107);\ngiq_option(4, 434, 108, krupper02, 50);\ngiq_option(4, 434, 109, krupper04, 50);\n","krupper04":"gsay_message(434, 110, 50);\nadd_timer_event(self_obj, game_ticks(20), 1);\n","kruppercombat":"hostile := 1;\n","get_reaction":"if (local_var(2) == 0) then begin\n  set_local_var(0, 50);\n  set_local_var(1, 2);\n  set_local_var(2, 1);\n  set_local_var(0, local_var(0) + (5 * get_critter_stat(dude_obj, 3)) - 25);\n  set_local_var(0, local_var(0) + (10 * has_trait(0, dude_obj, 10)));\n  if (has_trait(0, dude_obj, 39)) then begin\n    if (global_var(155) > 0) then begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n  end\n  else begin\n    if (local_var(3) == 1) then begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n  end\n  if (global_var(158) > 2) then begin\n    set_local_var(0, local_var(0) - 30);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_local_var(0, local_var(0) + 20);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_local_var(0, local_var(0) - 20);\n  end\n  call ReactToLevel;\nend\n","ReactToLevel":"if (local_var(0) <= 25) then begin\n  set_local_var(1, 1);\nend\nelse begin\n  if (local_var(0) <= 75) then begin\n    set_local_var(1, 2);\n  end\n  else begin\n    set_local_var(1, 3);\n  end\nend\n","LevelToReact":"if (local_var(1) == 1) then begin\n  set_local_var(0, random(1, 25));\nend\nelse begin\n  if (local_var(1) == 2) then begin\n    set_local_var(0, random(26, 75));\n  end\n  else begin\n    set_local_var(0, random(76, 100));\n  end\nend\n","UpReact":"set_local_var(0, local_var(0) + 10);\ncall ReactToLevel;\n","DownReact":"set_local_var(0, local_var(0) - 10);\ncall ReactToLevel;\n","BottomReact":"set_local_var(1, 1);\nset_local_var(0, 1);\n","TopReact":"set_local_var(0, 100);\nset_local_var(1, 3);\n","BigUpReact":"set_local_var(0, local_var(0) + 25);\ncall ReactToLevel;\n","BigDownReact":"set_local_var(0, local_var(0) - 25);\ncall ReactToLevel;\n","UpReactLevel":"set_local_var(1, local_var(1) + 1);\nif (local_var(1) > 3) then begin\n  set_local_var(1, 3);\nend\ncall LevelToReact;\n","DownReactLevel":"set_local_var(1, local_var(1) - 1);\nif (local_var(1) < 1) then begin\n  set_local_var(1, 1);\nend\ncall LevelToReact;\n","Goodbyes":"exit_line := message_str(634, random(100, 105));\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(name, code, x, y) {
    $('#thecode').show();
    $('#thecode').text("# " + name + "\n" + code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(nodeName, Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>