<!DOCTYPE html><html><head><title>SETSCTDR</title><meta charset="utf-8" /></head><body><svg width="996pt" height="547pt"
 viewBox="0.00 0.00 996.25 546.57" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 542.566)">
<title>SETSCTDR</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-542.566 992.253,-542.566 992.253,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="105.359" cy="-490.482" rx="105.218" ry="48.1667"/>
<text text-anchor="middle" x="105.359" y="-509.282" font-family="Times,serif" font-size="14.00">You gain </text>
<text text-anchor="middle" x="105.359" y="-494.282" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="105.359" y="-479.282" font-family="Times,serif" font-size="14.00">experience points for</text>
<text text-anchor="middle" x="105.359" y="-464.282" font-family="Times,serif" font-size="14.00">finding the secret door.</text>
</g>
<!-- use_door -->
<g id="node2" class="node"><title>use_door</title>
<ellipse fill="#ffffff" stroke="#000000" cx="78.3589" cy="-337.103" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;use_door -->
<g id="edge1" class="edge"><title>start&#45;&gt;use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M84.5638,-443.241C78.261,-417.653 73.3907,-386.746 72.5512,-365.088"/>
<polygon fill="#555555" stroke="#555555" points="76.0504,-364.949 72.4834,-354.972 69.0506,-364.996 76.0504,-364.949"/>
</g>
<!-- start&#45;&gt;use_door -->
<g id="edge2" class="edge"><title>start&#45;&gt;use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M96.9639,-442.415C92.4349,-417.022 87.0068,-386.588 83.186,-365.167"/>
<polygon fill="#555555" stroke="#555555" points="86.6008,-364.378 81.3992,-355.148 79.7095,-365.608 86.6008,-364.378"/>
</g>
<!-- start&#45;&gt;use_door -->
<g id="edge5" class="edge"><title>start&#45;&gt;use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M109.567,-442.415C106.625,-416.309 100.276,-384.876 93.2434,-363.385"/>
<polygon fill="#555555" stroke="#555555" points="96.435,-361.918 89.748,-353.7 89.8507,-364.294 96.435,-361.918"/>
</g>
<!-- failure -->
<g id="node3" class="node"><title>failure</title>
<ellipse fill="#ffffff" stroke="#000000" cx="133.359" cy="-151.903" rx="108.789" ry="69.0935"/>
<text text-anchor="middle" x="133.359" y="-185.703" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="133.359" y="-170.703" font-family="Times,serif" font-size="14.00">the explosive, because</text>
<text text-anchor="middle" x="133.359" y="-155.703" font-family="Times,serif" font-size="14.00">you were smart enough</text>
<text text-anchor="middle" x="133.359" y="-140.703" font-family="Times,serif" font-size="14.00">to find it, but not</text>
<text text-anchor="middle" x="133.359" y="-125.703" font-family="Times,serif" font-size="14.00">smart enough to leave it</text>
<text text-anchor="middle" x="133.359" y="-110.703" font-family="Times,serif" font-size="14.00">alone.</text>
</g>
<!-- start&#45;&gt;failure -->
<g id="edge3" class="edge"><title>start&#45;&gt;failure</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M110.77,-442.058C112.024,-430.406 113.3,-417.958 114.359,-406.399 119.727,-347.808 124.656,-281.494 128.149,-231.391"/>
<polygon fill="#555555" stroke="#555555" points="131.65,-231.492 128.85,-221.274 124.667,-231.008 131.65,-231.492"/>
</g>
<!-- find_iq -->
<g id="node4" class="node"><title>find_iq</title>
<ellipse fill="#ffffff" stroke="#000000" cx="270.359" cy="-337.103" rx="108.789" ry="69.0935"/>
<text text-anchor="middle" x="270.359" y="-370.903" font-family="Times,serif" font-size="14.00">You find a crude</text>
<text text-anchor="middle" x="270.359" y="-355.903" font-family="Times,serif" font-size="14.00">explosive device in the</text>
<text text-anchor="middle" x="270.359" y="-340.903" font-family="Times,serif" font-size="14.00">doorframe.</text>
<text text-anchor="middle" x="270.359" y="-325.903" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="270.359" y="-310.903" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="270.359" y="-295.903" font-family="Times,serif" font-size="14.00">the explosive!</text>
</g>
<!-- start&#45;&gt;find_iq -->
<g id="edge4" class="edge"><title>start&#45;&gt;find_iq</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M151.76,-446.912C167.134,-432.806 184.592,-416.789 201.295,-401.465"/>
<polygon fill="#555555" stroke="#555555" points="203.904,-403.822 208.906,-394.483 199.171,-398.664 203.904,-403.822"/>
</g>
<!-- trap_stuff -->
<g id="node5" class="node"><title>trap_stuff</title>
<ellipse fill="#ffffff" stroke="#000000" cx="533.359" cy="-337.103" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;trap_stuff -->
<g id="edge6" class="edge"><title>start&#45;&gt;trap_stuff</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M196.71,-466.517C252.735,-451.488 325.528,-430.255 388.359,-406.399 429.26,-390.869 474.615,-368.654 503.525,-353.823"/>
<polygon fill="#555555" stroke="#555555" points="505.393,-356.798 512.669,-349.097 502.178,-350.579 505.393,-356.798"/>
</g>
<!-- explode -->
<g id="node9" class="node"><title>explode</title>
<ellipse fill="#ffffff" stroke="#000000" cx="407.359" cy="-18" rx="27" ry="18"/>
</g>
<!-- failure&#45;&gt;explode -->
<g id="edge14" class="edge"><title>failure&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M206.213,-100.245C222.326,-90.1632 239.6,-80.1773 256.359,-72 294.832,-53.2269 341.694,-37.8523 372.91,-28.586"/>
<polygon fill="#555555" stroke="#555555" points="374.242,-31.8431 382.861,-25.6816 372.281,-25.1235 374.242,-31.8431"/>
</g>
<!-- find_iq&#45;&gt;explode -->
<g id="edge11" class="edge"><title>find_iq&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M257.286,-268.255C250.12,-210.82 249.515,-128.98 289.359,-72 308.188,-45.0728 344.038,-31.6128 371.302,-25.0219"/>
<polygon fill="#555555" stroke="#555555" points="372.268,-28.3929 381.278,-22.8184 370.758,-21.5577 372.268,-28.3929"/>
</g>
<!-- disarm_trap -->
<g id="node6" class="node"><title>disarm_trap</title>
<ellipse fill="#ffffff" stroke="#000000" cx="407.359" cy="-151.903" rx="108.789" ry="79.8063"/>
<text text-anchor="middle" x="407.359" y="-193.203" font-family="Times,serif" font-size="14.00">You disarm the trap.</text>
<text text-anchor="middle" x="407.359" y="-178.203" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="407.359" y="-163.203" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="407.359" y="-148.203" font-family="Times,serif" font-size="14.00">the explosive!</text>
<text text-anchor="middle" x="407.359" y="-133.203" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="407.359" y="-118.203" font-family="Times,serif" font-size="14.00">You did not disarm the</text>
<text text-anchor="middle" x="407.359" y="-103.203" font-family="Times,serif" font-size="14.00">trap.</text>
</g>
<!-- trap_stuff&#45;&gt;disarm_trap -->
<g id="edge7" class="edge"><title>trap_stuff&#45;&gt;disarm_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M522.616,-320.483C509.01,-300.7 484.574,-265.171 461.692,-231.902"/>
<polygon fill="#555555" stroke="#555555" points="464.467,-229.759 455.916,-223.503 458.699,-233.726 464.467,-229.759"/>
</g>
<!-- disarm_mech -->
<g id="node7" class="node"><title>disarm_mech</title>
<ellipse fill="#ffffff" stroke="#000000" cx="643.359" cy="-151.903" rx="108.789" ry="79.8063"/>
<text text-anchor="middle" x="643.359" y="-193.203" font-family="Times,serif" font-size="14.00">You disarm the trap.</text>
<text text-anchor="middle" x="643.359" y="-178.203" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="643.359" y="-163.203" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="643.359" y="-148.203" font-family="Times,serif" font-size="14.00">the explosive!</text>
<text text-anchor="middle" x="643.359" y="-133.203" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="643.359" y="-118.203" font-family="Times,serif" font-size="14.00">You did not disarm the</text>
<text text-anchor="middle" x="643.359" y="-103.203" font-family="Times,serif" font-size="14.00">trap.</text>
</g>
<!-- trap_stuff&#45;&gt;disarm_mech -->
<g id="edge8" class="edge"><title>trap_stuff&#45;&gt;disarm_mech</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M542.928,-320.165C554.588,-300.747 575.151,-266.5 594.646,-234.031"/>
<polygon fill="#555555" stroke="#555555" points="597.693,-235.756 599.84,-225.381 591.692,-232.153 597.693,-235.756"/>
</g>
<!-- find_trap -->
<g id="node8" class="node"><title>find_trap</title>
<ellipse fill="#ffffff" stroke="#000000" cx="879.359" cy="-151.903" rx="108.789" ry="69.0935"/>
<text text-anchor="middle" x="879.359" y="-185.703" font-family="Times,serif" font-size="14.00">You find a crude</text>
<text text-anchor="middle" x="879.359" y="-170.703" font-family="Times,serif" font-size="14.00">explosive device in the</text>
<text text-anchor="middle" x="879.359" y="-155.703" font-family="Times,serif" font-size="14.00">doorframe.</text>
<text text-anchor="middle" x="879.359" y="-140.703" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="879.359" y="-125.703" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="879.359" y="-110.703" font-family="Times,serif" font-size="14.00">the explosive!</text>
</g>
<!-- trap_stuff&#45;&gt;find_trap -->
<g id="edge9" class="edge"><title>trap_stuff&#45;&gt;find_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M555.952,-327.184C597.579,-310.444 688.768,-272.335 761.359,-231.806 773.684,-224.925 786.402,-217.172 798.719,-209.283"/>
<polygon fill="#555555" stroke="#555555" points="800.681,-212.182 807.172,-203.809 796.876,-206.307 800.681,-212.182"/>
</g>
<!-- disarm_trap&#45;&gt;explode -->
<g id="edge12" class="edge"><title>disarm_trap&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M407.359,-71.89C407.359,-62.7907 407.359,-54.037 407.359,-46.3596"/>
<polygon fill="#555555" stroke="#555555" points="410.859,-46.299 407.359,-36.2991 403.859,-46.2991 410.859,-46.299"/>
</g>
<!-- disarm_mech&#45;&gt;explode -->
<g id="edge13" class="edge"><title>disarm_mech&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M565.156,-95.9822C552.093,-87.5753 538.51,-79.2831 525.359,-72 497.214,-56.4127 463.615,-41.6732 439.482,-31.7141"/>
<polygon fill="#555555" stroke="#555555" points="440.665,-28.4171 430.084,-27.8802 438.021,-34.8984 440.665,-28.4171"/>
</g>
<!-- find_trap&#45;&gt;explode -->
<g id="edge10" class="edge"><title>find_trap&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M811.029,-97.9409C795.403,-87.9455 778.368,-78.5776 761.359,-72 651.826,-29.642 511.099,-20.9396 444.921,-19.2862"/>
<polygon fill="#555555" stroke="#555555" points="444.651,-15.7799 434.58,-19.071 444.505,-22.7784 444.651,-15.7799"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 6) then begin\n  if (source_obj == dude_obj) then begin\n    if (local_var(2)) then begin\n      call use_door;\n    end\n    if (local_var(3) == 0) then begin\n      set_local_var(3, 1);\n      temp := 100;\n      give_exp_points(temp);\n      display_msg(message_str(96, 200) + temp + message_str(96, 201));\n    end\n    else begin\n      if (local_var(1)) then begin\n        call use_door;\n      end\n      else begin\n        if (local_var(0)) then begin\n          call failure;\n        end\n        else begin\n          call find_iq;\n        end\n      end\n    end\n  end\n  else begin\n    call use_door;\n  end\nend\nelse begin\n  if (script_action == 8) then begin\n    call trap_stuff;\n  end\nend\n","trap_stuff":"use_skill := action_being_used;\nif (local_var(1) == 0) then begin\n  if (local_var(0)) then begin\n    if (use_skill == 11) then begin\n      call disarm_trap;\n    end\n    else begin\n      if (use_skill == 13) then begin\n        call disarm_mech;\n      end\n    end\n  end\nend\nelse begin\n  call find_trap;\nend\n","find_trap":"script_overrides;\ntest := roll_vs_skill(dude_obj, 11, -20);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 100));\n  set_local_var(0, 1);\nend\nelse begin\n  display_msg(message_str(96, 104));\n  call explode;\nend\n","find_iq":"script_overrides;\ntest := do_check(dude_obj, 4, 2);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 100));\n  set_local_var(0, 1);\nend\nelse begin\n  display_msg(message_str(96, 104));\n  call explode;\nend\n","disarm_trap":"script_overrides;\ntest := roll_vs_skill(dude_obj, 11, 0);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 102));\n  set_local_var(1, 1);\nend\nelse begin\n  if (is_critical(test)) then begin\n    display_msg(message_str(96, 104));\n    call explode;\n  end\n  else begin\n    display_msg(message_str(96, 103));\n  end\nend\n","disarm_mech":"script_overrides;\ntest := roll_vs_skill(dude_obj, 13, 20);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 102));\n  set_local_var(1, 1);\nend\nelse begin\n  if (is_critical(test)) then begin\n    display_msg(message_str(96, 104));\n    call explode;\n  end\n  else begin\n    display_msg(message_str(96, 103));\n  end\nend\n","failure":"script_overrides;\ndisplay_msg(message_str(96, 105));\ncall explode;\n","explode":"set_local_var(1, 1);\nexplosion(tile_num(self_obj), elevation(self_obj), 0);\ndamage := random(1, 6) + random(1, 6) + random(1, 6) + random(1, 6) + random(1, 6) + random(1, 6);\ncritter_dmg(dude_obj, damage, 0);\n","use_door":"if (local_var(2)) then begin\n  set_local_var(2, 0);\nend\nelse begin\n  set_local_var(2, 1);\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>