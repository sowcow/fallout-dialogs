<!DOCTYPE html><html><head><title>htwrbox</title><meta charset="utf-8" /></head><body><svg width="1374pt" height="1287pt"
 viewBox="0.00 0.00 1373.81 1286.68" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1282.68)">
<title>htwrbox</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1282.68 1369.81,-1282.68 1369.81,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-675.34" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node2" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="224" cy="-675.34" rx="151.85" ry="42.25"/>
<text text-anchor="middle" x="224" y="-687.91" font-family="Times,serif" font-size="14.00">Вы видите закрытый сейф.</text>
<text text-anchor="middle" x="224" y="-670.66" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="224" y="-653.41" font-family="Times,serif" font-size="14.00">Вы видите открытый сейф.</text>
</g>
<!-- use_p_proc -->
<g id="node3" class="node">
<title>use_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="548" cy="-675.34" rx="153.97" ry="176.42"/>
<text text-anchor="middle" x="548" y="-782.79" font-family="Times,serif" font-size="14.00">Сейф закрыт.</text>
<text text-anchor="middle" x="548" y="-765.54" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="548" y="-748.29" font-family="Times,serif" font-size="14.00">Открывая сейф, вы</text>
<text text-anchor="middle" x="548" y="-731.04" font-family="Times,serif" font-size="14.00">обнаружили и обезвредили</text>
<text text-anchor="middle" x="548" y="-713.79" font-family="Times,serif" font-size="14.00">ловушку.</text>
<text text-anchor="middle" x="548" y="-696.54" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="548" y="-679.29" font-family="Times,serif" font-size="14.00">Открывая сейф, вы</text>
<text text-anchor="middle" x="548" y="-662.04" font-family="Times,serif" font-size="14.00">обнаружили ловушку,</text>
<text text-anchor="middle" x="548" y="-644.79" font-family="Times,serif" font-size="14.00">которая вдруг сработала.</text>
<text text-anchor="middle" x="548" y="-627.54" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="548" y="-610.29" font-family="Times,serif" font-size="14.00">Открывая сейф, вы</text>
<text text-anchor="middle" x="548" y="-593.04" font-family="Times,serif" font-size="14.00">обнаружили ловушку,</text>
<text text-anchor="middle" x="548" y="-575.79" font-family="Times,serif" font-size="14.00">которую не смогли</text>
<text text-anchor="middle" x="548" y="-558.54" font-family="Times,serif" font-size="14.00">обезвредить.</text>
</g>
<!-- set_off_trap -->
<g id="node4" class="node">
<title>set_off_trap</title>
<ellipse fill="#ffffff" stroke="#000000" cx="874" cy="-18" rx="27" ry="18"/>
</g>
<!-- use_p_proc&#45;&gt;set_off_trap -->
<g id="edge1" class="edge">
<title>use_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M537.43,-499.07C546.44,-365.79 584.18,-186.41 693,-72 729.44,-33.68 793.84,-23.02 835.83,-20.09"/>
<polygon fill="#555555" stroke="#555555" points="836,-23.53 845.78,-19.46 835.6,-16.54 836,-23.53"/>
</g>
<!-- use_p_proc&#45;&gt;set_off_trap -->
<g id="edge2" class="edge">
<title>use_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M552.14,-498.73C564.5,-365.48 602.27,-186.31 711,-72 743.71,-37.61 798.93,-25.5 835.92,-21.26"/>
<polygon fill="#555555" stroke="#555555" points="836.17,-24.65 845.77,-20.17 835.47,-17.68 836.17,-24.65"/>
</g>
<!-- use_p_proc&#45;&gt;set_off_trap -->
<g id="edge3" class="edge">
<title>use_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M566.71,-499.76C582.31,-366.41 619.99,-186.61 729,-72 757.65,-41.88 803.58,-28.85 836.46,-23.23"/>
<polygon fill="#555555" stroke="#555555" points="836.72,-26.57 846.07,-21.59 835.65,-19.65 836.72,-26.57"/>
</g>
<!-- use_obj_on_p_proc -->
<g id="node5" class="node">
<title>use_obj_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="874" cy="-675.34" rx="153.97" ry="310.6"/>
<text text-anchor="middle" x="874" y="-877.66" font-family="Times,serif" font-size="14.00">Вы успешно открыли сейф.</text>
<text text-anchor="middle" x="874" y="-860.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="874" y="-843.16" font-family="Times,serif" font-size="14.00">Ваши многочисленные</text>
<text text-anchor="middle" x="874" y="-825.91" font-family="Times,serif" font-size="14.00">попытки открыть сейф</text>
<text text-anchor="middle" x="874" y="-808.66" font-family="Times,serif" font-size="14.00">заставили ловушку</text>
<text text-anchor="middle" x="874" y="-791.41" font-family="Times,serif" font-size="14.00">сработать.</text>
<text text-anchor="middle" x="874" y="-774.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="874" y="-756.91" font-family="Times,serif" font-size="14.00">Вам не удалось открыть</text>
<text text-anchor="middle" x="874" y="-739.66" font-family="Times,serif" font-size="14.00">сейф, замок на нем</text>
<text text-anchor="middle" x="874" y="-722.41" font-family="Times,serif" font-size="14.00">заклинило.</text>
<text text-anchor="middle" x="874" y="-705.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="874" y="-687.91" font-family="Times,serif" font-size="14.00">Ваши многочисленные</text>
<text text-anchor="middle" x="874" y="-670.66" font-family="Times,serif" font-size="14.00">попытки открыть сейф</text>
<text text-anchor="middle" x="874" y="-653.41" font-family="Times,serif" font-size="14.00">заставили ловушку</text>
<text text-anchor="middle" x="874" y="-636.16" font-family="Times,serif" font-size="14.00">сработать.</text>
<text text-anchor="middle" x="874" y="-618.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="874" y="-601.66" font-family="Times,serif" font-size="14.00">Вам не удалось открыть</text>
<text text-anchor="middle" x="874" y="-584.41" font-family="Times,serif" font-size="14.00">сейф.</text>
<text text-anchor="middle" x="874" y="-567.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="874" y="-549.91" font-family="Times,serif" font-size="14.00">Ваши многочисленные</text>
<text text-anchor="middle" x="874" y="-532.66" font-family="Times,serif" font-size="14.00">попытки открыть сейф</text>
<text text-anchor="middle" x="874" y="-515.41" font-family="Times,serif" font-size="14.00">заставили ловушку</text>
<text text-anchor="middle" x="874" y="-498.16" font-family="Times,serif" font-size="14.00">сработать.</text>
<text text-anchor="middle" x="874" y="-480.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="874" y="-463.66" font-family="Times,serif" font-size="14.00">Сейф уже открыт.</text>
</g>
<!-- use_obj_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge4" class="edge">
<title>use_obj_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M860.52,-365.86C860.24,-236.62 862.77,-103.38 868.11,-46.94"/>
<polygon fill="#555555" stroke="#555555" points="871.69,-47.42 869.3,-37.1 864.73,-46.66 871.69,-47.42"/>
</g>
<!-- use_obj_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge5" class="edge">
<title>use_obj_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M874,-364.42C874,-235.82 874,-103.57 874,-47.2"/>
<polygon fill="#555555" stroke="#555555" points="877.5,-47.35 874,-37.35 870.5,-47.35 877.5,-47.35"/>
</g>
<!-- use_obj_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge6" class="edge">
<title>use_obj_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M887.48,-365.86C887.76,-236.62 885.23,-103.38 879.89,-46.94"/>
<polygon fill="#555555" stroke="#555555" points="883.27,-46.66 878.7,-37.1 876.31,-47.42 883.27,-46.66"/>
</g>
<!-- use_skill_on_p_proc -->
<g id="node6" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1206" cy="-675.34" rx="159.81" ry="603.34"/>
<text text-anchor="middle" x="1206" y="-1084.66" font-family="Times,serif" font-size="14.00">Вы успешно открыли сейф.</text>
<text text-anchor="middle" x="1206" y="-1067.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-1050.16" font-family="Times,serif" font-size="14.00">Ваши многочисленные</text>
<text text-anchor="middle" x="1206" y="-1032.91" font-family="Times,serif" font-size="14.00">попытки открыть сейф</text>
<text text-anchor="middle" x="1206" y="-1015.66" font-family="Times,serif" font-size="14.00">заставили ловушку</text>
<text text-anchor="middle" x="1206" y="-998.41" font-family="Times,serif" font-size="14.00">сработать.</text>
<text text-anchor="middle" x="1206" y="-981.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-963.91" font-family="Times,serif" font-size="14.00">Вам не удалось открыть</text>
<text text-anchor="middle" x="1206" y="-946.66" font-family="Times,serif" font-size="14.00">сейф, замок на нем</text>
<text text-anchor="middle" x="1206" y="-929.41" font-family="Times,serif" font-size="14.00">заклинило.</text>
<text text-anchor="middle" x="1206" y="-912.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-894.91" font-family="Times,serif" font-size="14.00">Ваши многочисленные</text>
<text text-anchor="middle" x="1206" y="-877.66" font-family="Times,serif" font-size="14.00">попытки открыть сейф</text>
<text text-anchor="middle" x="1206" y="-860.41" font-family="Times,serif" font-size="14.00">заставили ловушку</text>
<text text-anchor="middle" x="1206" y="-843.16" font-family="Times,serif" font-size="14.00">сработать.</text>
<text text-anchor="middle" x="1206" y="-825.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-808.66" font-family="Times,serif" font-size="14.00">Вам не удалось открыть</text>
<text text-anchor="middle" x="1206" y="-791.41" font-family="Times,serif" font-size="14.00">сейф.</text>
<text text-anchor="middle" x="1206" y="-774.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-756.91" font-family="Times,serif" font-size="14.00">Ваши многочисленные</text>
<text text-anchor="middle" x="1206" y="-739.66" font-family="Times,serif" font-size="14.00">попытки открыть сейф</text>
<text text-anchor="middle" x="1206" y="-722.41" font-family="Times,serif" font-size="14.00">заставили ловушку</text>
<text text-anchor="middle" x="1206" y="-705.16" font-family="Times,serif" font-size="14.00">сработать.</text>
<text text-anchor="middle" x="1206" y="-687.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-670.66" font-family="Times,serif" font-size="14.00">Сейф уже открыт.</text>
<text text-anchor="middle" x="1206" y="-653.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-636.16" font-family="Times,serif" font-size="14.00">Вы обнаружили ловушку на</text>
<text text-anchor="middle" x="1206" y="-618.91" font-family="Times,serif" font-size="14.00">сейфе и успешно ее</text>
<text text-anchor="middle" x="1206" y="-601.66" font-family="Times,serif" font-size="14.00">обезвредили.</text>
<text text-anchor="middle" x="1206" y="-584.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-567.16" font-family="Times,serif" font-size="14.00">Вы обнаружили ловушку на</text>
<text text-anchor="middle" x="1206" y="-549.91" font-family="Times,serif" font-size="14.00">сейфе.</text>
<text text-anchor="middle" x="1206" y="-532.66" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-515.41" font-family="Times,serif" font-size="14.00">Обыскивая сейф на предмет</text>
<text text-anchor="middle" x="1206" y="-498.16" font-family="Times,serif" font-size="14.00">наличия ловушек, вы</text>
<text text-anchor="middle" x="1206" y="-480.91" font-family="Times,serif" font-size="14.00">случайно задели одну из</text>
<text text-anchor="middle" x="1206" y="-463.66" font-family="Times,serif" font-size="14.00">них.</text>
<text text-anchor="middle" x="1206" y="-446.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-429.16" font-family="Times,serif" font-size="14.00">Вы не обнаружили ловушек</text>
<text text-anchor="middle" x="1206" y="-411.91" font-family="Times,serif" font-size="14.00">на сейфе.</text>
<text text-anchor="middle" x="1206" y="-394.66" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-377.41" font-family="Times,serif" font-size="14.00">Вам удалось обезвредить</text>
<text text-anchor="middle" x="1206" y="-360.16" font-family="Times,serif" font-size="14.00">ловушку.</text>
<text text-anchor="middle" x="1206" y="-342.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-325.66" font-family="Times,serif" font-size="14.00">Вы случайно задели</text>
<text text-anchor="middle" x="1206" y="-308.41" font-family="Times,serif" font-size="14.00">ловушку.</text>
<text text-anchor="middle" x="1206" y="-291.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1206" y="-273.91" font-family="Times,serif" font-size="14.00">Вам не удалось</text>
<text text-anchor="middle" x="1206" y="-256.66" font-family="Times,serif" font-size="14.00">обезвредить ловушку.</text>
</g>
<!-- use_skill_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge7" class="edge">
<title>use_skill_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1099.06,-225.82C1074.76,-169.14 1043.03,-115.78 1001,-72 976.42,-46.4 939.37,-33.15 910.44,-26.3"/>
<polygon fill="#555555" stroke="#555555" points="911.3,-22.69 900.79,-23.97 909.81,-29.52 911.3,-22.69"/>
</g>
<!-- use_skill_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge8" class="edge">
<title>use_skill_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1106.39,-202.44C1083.76,-154.52 1055.2,-109.71 1019,-72 990.21,-42.01 944.3,-28.97 911.45,-23.31"/>
<polygon fill="#555555" stroke="#555555" points="912.28,-19.74 901.86,-21.66 911.2,-26.66 912.28,-19.74"/>
</g>
<!-- use_skill_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge9" class="edge">
<title>use_skill_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1113.87,-181.38C1093.13,-141.41 1067.84,-104.12 1037,-72 1004.13,-37.76 948.95,-25.61 912.01,-21.32"/>
<polygon fill="#555555" stroke="#555555" points="912.48,-17.75 902.18,-20.22 911.78,-24.71 912.48,-17.75"/>
</g>
<!-- use_skill_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge10" class="edge">
<title>use_skill_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1121.62,-162.58C1102.97,-129.72 1080.95,-99.03 1055,-72 1018.38,-33.85 954.06,-23.13 912.12,-20.14"/>
<polygon fill="#555555" stroke="#555555" points="912.37,-16.59 902.18,-19.49 911.96,-23.57 912.37,-16.59"/>
</g>
<!-- use_skill_on_p_proc&#45;&gt;set_off_trap -->
<g id="edge11" class="edge">
<title>use_skill_on_p_proc&#45;&gt;set_off_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1129.34,-145.29C1113.03,-118.94 1094.34,-94.23 1073,-72 1033.23,-30.58 960.8,-21.49 912.13,-19.52"/>
<polygon fill="#555555" stroke="#555555" points="912.32,-16 902.21,-19.18 912.1,-22.99 912.32,-16"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"[]","look_at_p_proc":"script_overrides;\nif (local_var(0) == 0) then begin\n  display_msg(message_str(872, 100));\nend\nelse begin\n  display_msg(message_str(872, 101));\nend\n","use_p_proc":"if (local_var(0) == 0) then begin\n  script_overrides;\n  display_msg(message_str(872, 102));\nend\nelse begin\n  if (local_var(1) == 0) then begin\n    script_overrides;\n    if (local_var(2) == 0) then begin\n      test := roll_vs_skill(dude_obj, 11, 0);\n      if (is_success(test)) then begin\n        reg_anim_func(2, source_obj);\n        test := roll_vs_skill(dude_obj, 11, 0);\n        if (is_success(test)) then begin\n          set_local_var(2, 1);\n          set_local_var(1, 1);\n          display_msg(message_str(872, 103));\n        end\n        else begin\n          if (is_critical(test)) then begin\n            set_local_var(2, 1);\n            set_local_var(1, 1);\n            display_msg(message_str(872, 104));\n            call set_off_trap;\n          end\n          else begin\n            set_local_var(2, 1);\n            set_local_var(1, 0);\n            display_msg(message_str(872, 105));\n          end\n        end\n      end\n      else begin\n        set_local_var(1, 1);\n        call set_off_trap;\n      end\n    end\n    else begin\n      set_local_var(1, 1);\n      call set_off_trap;\n    end\n  end\nend\n","use_obj_on_p_proc":"if (obj_pid(obj_being_used_with) == 84) then begin\n  if (local_var(0) == 0) then begin\n    script_overrides;\n    test := roll_vs_skill(dude_obj, 9, 0);\n    if (is_success(test)) then begin\n      set_local_var(0, 1);\n      display_msg(message_str(872, 107));\n      set_local_var(3, local_var(3) + 1);\n      if ((local_var(3) >= 3) and (local_var(1) == 0)) then begin\n        display_msg(message_str(872, 108));\n        set_local_var(1, 1);\n        call set_off_trap;\n      end\n    end\n    else begin\n      if (is_critical(test)) then begin\n        jam_lock(self_obj);\n        display_msg(message_str(872, 109));\n        set_local_var(3, local_var(3) + 1);\n        if ((local_var(3) >= 3) and (local_var(1) == 0)) then begin\n          display_msg(message_str(872, 108));\n          set_local_var(1, 1);\n          call set_off_trap;\n        end\n      end\n      else begin\n        display_msg(message_str(872, 110));\n        set_local_var(3, local_var(3) + 1);\n        if ((local_var(3) >= 3) and (local_var(1) == 0)) then begin\n          display_msg(message_str(872, 108));\n          set_local_var(1, 1);\n          call set_off_trap;\n        end\n      end\n    end\n  end\n  else begin\n    display_msg(message_str(872, 106));\n  end\nend\n","use_skill_on_p_proc":"if (action_being_used == 9) then begin\n  if (local_var(0) == 0) then begin\n    script_overrides;\n    test := roll_vs_skill(dude_obj, 9, -20);\n    if (is_success(test)) then begin\n      set_local_var(0, 1);\n      display_msg(message_str(872, 107));\n      set_local_var(3, local_var(3) + 1);\n      if ((local_var(3) >= 3) and (local_var(1) == 0)) then begin\n        display_msg(message_str(872, 108));\n        set_local_var(1, 1);\n        call set_off_trap;\n      end\n    end\n    else begin\n      if (is_critical(test)) then begin\n        jam_lock(self_obj);\n        display_msg(message_str(872, 109));\n        set_local_var(3, local_var(3) + 1);\n        if ((local_var(3) >= 3) and (local_var(1) == 0)) then begin\n          display_msg(message_str(872, 108));\n          set_local_var(1, 1);\n          call set_off_trap;\n        end\n      end\n      else begin\n        display_msg(message_str(872, 110));\n        set_local_var(3, local_var(3) + 1);\n        if ((local_var(3) >= 3) and (local_var(1) == 0)) then begin\n          display_msg(message_str(872, 108));\n          set_local_var(1, 1);\n          call set_off_trap;\n        end\n      end\n    end\n  end\n  else begin\n    display_msg(message_str(872, 106));\n  end\nend\nelse begin\n  if (action_being_used == 11) then begin\n    if (local_var(2) == 0) then begin\n      test := roll_vs_skill(dude_obj, 11, 0);\n      if (is_success(test)) then begin\n        if (is_critical(test)) then begin\n          script_overrides;\n          display_msg(message_str(872, 111));\n          set_local_var(2, 1);\n          set_local_var(1, 1);\n        end\n        else begin\n          script_overrides;\n          display_msg(message_str(872, 112));\n          set_local_var(2, 1);\n        end\n      end\n      else begin\n        if (is_critical(test)) then begin\n          script_overrides;\n          display_msg(message_str(872, 113));\n          set_local_var(1, 1);\n          call set_off_trap;\n        end\n        else begin\n          script_overrides;\n          display_msg(message_str(872, 114));\n        end\n      end\n    end\n    else begin\n      script_overrides;\n      test := roll_vs_skill(dude_obj, 11, 0);\n      if (is_success(test)) then begin\n        display_msg(message_str(872, 115));\n        set_local_var(1, 1);\n      end\n      else begin\n        if (is_critical(test)) then begin\n          display_msg(message_str(872, 116));\n          set_local_var(1, 1);\n          call set_off_trap;\n        end\n        else begin\n          display_msg(message_str(872, 117));\n        end\n      end\n    end\n  end\nend\n","set_off_trap":"explosion(tile_num(self_obj), elevation(self_obj), random(6, 36));\nset_local_var(0, 1);\nset_local_var(1, 1);\nobj_unlock(self_obj);\nobj_open(self_obj);\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>