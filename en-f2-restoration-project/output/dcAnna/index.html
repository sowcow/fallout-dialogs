<!DOCTYPE html><html><head><title>dcAnna</title><meta charset="utf-8" /></head><body><svg width="2139pt" height="941pt"
 viewBox="0.00 0.00 2138.72 940.79" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 936.79)">
<title>dcAnna</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-936.79 2134.72,-936.79 2134.72,4 -4,4"/>
<!-- checkPartyMembersNearDoor -->
<g id="node1" class="node">
<title>checkPartyMembersNearDoor</title>
<ellipse fill="#ffffff" stroke="#000000" cx="722.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- start -->
<g id="node2" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="794.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node3" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="866.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node4" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="938.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node5" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1010.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- Node008 -->
<g id="node6" class="node">
<title>Node008</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1176.27" cy="-829.73" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;Node008 -->
<g id="edge1" class="edge">
<title>talk_p_proc&#45;&gt;Node008</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1034.24,-906.14C1061.09,-897.07 1105.39,-880.52 1140.27,-859.79 1144.31,-857.39 1148.38,-854.57 1152.26,-851.64"/>
<polygon fill="#555555" stroke="#555555" points="1154.22,-853.76 1159.86,-844.78 1149.86,-848.28 1154.22,-853.76"/>
</g>
<!-- Node006 -->
<g id="node7" class="node">
<title>Node006</title>
<ellipse fill="#ffffff" stroke="#000000" cx="340.27" cy="-389.13" rx="114.73" ry="30.05"/>
<text text-anchor="middle" x="340.27" y="-393.08" font-family="Times,serif" font-size="14.00">My locket! Give it to</text>
<text text-anchor="middle" x="340.27" y="-375.83" font-family="Times,serif" font-size="14.00">me!!! Oh!!!!</text>
</g>
<!-- talk_p_proc&#45;&gt;Node006 -->
<g id="edge2" class="edge">
<title>talk_p_proc&#45;&gt;Node006</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M989.78,-902.71C984.82,-900.42 979.45,-898.27 974.27,-896.79 912.85,-879.25 403.27,-894.6 403.27,-830.73 403.27,-830.73 403.27,-830.73 403.27,-548.18 403.27,-504.82 382.55,-459.21 364.87,-428.19"/>
<polygon fill="#555555" stroke="#555555" points="367.59,-426.91 359.51,-420.06 361.55,-430.45 367.59,-426.91"/>
</g>
<!-- Node001 -->
<g id="node8" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1010.27" cy="-829.73" rx="121.09" ry="30.05"/>
<text text-anchor="middle" x="1010.27" y="-833.68" font-family="Times,serif" font-size="14.00">Oh, the pain! It burns</text>
<text text-anchor="middle" x="1010.27" y="-816.43" font-family="Times,serif" font-size="14.00">so!</text>
</g>
<!-- talk_p_proc&#45;&gt;Node001 -->
<g id="edge3" class="edge">
<title>talk_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1010.27,-896.58C1010.27,-889.08 1010.27,-879.95 1010.27,-870.9"/>
<polygon fill="#555555" stroke="#555555" points="1013.77,-871.02 1010.27,-861.02 1006.77,-871.02 1013.77,-871.02"/>
</g>
<!-- Node999 -->
<g id="node20" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="465.27" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge19" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#120099" d="M424.82,-368.54C462.46,-359 499.63,-348.11 505.27,-341.08 545.25,-291.25 551.01,-110 520.27,-54 515.31,-44.97 506.92,-37.93 498.16,-32.61"/>
<polygon fill="#120099" stroke="#120099" points="500.13,-29.16 489.67,-27.51 496.82,-35.33 500.13,-29.16"/>
<text text-anchor="middle" x="613.77" y="-210.11" font-family="Times,serif" font-size="14.00" fill="#120099">No way! Go to hell. I</text>
<text text-anchor="middle" x="613.77" y="-192.86" font-family="Times,serif" font-size="14.00" fill="#120099">found this fair and</text>
<text text-anchor="middle" x="613.77" y="-175.61" font-family="Times,serif" font-size="14.00" fill="#120099">square.</text>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge23" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#999200" d="M231.74,-379.1C165.41,-371.84 88.12,-359.72 60.27,-341.08 -27.22,-282.53 -1.46,-207.7 27.52,-106.5 35.09,-80.06 36.82,-68.37 60.27,-54 91.13,-35.09 332.64,-24.01 427.34,-20.36"/>
<polygon fill="#999200" stroke="#999200" points="427.28,-23.82 437.14,-19.95 427.02,-16.83 427.28,-23.82"/>
<text text-anchor="middle" x="40.64" y="-192.86" font-family="Times,serif" font-size="14.00" fill="#999200">No.</text>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge24" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#650099" d="M232.1,-378.83C175.22,-367.41 111.55,-342.5 83.27,-288.58 45.67,-216.92 54.37,-182.09 83.27,-106.5 94.45,-77.25 102.38,-68.25 130.27,-54 181.39,-27.88 351.15,-21.24 427.5,-19.56"/>
<polygon fill="#650099" stroke="#650099" points="427.13,-23.05 437.06,-19.35 426.99,-16.05 427.13,-23.05"/>
<text text-anchor="middle" x="146.27" y="-192.86" font-family="Times,serif" font-size="14.00" fill="#650099">GHOST BUSTER!</text>
</g>
<!-- Node007 -->
<g id="node22" class="node">
<title>Node007</title>
<ellipse fill="#ffffff" stroke="#000000" cx="358.27" cy="-197.54" rx="139.65" ry="91.04"/>
<text text-anchor="middle" x="358.27" y="-244.61" font-family="Times,serif" font-size="14.00">My locket, my locket! I’m</text>
<text text-anchor="middle" x="358.27" y="-227.36" font-family="Times,serif" font-size="14.00">coming, Daddy! I’m</text>
<text text-anchor="middle" x="358.27" y="-210.11" font-family="Times,serif" font-size="14.00">coming!</text>
<text text-anchor="middle" x="358.27" y="-192.86" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="358.27" y="-175.61" font-family="Times,serif" font-size="14.00">You see a ghost!</text>
<text text-anchor="middle" x="358.27" y="-158.36" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="358.27" y="-141.11" font-family="Times,serif" font-size="14.00">You see Anna the ghost.</text>
</g>
<!-- Node006&#45;&gt;Node007 -->
<g id="edge20" class="edge">
<title>Node006&#45;&gt;Node007</title>
<path fill="none" stroke="#1a9900" d="M364.38,-359.49C368.03,-353.72 371.25,-347.45 373.27,-341.08 377.51,-327.65 379.14,-313.2 379.11,-298.83"/>
<polygon fill="#1a9900" stroke="#1a9900" points="382.58,-298.76 378.78,-288.87 375.58,-298.98 382.58,-298.76"/>
<text text-anchor="middle" x="440.39" y="-319.15" font-family="Times,serif" font-size="14.00" fill="#1a9900">OK. Here you go.</text>
</g>
<!-- Node006&#45;&gt;Node007 -->
<g id="edge21" class="edge">
<title>Node006&#45;&gt;Node007</title>
<path fill="none" stroke="#990047" d="M239.01,-374.67C189.87,-363.35 145.81,-342.91 168.27,-306.58 177.67,-291.36 188.54,-297.1 204.27,-288.58 218.01,-281.14 232.31,-273.13 246.42,-265.08"/>
<polygon fill="#990047" stroke="#990047" points="247.73,-267.79 254.66,-259.78 244.25,-261.72 247.73,-267.79"/>
<text text-anchor="middle" x="246.27" y="-327.78" font-family="Times,serif" font-size="14.00" fill="#990047">Here. May you rest in</text>
<text text-anchor="middle" x="246.27" y="-310.53" font-family="Times,serif" font-size="14.00" fill="#990047">peace.</text>
</g>
<!-- Node006&#45;&gt;Node007 -->
<g id="edge22" class="edge">
<title>Node006&#45;&gt;Node007</title>
<path fill="none" stroke="#007499" d="M340.5,-358.64C340.82,-343.13 341.52,-323.8 343.02,-306.58 343.22,-304.2 343.45,-301.8 343.69,-299.38"/>
<polygon fill="#007499" stroke="#007499" points="347.25,-299.97 344.82,-289.65 340.29,-299.23 347.25,-299.97"/>
<text text-anchor="middle" x="356.39" y="-319.15" font-family="Times,serif" font-size="14.00" fill="#007499">OK.</text>
</g>
<!-- Node003 -->
<g id="node17" class="node">
<title>Node003</title>
<ellipse fill="#ffffff" stroke="#000000" cx="657.27" cy="-549.18" rx="115.79" ry="42.25"/>
<text text-anchor="middle" x="657.27" y="-561.76" font-family="Times,serif" font-size="14.00">Where is it? I cannot</text>
<text text-anchor="middle" x="657.27" y="-544.51" font-family="Times,serif" font-size="14.00">find it! I am lost!</text>
<text text-anchor="middle" x="657.27" y="-527.26" font-family="Times,serif" font-size="14.00">Oh....</text>
</g>
<!-- Node001&#45;&gt;Node003 -->
<g id="edge5" class="edge">
<title>Node001&#45;&gt;Node003</title>
<path fill="none" stroke="#991f00" d="M894.51,-820.56C790.56,-810.53 649.11,-789.26 614.27,-746.43 580.6,-705.05 602.51,-643.08 625.6,-599.88"/>
<polygon fill="#991f00" stroke="#991f00" points="629.06,-601.86 630.84,-591.42 622.93,-598.47 629.06,-601.86"/>
<text text-anchor="middle" x="683.27" y="-699.51" font-family="Times,serif" font-size="14.00" fill="#991f00">What’s the matter?</text>
</g>
<!-- Node002 -->
<g id="node18" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="900.27" cy="-704.18" rx="138.59" ry="42.25"/>
<text text-anchor="middle" x="900.27" y="-716.76" font-family="Times,serif" font-size="14.00">I stop and knock at every</text>
<text text-anchor="middle" x="900.27" y="-699.51" font-family="Times,serif" font-size="14.00">door, but no one comes,</text>
<text text-anchor="middle" x="900.27" y="-682.26" font-family="Times,serif" font-size="14.00">no one hears.</text>
</g>
<!-- Node001&#45;&gt;Node002 -->
<g id="edge6" class="edge">
<title>Node001&#45;&gt;Node002</title>
<path fill="none" stroke="#000d99" d="M975.96,-800.69C969.26,-794.68 962.47,-788.17 956.52,-781.68 948.83,-773.31 941.2,-763.9 934.16,-754.61"/>
<polygon fill="#000d99" stroke="#000d99" points="936.37,-752.73 927.6,-746.79 930.75,-756.9 936.37,-752.73"/>
<text text-anchor="middle" x="1005.64" y="-768.38" font-family="Times,serif" font-size="14.00" fill="#000d99">Who are you?</text>
</g>
<!-- Node005 -->
<g id="node19" class="node">
<title>Node005</title>
<ellipse fill="#ffffff" stroke="#000000" cx="785.27" cy="-197.54" rx="82.77" ry="18"/>
<text text-anchor="middle" x="785.27" y="-192.86" font-family="Times,serif" font-size="14.00">Oh, cruel fate.</text>
</g>
<!-- Node001&#45;&gt;Node005 -->
<g id="edge7" class="edge">
<title>Node001&#45;&gt;Node005</title>
<path fill="none" stroke="#3a9900" d="M1041.84,-800.37C1046.46,-794.66 1050.56,-788.35 1053.27,-781.68 1082.07,-710.72 1084.83,-510.37 1062.27,-437.18 1041.57,-370.06 1024.8,-354.31 973.27,-306.58 931.38,-267.79 873.15,-237.04 832.64,-218.42"/>
<polygon fill="#3a9900" stroke="#3a9900" points="834.29,-214.88 823.74,-213.95 831.41,-221.26 834.29,-214.88"/>
<text text-anchor="middle" x="1147.27" y="-544.51" font-family="Times,serif" font-size="14.00" fill="#3a9900">Begone, foul spirit!</text>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge8" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#990067" d="M1080.21,-804.81C1145.61,-780.25 1233.27,-740.7 1233.27,-705.18 1233.27,-705.18 1233.27,-705.18 1233.27,-196.54 1233.27,-85.2 1132.46,-90.47 1027.27,-54 930.14,-20.33 613.31,-18.36 503.31,-18.73"/>
<polygon fill="#990067" stroke="#990067" points="503.41,-15.23 493.42,-18.78 503.44,-22.23 503.41,-15.23"/>
<text text-anchor="middle" x="1296.27" y="-458.38" font-family="Times,serif" font-size="14.00" fill="#990067">GHOST BUSTER!</text>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge9" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#009399" d="M1097.48,-808.62C1207.44,-782.03 1382.27,-735.04 1382.27,-705.18 1382.27,-705.18 1382.27,-705.18 1382.27,-196.54 1382.27,-124.42 1311.71,-138.88 1247.27,-106.5 1185.28,-75.35 1168.27,-67.72 1100.27,-54 984.93,-30.74 621.52,-21.95 503.03,-19.66"/>
<polygon fill="#009399" stroke="#009399" points="503.41,-16.15 493.34,-19.46 503.28,-23.15 503.41,-16.15"/>
<text text-anchor="middle" x="1395.02" y="-458.38" font-family="Times,serif" font-size="14.00" fill="#009399">Ug.</text>
</g>
<!-- destroy_p_proc -->
<g id="node9" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1248.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node10" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1386.27" cy="-914.79" rx="93.3" ry="18"/>
<text text-anchor="middle" x="1386.27" y="-910.11" font-family="Times,serif" font-size="14.00">You see a ghost!</text>
</g>
<!-- description_p_proc -->
<g id="node11" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1591.27" cy="-914.79" rx="93.3" ry="18"/>
<text text-anchor="middle" x="1591.27" y="-910.11" font-family="Times,serif" font-size="14.00">You see a ghost!</text>
</g>
<!-- use_skill_on_p_proc -->
<g id="node12" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1729.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- damage_p_proc -->
<g id="node13" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1801.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- Node998 -->
<g id="node14" class="node">
<title>Node998</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1801.27" cy="-829.73" rx="27" ry="18"/>
</g>
<!-- damage_p_proc&#45;&gt;Node998 -->
<g id="edge4" class="edge">
<title>damage_p_proc&#45;&gt;Node998</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1801.27,-896.58C1801.27,-885.74 1801.27,-871.48 1801.27,-859.01"/>
<polygon fill="#555555" stroke="#555555" points="1804.77,-859.21 1801.27,-849.21 1797.77,-859.21 1804.77,-859.21"/>
</g>
<!-- map_enter_p_proc -->
<g id="node15" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1873.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- map_update_p_proc -->
<g id="node16" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2024.27" cy="-914.79" rx="106.45" ry="18"/>
<text text-anchor="middle" x="2024.27" y="-910.11" font-family="Times,serif" font-size="14.00">This house is clear.</text>
</g>
<!-- Node003&#45;&gt;Node005 -->
<g id="edge13" class="edge">
<title>Node003&#45;&gt;Node005</title>
<path fill="none" stroke="#990014" d="M593.69,-513.42C535.88,-477.05 464.72,-417.25 501.02,-359.08 508.04,-347.82 595.73,-310.93 608.27,-306.58 643.92,-294.19 657.94,-306.3 691.27,-288.58 721.12,-272.71 748.19,-244.63 765.53,-224.04"/>
<polygon fill="#990014" stroke="#990014" points="768.71,-226.68 772.34,-216.73 763.3,-222.24 768.71,-226.68"/>
<text text-anchor="middle" x="596.89" y="-401.71" font-family="Times,serif" font-size="14.00" fill="#990014">You really need to stop</text>
<text text-anchor="middle" x="596.89" y="-384.46" font-family="Times,serif" font-size="14.00" fill="#990014">moaning and groaning and</text>
<text text-anchor="middle" x="596.89" y="-367.21" font-family="Times,serif" font-size="14.00" fill="#990014">start making sense.</text>
</g>
<!-- Node004 -->
<g id="node21" class="node">
<title>Node004</title>
<ellipse fill="#ffffff" stroke="#000000" cx="819.27" cy="-389.13" rx="118.44" ry="30.05"/>
<text text-anchor="middle" x="819.27" y="-393.08" font-family="Times,serif" font-size="14.00">My locket! It is gone.</text>
<text text-anchor="middle" x="819.27" y="-375.83" font-family="Times,serif" font-size="14.00">Thief! Thief!</text>
</g>
<!-- Node003&#45;&gt;Node004 -->
<g id="edge12" class="edge">
<title>Node003&#45;&gt;Node004</title>
<path fill="none" stroke="#009919" d="M658.54,-506.5C661.33,-483.5 668.41,-455.89 685.52,-437.18 694.63,-427.22 705.97,-419.37 718.18,-413.18"/>
<polygon fill="#009919" stroke="#009919" points="719.53,-415.95 727.12,-408.56 716.58,-409.6 719.53,-415.95"/>
<text text-anchor="middle" x="778.14" y="-467.01" font-family="Times,serif" font-size="14.00" fill="#009919">What are you looking for?</text>
<text text-anchor="middle" x="778.14" y="-449.76" font-family="Times,serif" font-size="14.00" fill="#009919">Maybe I can help.</text>
</g>
<!-- Node002&#45;&gt;Node003 -->
<g id="edge10" class="edge">
<title>Node002&#45;&gt;Node003</title>
<path fill="none" stroke="#997200" d="M796.06,-675.93C762.74,-665.83 730.99,-654.32 717.52,-643.93 702.66,-632.48 690.41,-616.25 680.93,-600.51"/>
<polygon fill="#997200" stroke="#997200" points="683.68,-599.27 675.67,-592.34 677.61,-602.76 683.68,-599.27"/>
<text text-anchor="middle" x="798.14" y="-630.63" font-family="Times,serif" font-size="14.00" fill="#997200">I can hear you. What’s</text>
<text text-anchor="middle" x="798.14" y="-613.38" font-family="Times,serif" font-size="14.00" fill="#997200">the matter?</text>
</g>
<!-- Node002&#45;&gt;Node005 -->
<g id="edge11" class="edge">
<title>Node002&#45;&gt;Node005</title>
<path fill="none" stroke="#450099" d="M893.18,-661.69C882.93,-596.01 867.76,-471.98 892.77,-437.18 907.41,-416.81 930.98,-439.08 946.27,-419.18 976.79,-379.46 975.15,-350.62 951.27,-306.58 927.64,-263.02 878.01,-234.26 839.13,-217.45"/>
<polygon fill="#450099" stroke="#450099" points="840.57,-213.84 830,-213.22 837.88,-220.3 840.57,-213.84"/>
<text text-anchor="middle" x="978.02" y="-475.63" font-family="Times,serif" font-size="14.00" fill="#450099">I think you need to turn</text>
<text text-anchor="middle" x="978.02" y="-458.38" font-family="Times,serif" font-size="14.00" fill="#450099">off your Stealth Boy,</text>
<text text-anchor="middle" x="978.02" y="-441.13" font-family="Times,serif" font-size="14.00" fill="#450099">ma&#39;am.</text>
</g>
<!-- Node005&#45;&gt;Node999 -->
<g id="edge16" class="edge">
<title>Node005&#45;&gt;Node999</title>
<path fill="none" stroke="#980099" d="M771.76,-179.38C754.23,-158.45 721.57,-123.72 685.27,-106.5 637.73,-83.96 612.63,-116.79 568.27,-88.5 552.73,-78.59 559.39,-65.84 545.27,-54 532.15,-43 515.03,-34.9 500,-29.27"/>
<polygon fill="#980099" stroke="#980099" points="501.6,-25.77 491,-25.77 499.28,-32.38 501.6,-25.77"/>
<text text-anchor="middle" x="649.27" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#980099">You can’t hear me, can</text>
<text text-anchor="middle" x="649.27" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#980099">you?</text>
</g>
<!-- Node005&#45;&gt;Node999 -->
<g id="edge17" class="edge">
<title>Node005&#45;&gt;Node999</title>
<path fill="none" stroke="#00996b" d="M780.92,-179.11C771.97,-144.71 750.64,-70.04 730.27,-54 695.87,-26.92 568.23,-20.75 503.48,-19.37"/>
<polygon fill="#00996b" stroke="#00996b" points="503.59,-15.85 493.53,-19.17 503.46,-22.85 503.59,-15.85"/>
<text text-anchor="middle" x="810.89" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#00996b">Later, ghost girl.</text>
</g>
<!-- Node005&#45;&gt;Node999 -->
<g id="edge18" class="edge">
<title>Node005&#45;&gt;Node999</title>
<path fill="none" stroke="#993f00" d="M808.52,-179.99C845.27,-151.9 909.02,-94.05 872.27,-54 847.62,-27.14 599.95,-20.85 503.46,-19.41"/>
<polygon fill="#993f00" stroke="#993f00" points="503.51,-15.9 493.47,-19.26 503.42,-22.9 503.51,-15.9"/>
<text text-anchor="middle" x="953.64" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#993f00">Bye. I’ll try to help.</text>
</g>
<!-- Node004&#45;&gt;Node005 -->
<g id="edge14" class="edge">
<title>Node004&#45;&gt;Node005</title>
<path fill="none" stroke="#004199" d="M795.76,-359.41C792.18,-353.64 789.02,-347.41 787.02,-341.08 774.88,-302.75 777.44,-255.68 780.94,-226.38"/>
<polygon fill="#004199" stroke="#004199" points="784.5,-227.09 782.34,-216.72 777.56,-226.18 784.5,-227.09"/>
<text text-anchor="middle" x="869.39" y="-327.78" font-family="Times,serif" font-size="14.00" fill="#004199">Whoa, I just got here. I</text>
<text text-anchor="middle" x="869.39" y="-310.53" font-family="Times,serif" font-size="14.00" fill="#004199">didn’t do it.</text>
</g>
<!-- Node004&#45;&gt;Node005 -->
<g id="edge15" class="edge">
<title>Node004&#45;&gt;Node005</title>
<path fill="none" stroke="#6d9900" d="M731.09,-368.7C678.17,-356.83 620.67,-343.48 618.77,-341.08 609.24,-329.06 609.45,-318.76 618.77,-306.58 637.38,-282.26 658.38,-303.22 685.27,-288.58 716.1,-271.79 745.2,-243.68 763.97,-223.33"/>
<polygon fill="#6d9900" stroke="#6d9900" points="766.02,-226.18 770.12,-216.41 760.82,-221.49 766.02,-226.18"/>
<text text-anchor="middle" x="698.02" y="-319.15" font-family="Times,serif" font-size="14.00" fill="#6d9900">Can I help you find it?</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge25" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#009938" d="M254.52,-136.25C214.47,-112.73 177.82,-90.79 176.52,-88.5 168.94,-75.17 166.35,-65.48 176.52,-54 192.88,-35.53 352.6,-24.86 427.21,-20.85"/>
<polygon fill="#009938" stroke="#009938" points="427.2,-24.3 437,-20.28 426.83,-17.31 427.2,-24.3"/>
<text text-anchor="middle" x="210.64" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#009938">Goodbye.</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge26" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#990c00" d="M274.26,-124.46C256.72,-101.1 248.35,-75.64 266.52,-54 286.61,-30.06 375.23,-22.49 427.1,-20.1"/>
<polygon fill="#990c00" stroke="#990c00" points="427.04,-23.56 436.88,-19.65 426.75,-16.57 427.04,-23.56"/>
<text text-anchor="middle" x="321.64" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#990c00">Wait! Don’t go!</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge27" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#002199" d="M371.91,-106.75C377.88,-87.91 386.45,-69.18 398.77,-54 407.1,-43.73 419.25,-36.11 430.89,-30.65"/>
<polygon fill="#002199" stroke="#002199" points="432.06,-33.53 439.89,-26.39 429.32,-27.09 432.06,-33.53"/>
<text text-anchor="middle" x="460.02" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#002199">Go into the light.</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge28" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#4e9900" d="M258.68,-133.44C240.95,-123.63 222.36,-114.21 204.27,-106.5 177.28,-95.01 158.46,-111.9 140.77,-88.5 131.52,-76.27 130.52,-65.41 140.77,-54 159.61,-33.01 345.49,-23.5 427.13,-20.31"/>
<polygon fill="#4e9900" stroke="#4e9900" points="427.08,-23.77 436.94,-19.9 426.81,-16.78 427.08,-23.77"/>
<text text-anchor="middle" x="154.02" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#4e9900">Ug.</text>
</g>
<!-- timed_event_p_proc -->
<g id="node23" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1176.27" cy="-914.79" rx="27" ry="18"/>
</g>
<!-- timed_event_p_proc&#45;&gt;Node008 -->
<g id="edge29" class="edge">
<title>timed_event_p_proc&#45;&gt;Node008</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1176.27,-896.58C1176.27,-885.74 1176.27,-871.48 1176.27,-859.01"/>
<polygon fill="#555555" stroke="#555555" points="1179.77,-859.21 1176.27,-849.21 1172.77,-859.21 1179.77,-859.21"/>
</g>
</g>
</svg>
<script>window.Codes = {"checkPartyMembersNearDoor":"if (party_member_obj(16777278) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777278)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777376) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777376)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777377) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777377)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777305) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777305)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777313) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777313)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777323) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777323)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777352) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777352)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777378) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777378)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777368) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777368)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777379) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777379)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777380) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777380)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777295) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777295)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777381) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777381)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777407) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777407)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777411) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777411)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777412) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777412)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777413) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777413)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777481) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777481)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777558) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777558)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777600) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777600)) <= 5) then begin\n    return 1;\n  end\nend\nreturn 0;\n","start":"[]","critter_p_proc":"if (has_trait(1, self_obj, 666)) then begin\n  if (obj_can_see_obj(self_obj, dude_obj)) then begin\n    if ((local_var(4) bwand 2) != 0) then begin\n      if (critter_is_fleeing(self_obj)) then begin\n        if (anim_busy(self_obj) == 0) then begin\n          if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin\n            if (anim_busy(self_obj) == 0) then begin\n              global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));\n              animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n              global_temp := (global_temp + 1) % 6;\n              while((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin\n                debug_msg(\"flee loop: rot == \" + global_temp);\n                animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n                global_temp := (global_temp + 1) % 6;\n              end\n            end\n          end\n        end\n      end\n      else begin\n        attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n      end\n    end\n  end\nend\n","pickup_p_proc":"script_overrides;\n","talk_p_proc":"script_overrides;\nif (obj_is_carrying_obj_pid(self_obj, 252) > 0) then begin\n  call Node008;\nend\nelse begin\n  start_gdialog(49, self_obj, 4, -1, -1);\n  gsay_start;\n  if (obj_is_carrying_obj_pid(dude_obj, 252)) then begin\n    call Node006;\n  end\n  else begin\n    call Node001;\n  end\n  gsay_end;\n  end_dialogue;\n  set_local_var(4, local_var(4) bwor 1);\nend\nmetarule3(100, self_obj, 1, 0);\nadd_timer_event(self_obj, game_ticks(random(5, 15)), 1);\nset_global_var(447, global_var(447) bwor 2);\n","destroy_p_proc":"set_global_var(445, global_var(445) bwor 32);\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(49, 100 + ((local_var(4) bwand 1) != 0)));\n","description_p_proc":"script_overrides;\ndisplay_msg(message_str(49, 100 + ((local_var(4) bwand 1) != 0)));\n","use_skill_on_p_proc":"[]","damage_p_proc":"if (source_obj == dude_obj) then begin\n  call Node998;\nend\n","map_enter_p_proc":"if (metarule(22, 0) == 0) then begin\n  if (metarule(14, 0)) then begin\n    critter_add_trait(self_obj, 1, 6, 9);\n    critter_add_trait(self_obj, 1, 5, 24);\n  end\n  metarule3(100, self_obj, 0, 0);\n  add_timer_event(self_obj, game_ticks(random(10, 30)), 0);\n  metarule3(100, self_obj, 1, 0);\n  add_timer_event(self_obj, game_ticks(random(5, 15)), 1);\nend\n","map_update_p_proc":"if ((local_var(4) bwand 512) != 0) then begin\n  debug_msg(\"DESTROYING ANNA\");\n  restock_obj := create_object_sid(251, 0, 0, -1);\n  add_mult_objs_to_inven(self_obj, restock_obj, 1);\n  drop_obj(restock_obj);\n  if (tile_in_tile_rect(27913, 27903, 29713, 29703, tile_num(dude_obj))) then begin\n    float_msg(dude_obj, message_str(49, 550), 8);\n  end\n  destroy_object(self_obj);\nend\nelse begin\n  if (obj_is_carrying_obj_pid(self_obj, 252) > 0) then begin\n    debug_msg(\"setting DESTROY_ANNA\");\n    debug_msg(\" obj_is_carrying_obj_pid(self_obj, PID_ANNA_GOLD_LOCKET) == \" + obj_is_carrying_obj_pid(self_obj, 252));\n    debug_msg(\"SETTING DESTROY ANNA\");\n    set_local_var(4, local_var(4) bwor 512);\n  end\n  else begin\n    if (game_time_hour <= 400) then begin\n      if (has_trait(1, self_obj, 666) == 0) then begin\n        set_obj_visibility(self_obj, 0);\n      end\n    end\n    else begin\n      if (has_trait(1, self_obj, 666) == 1) then begin\n        set_obj_visibility(self_obj, 1);\n      end\n    end\n  end\nend\n","Node001":"debug_msg(\"Node001\");\ngsay_reply(49, 153);\ngiq_option(4, 49, 154, Node003, 50);\ngiq_option(4, 49, 155, Node002, 50);\ngiq_option(6, 49, 156, Node005, 50);\ngiq_option(-3, 49, 560, Node999, 51);\ngiq_option(-3, 49, 561, Node999, 50);\n","Node002":"debug_msg(\"Node002\");\ngsay_reply(49, 157);\ngiq_option(4, 49, 158, Node003, 50);\ngiq_option(4, 49, 159, Node005, 50);\n","Node003":"debug_msg(\"Node003\");\ngsay_reply(49, 160);\ngiq_option(4, 49, 161, Node004, 50);\ngiq_option(4, 49, 162, Node005, 50);\n","Node004":"debug_msg(\"Node004\");\nif (global_var(551) < 1) then begin\n  set_global_var(551, 1);\nend\ngsay_reply(49, 163);\ngiq_option(4, 49, 164, Node005, 50);\ngiq_option(4, 49, 165, Node005, 50);\n","Node005":"debug_msg(\"Node005\");\ngsay_reply(49, 166);\ngiq_option(4, 49, 167, Node999, 50);\ngiq_option(4, 49, 168, Node999, 50);\ngiq_option(4, 49, 169, Node999, 50);\n","Node006":"debug_msg(\"Node006\");\ngsay_reply(49, 170);\ngiq_option(4, 49, 171, Node999, 51);\ngiq_option(4, 49, 172, Node007, 50);\ngiq_option(6, 49, 173, Node007, 50);\ngiq_option(-3, 49, 174, Node007, 50);\ngiq_option(-3, 49, 175, Node999, 51);\ngiq_option(-3, 49, 560, Node999, 51);\n","Node007":"variable LVar0 := 0;\ndebug_msg(\"Node007\");\nif ((obj_is_carrying_obj_pid(self_obj, 252) > 0) == 0) then begin\n  debug_msg(\"SETTING ANNA HELPED\");\n  removed_qty := obj_is_carrying_obj_pid(dude_obj, 252);\n  if (1 < removed_qty) then begin\n    removed_qty := 1;\n  end\n  if (removed_qty > 0) then begin\n    restock_obj := obj_carrying_pid_obj(dude_obj, 252);\n    if (obj_type(self_obj) == 1) then begin\n      restock_obj := obj_carrying_pid_obj(dude_obj, 252);\n      if (critter_inven_obj(self_obj, 0) == restock_obj) then begin\n        if (obj_item_subtype(critter_inven_obj(dude_obj, 0)) == 0) then begin\n          restock_obj := critter_inven_obj(dude_obj, 0);\n          debug_msg(\"armour pid == \" + obj_pid(restock_obj));\n          rm_obj_from_inven(dude_obj, restock_obj);\n          add_obj_to_inven(dude_obj, restock_obj);\n        end\n      end\n      else begin\n        if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin\n          metarule(43, dude_obj);\n        end\n      end\n    end\n    restock_amt := rm_mult_objs_from_inven(dude_obj, restock_obj, removed_qty);\n    destroy_object(restock_obj);\n  end\n  restock_obj := 0;\n  restock_amt := 0;\n  restock_obj := create_object_sid(252, 0, 0, -1);\n  add_mult_objs_to_inven(self_obj, restock_obj, 1);\n  set_global_var(445, global_var(445) bwor -2147483648);\n  set_global_var(0, global_var(0) + 3);\n  debug_msg(\"Player gains \" + 3 + \" Karma Points.\");\n  set_global_var(37, 0);\n  set_global_var(38, 0);\n  set_global_var(39, 0);\n  set_global_var(40, 0);\n  set_global_var(41, 0);\n  set_global_var(42, 0);\n  set_global_var(43, 0);\n  set_global_var(44, 0);\n  set_global_var(45, 0);\n  if (global_var(0) >= 1000) then begin\n    set_global_var(37, 1);\n  end\n  else begin\n    if (global_var(0) >= 750) then begin\n      set_global_var(38, 1);\n    end\n    else begin\n      if (global_var(0) >= 500) then begin\n        set_global_var(39, 1);\n      end\n      else begin\n        if (global_var(0) >= 250) then begin\n          set_global_var(40, 1);\n        end\n        else begin\n          if (global_var(0) > -250) then begin\n            set_global_var(41, 1);\n          end\n          else begin\n            if (global_var(0) > -500) then begin\n              set_global_var(42, 1);\n            end\n            else begin\n              if (global_var(0) > -750) then begin\n                set_global_var(43, 1);\n              end\n              else begin\n                if (global_var(0) > -1000) then begin\n                  set_global_var(44, 1);\n                end\n                else begin\n                  set_global_var(45, 1);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  display_msg(message_str(59, 1000));\n  give_exp_points(250);\n  display_msg(message_str(14, 100) + 250 + message_str(14, 101));\n  if (global_var(551) < 2) then begin\n    set_global_var(551, 2);\n  end\n  metarule3(100, self_obj, 0, 0);\n  add_timer_event(self_obj, game_ticks(3), 0);\nend\ngsay_reply(49, 176);\ngiq_option(4, 49, 177, Node999, 50);\ngiq_option(4, 49, 178, Node999, 50);\ngiq_option(6, 49, 179, Node999, 50);\ngiq_option(-3, 49, 561, Node999, 50);\n","Node008":"float_msg(self_obj, message_str(49, random(500, 503)), 9);\n","Node998":"set_local_var(4, local_var(4) bwor 2);\n","timed_event_p_proc":"if (fixed_param == 0) then begin\n  if (has_trait(1, self_obj, 666)) then begin\n    if (combat_is_initialized == 0) then begin\n      if (obj_is_carrying_obj_pid(self_obj, 252) > 0) then begin\n        call Node008;\n      end\n      else begin\n        if (has_trait(1, self_obj, 666)) then begin\n          float_msg(self_obj, message_str(49, random(200, 203)), 9);\n        end\n      end\n    end\n  end\n  metarule3(100, self_obj, 0, 0);\n  add_timer_event(self_obj, game_ticks(random(10, 30)), 0);\nend\nelse begin\n  if (fixed_param == 1) then begin\n    if (combat_is_initialized == 0) then begin\n      temp_room_tile := tile_num_in_direction(tile_num(self_obj), random(0, 5), random(1, 5));\n      if (tile_in_tile_rect(27913, 27903, 29713, 29703, temp_room_tile)) then begin\n        animate_move_obj_to_tile(self_obj, temp_room_tile, 0);\n      end\n    end\n    metarule3(100, self_obj, 1, 0);\n    add_timer_event(self_obj, game_ticks(random(5, 15)), 1);\n  end\nend\n","Node999":"[]"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>