<!DOCTYPE html><html><head><title>VICTOR</title><meta charset="utf-8" /></head><body><svg width="1216pt" height="736pt"
 viewBox="0.00 0.00 1216.18 736.04" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 732.04)">
<title>VICTOR</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-732.04 1212.18,-732.04 1212.18,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="421" cy="-710.04" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-612.79" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;critter_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;critter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M394.01,-707.37C320.83,-702.47 120.32,-686.46 63,-655.04 55.55,-650.95 48.92,-644.69 43.43,-638.27"/>
<polygon fill="#555555" stroke="#555555" points="45.6,-636.36 36.7,-630.61 40.07,-640.66 45.6,-636.36"/>
</g>
<!-- look_at_p_proc -->
<g id="node3" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="206" cy="-612.79" rx="133.82" ry="42.25"/>
<text text-anchor="middle" x="206" y="-625.36" font-family="Times,serif" font-size="14.00">You see Victor.</text>
<text text-anchor="middle" x="206" y="-608.11" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="206" y="-590.86" font-family="Times,serif" font-size="14.00">You see a gang member.</text>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge2" class="edge">
<title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M398.8,-699.2C373.68,-688.07 331.21,-669.26 292.51,-652.12"/>
<polygon fill="#555555" stroke="#555555" points="294.33,-648.65 283.77,-647.8 291.5,-655.05 294.33,-648.65"/>
</g>
<!-- destroy_p_proc -->
<g id="node4" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="385" cy="-612.79" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge3" class="edge">
<title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M414.73,-692.45C409.34,-678.19 401.47,-657.37 395.18,-640.73"/>
<polygon fill="#555555" stroke="#555555" points="398.13,-639.63 391.32,-631.51 391.58,-642.1 398.13,-639.63"/>
</g>
<!-- pickup_p_proc -->
<g id="node5" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="457" cy="-612.79" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;pickup_p_proc -->
<g id="edge4" class="edge">
<title>start&#45;&gt;pickup_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M427.27,-692.45C432.66,-678.19 440.53,-657.37 446.82,-640.73"/>
<polygon fill="#555555" stroke="#555555" points="450.42,-642.1 450.68,-631.51 443.87,-639.63 450.42,-642.1"/>
</g>
<!-- talk_p_proc -->
<g id="node6" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="541" cy="-612.79" rx="39.11" ry="18"/>
<text text-anchor="middle" x="541" y="-608.11" font-family="Times,serif" font-size="14.00">Zzzzz</text>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge5" class="edge">
<title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M438.71,-696.26C453.44,-685.52 474.85,-669.62 493,-655.04 500.39,-649.1 508.25,-642.48 515.42,-636.32"/>
<polygon fill="#555555" stroke="#555555" points="517.19,-638.55 522.46,-629.35 512.61,-633.26 517.19,-638.55"/>
</g>
<!-- timed_event_p_proc -->
<g id="node7" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="690" cy="-612.79" rx="92.24" ry="18"/>
<text text-anchor="middle" x="690" y="-608.11" font-family="Times,serif" font-size="14.00">Aaaaggghhh . . .</text>
</g>
<!-- start&#45;&gt;timed_event_p_proc -->
<g id="edge6" class="edge">
<title>start&#45;&gt;timed_event_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M442.07,-698.37C446.91,-696.12 452.08,-693.87 457,-692.04 514.08,-670.73 531.37,-674.81 589,-655.04 607.27,-648.77 627.01,-640.95 644.16,-633.81"/>
<polygon fill="#555555" stroke="#555555" points="645.06,-636.8 652.92,-629.7 642.34,-630.35 645.06,-636.8"/>
</g>
<!-- sleeping -->
<g id="node8" class="node">
<title>sleeping</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-503.49" rx="27" ry="18"/>
</g>
<!-- critter_p_proc&#45;&gt;sleeping -->
<g id="edge7" class="edge">
<title>critter_p_proc&#45;&gt;sleeping</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M27,-594.55C27,-577.81 27,-552.12 27,-532.45"/>
<polygon fill="#555555" stroke="#555555" points="30.5,-532.68 27,-522.68 23.5,-532.68 30.5,-532.68"/>
</g>
<!-- Victor06 -->
<g id="node10" class="node">
<title>Victor06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="398" cy="-503.49" rx="129.58" ry="30.05"/>
<text text-anchor="middle" x="398" y="-507.44" font-family="Times,serif" font-size="14.00">Hello again, my artistic</text>
<text text-anchor="middle" x="398" y="-490.19" font-family="Times,serif" font-size="14.00">friend.</text>
</g>
<!-- talk_p_proc&#45;&gt;Victor06 -->
<g id="edge8" class="edge">
<title>talk_p_proc&#45;&gt;Victor06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M524.03,-596.46C515,-588.5 503.6,-578.74 493,-570.54 478.92,-559.64 463.21,-548.38 448.68,-538.3"/>
<polygon fill="#555555" stroke="#555555" points="451.03,-534.98 440.81,-532.2 447.06,-540.75 451.03,-534.98"/>
</g>
<!-- Victor01 -->
<g id="node11" class="node">
<title>Victor01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="729" cy="-503.49" rx="142.75" ry="18"/>
<text text-anchor="middle" x="729" y="-498.81" font-family="Times,serif" font-size="14.00">New blood. Heh. Heh heh.</text>
</g>
<!-- talk_p_proc&#45;&gt;Victor01 -->
<g id="edge9" class="edge">
<title>talk_p_proc&#45;&gt;Victor01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M557.01,-596.11C565.95,-587.86 577.57,-577.95 589,-570.54 616.39,-552.77 649.31,-536.99 676.35,-525.32"/>
<polygon fill="#555555" stroke="#555555" points="677.56,-528.18 685.4,-521.05 674.82,-521.74 677.56,-528.18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node9" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="493" cy="-710.04" rx="27" ry="18"/>
</g>
<!-- Victor04 -->
<g id="node16" class="node">
<title>Victor04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="214" cy="-127.45" rx="145.49" ry="54.45"/>
<text text-anchor="middle" x="214" y="-148.65" font-family="Times,serif" font-size="14.00">Don&#39;t say that! My mother</text>
<text text-anchor="middle" x="214" y="-131.4" font-family="Times,serif" font-size="14.00">said that! I&#39;ll make you</text>
<text text-anchor="middle" x="214" y="-114.15" font-family="Times,serif" font-size="14.00">pay! I&#39;m a good boy,</text>
<text text-anchor="middle" x="214" y="-96.9" font-family="Times,serif" font-size="14.00"> right mommy?</text>
</g>
<!-- Victor06&#45;&gt;Victor04 -->
<g id="edge18" class="edge">
<title>Victor06&#45;&gt;Victor04</title>
<path fill="none" stroke="#000c99" d="M314.12,-480.31C274.96,-465.29 232,-441.04 209,-402.93 170.63,-339.36 180.82,-251.5 194.67,-192.46"/>
<polygon fill="#000c99" stroke="#000c99" points="198.3,-193.33 197.29,-182.78 191.51,-191.66 198.3,-193.33"/>
<text text-anchor="middle" x="285.5" y="-348.86" font-family="Times,serif" font-size="14.00" fill="#000c99">Victor, did I ever tell</text>
<text text-anchor="middle" x="285.5" y="-331.61" font-family="Times,serif" font-size="14.00" fill="#000c99">you that you&#39;re a real</text>
<text text-anchor="middle" x="285.5" y="-314.36" font-family="Times,serif" font-size="14.00" fill="#000c99">sicko?</text>
</g>
<!-- VictorEnd -->
<g id="node18" class="node">
<title>VictorEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="398" cy="-336.29" rx="27" ry="18"/>
</g>
<!-- Victor06&#45;&gt;VictorEnd -->
<g id="edge19" class="edge">
<title>Victor06&#45;&gt;VictorEnd</title>
<path fill="none" stroke="#399900" d="M398,-472.95C398,-442.47 398,-395.28 398,-365.35"/>
<polygon fill="#399900" stroke="#399900" points="401.5,-365.43 398,-355.43 394.5,-365.43 401.5,-365.43"/>
<text text-anchor="middle" x="422" y="-433.51" font-family="Times,serif" font-size="14.00" fill="#399900">Uh, hi.</text>
</g>
<!-- Victor02 -->
<g id="node12" class="node">
<title>Victor02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="506" cy="-127.45" rx="128.52" ry="42.25"/>
<text text-anchor="middle" x="506" y="-140.02" font-family="Times,serif" font-size="14.00">No, actually, I think</text>
<text text-anchor="middle" x="506" y="-122.77" font-family="Times,serif" font-size="14.00">I&#39;ll keep you around for</text>
<text text-anchor="middle" x="506" y="-105.52" font-family="Times,serif" font-size="14.00">a while.</text>
</g>
<!-- Victor01&#45;&gt;Victor02 -->
<g id="edge10" class="edge">
<title>Victor01&#45;&gt;Victor02</title>
<path fill="none" stroke="#990032" d="M625.07,-490.84C568.96,-478.66 504.21,-453.77 469.25,-402.93 423.28,-336.09 453.88,-238.11 480.08,-179.08"/>
<polygon fill="#990032" stroke="#990032" points="483.6,-180.79 484.56,-170.24 477.23,-177.89 483.6,-180.79"/>
<text text-anchor="middle" x="546.88" y="-340.24" font-family="Times,serif" font-size="14.00" fill="#990032">Um, yeah. Uh, I think</text>
<text text-anchor="middle" x="546.88" y="-322.99" font-family="Times,serif" font-size="14.00" fill="#990032">I&#39;ll go now.</text>
</g>
<!-- Victor03 -->
<g id="node13" class="node">
<title>Victor03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="771" cy="-336.29" rx="138.59" ry="66.64"/>
<text text-anchor="middle" x="771" y="-366.11" font-family="Times,serif" font-size="14.00">Why do you say that? I&#39;m</text>
<text text-anchor="middle" x="771" y="-348.86" font-family="Times,serif" font-size="14.00">quite happy. I&#39;m very</text>
<text text-anchor="middle" x="771" y="-331.61" font-family="Times,serif" font-size="14.00">happy because there</text>
<text text-anchor="middle" x="771" y="-314.36" font-family="Times,serif" font-size="14.00">are lots of things that</text>
<text text-anchor="middle" x="771" y="-297.11" font-family="Times,serif" font-size="14.00">bleed.</text>
</g>
<!-- Victor01&#45;&gt;Victor03 -->
<g id="edge11" class="edge">
<title>Victor01&#45;&gt;Victor03</title>
<path fill="none" stroke="#005f99" d="M733.42,-485.12C737.8,-467.86 744.84,-440.17 751.65,-413.39"/>
<polygon fill="#005f99" stroke="#005f99" points="755.27,-414.36 754.34,-403.81 748.49,-412.63 755.27,-414.36"/>
<text text-anchor="middle" x="832.38" y="-442.13" font-family="Times,serif" font-size="14.00" fill="#005f99">You&#39;re not a very happy</text>
<text text-anchor="middle" x="832.38" y="-424.88" font-family="Times,serif" font-size="14.00" fill="#005f99">person, are you?</text>
</g>
<!-- Victor07 -->
<g id="node14" class="node">
<title>Victor07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1068" cy="-336.29" rx="140.18" ry="30.05"/>
<text text-anchor="middle" x="1068" y="-340.24" font-family="Times,serif" font-size="14.00">Ha! Ha! Heh heh hee! Ho</text>
<text text-anchor="middle" x="1068" y="-322.99" font-family="Times,serif" font-size="14.00">ho ha!</text>
</g>
<!-- Victor01&#45;&gt;Victor07 -->
<g id="edge12" class="edge">
<title>Victor01&#45;&gt;Victor07</title>
<path fill="none" stroke="#8b9900" d="M818.32,-489.03C851.67,-481.86 889.15,-471.16 921,-455.43 963.08,-434.65 1004.13,-400.1 1032.1,-373.72"/>
<polygon fill="#8b9900" stroke="#8b9900" points="1034.19,-376.6 1039,-367.16 1029.35,-371.55 1034.19,-376.6"/>
<text text-anchor="middle" x="1006.75" y="-433.51" font-family="Times,serif" font-size="14.00" fill="#8b9900">Huh huh!</text>
</g>
<!-- VictorCombat -->
<g id="node15" class="node">
<title>VictorCombat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="359" cy="-18" rx="27" ry="18"/>
</g>
<!-- Victor02&#45;&gt;VictorCombat -->
<g id="edge13" class="edge">
<title>Victor02&#45;&gt;VictorCombat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M454.17,-88.57C430.87,-71.53 404.38,-52.17 385.28,-38.21"/>
<polygon fill="#555555" stroke="#555555" points="387.67,-34.89 377.54,-31.82 383.54,-40.54 387.67,-34.89"/>
</g>
<!-- Victor03&#45;&gt;Victor02 -->
<g id="edge15" class="edge">
<title>Victor03&#45;&gt;Victor02</title>
<path fill="none" stroke="#00994d" d="M700.71,-278.85C692.46,-270.31 684.71,-261.15 678.25,-251.64 664.46,-231.34 675.64,-217.93 659,-199.89 644.72,-184.41 626.4,-171.99 607.43,-162.13"/>
<polygon fill="#00994d" stroke="#00994d" points="609.3,-158.65 598.78,-157.35 606.19,-164.93 609.3,-158.65"/>
<text text-anchor="middle" x="733.38" y="-221.09" font-family="Times,serif" font-size="14.00" fill="#00994d">Um, yeah. Bye.</text>
</g>
<!-- Victor03&#45;&gt;Victor04 -->
<g id="edge14" class="edge">
<title>Victor03&#45;&gt;Victor04</title>
<path fill="none" stroke="#7a0099" d="M673.46,-288.62C655.64,-281.41 636.99,-274.69 619,-269.64 563.58,-254.09 546.08,-267.5 490.75,-251.64 427.09,-233.4 359.1,-203.3 306.45,-177.42"/>
<polygon fill="#7a0099" stroke="#7a0099" points="308.31,-173.94 297.8,-172.64 305.2,-180.21 308.31,-173.94"/>
<text text-anchor="middle" x="573.12" y="-229.72" font-family="Times,serif" font-size="14.00" fill="#7a0099">You&#39;re a real sicko, you</text>
<text text-anchor="middle" x="573.12" y="-212.47" font-family="Times,serif" font-size="14.00" fill="#7a0099">know that?</text>
</g>
<!-- Victor05 -->
<g id="node17" class="node">
<title>Victor05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="813" cy="-127.45" rx="147.61" ry="30.05"/>
<text text-anchor="middle" x="813" y="-131.4" font-family="Times,serif" font-size="14.00">Someone who understands</text>
<text text-anchor="middle" x="813" y="-114.15" font-family="Times,serif" font-size="14.00">me! At last!</text>
</g>
<!-- Victor03&#45;&gt;Victor05 -->
<g id="edge16" class="edge">
<title>Victor03&#45;&gt;Victor05</title>
<path fill="none" stroke="#992100" d="M787.08,-269.62C788.45,-263.55 789.78,-257.49 791,-251.64 796.77,-223.98 802.36,-192.62 806.46,-168.46"/>
<polygon fill="#992100" stroke="#992100" points="810.03,-169.35 808.23,-158.91 803.12,-168.19 810.03,-169.35"/>
<text text-anchor="middle" x="887.75" y="-238.34" font-family="Times,serif" font-size="14.00" fill="#992100">Ah, yes, art</text>
<text text-anchor="middle" x="887.75" y="-221.09" font-family="Times,serif" font-size="14.00" fill="#992100">appreciation. Uh, I can</text>
<text text-anchor="middle" x="887.75" y="-203.84" font-family="Times,serif" font-size="14.00" fill="#992100">understand that. I think.</text>
</g>
<!-- VictorDies -->
<g id="node19" class="node">
<title>VictorDies</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1068" cy="-127.45" rx="27" ry="18"/>
</g>
<!-- Victor07&#45;&gt;VictorDies -->
<g id="edge20" class="edge">
<title>Victor07&#45;&gt;VictorDies</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1068,-306.09C1068,-266.35 1068,-195.68 1068,-156.53"/>
<polygon fill="#555555" stroke="#555555" points="1071.5,-156.68 1068,-146.68 1064.5,-156.68 1071.5,-156.68"/>
</g>
<!-- Victor04&#45;&gt;VictorCombat -->
<g id="edge17" class="edge">
<title>Victor04&#45;&gt;VictorCombat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M278.87,-78.38C297.85,-64.31 317.54,-49.72 332.65,-38.53"/>
<polygon fill="#555555" stroke="#555555" points="334.47,-40.79 340.42,-32.03 330.3,-35.17 334.47,-40.79"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 12) then begin\n  call critter_p_proc;\nend\nelse begin\n  if (script_action == 21) then begin\n    call look_at_p_proc;\n  end\n  else begin\n    if (script_action == 18) then begin\n      call destroy_p_proc;\n    end\n    else begin\n      if (script_action == 4) then begin\n        call pickup_p_proc;\n      end\n      else begin\n        if (script_action == 11) then begin\n          call talk_p_proc;\n        end\n        else begin\n          if (script_action == 22) then begin\n            call timed_event_p_proc;\n          end\n        end\n      end\n    end\n  end\nend\n","critter_p_proc":"if (hostile) then begin\n  hostile := 0;\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nif (global_var(555) != 2) then begin\n  call sleeping;\nend\n","look_at_p_proc":"script_overrides;\nif (local_var(4)) then begin\n  display_msg(message_str(386, 100));\nend\nelse begin\n  display_msg(message_str(386, 101));\nend\n","map_enter_p_proc":"home_tile := 13907;\nsleep_tile := 13097;\nsleep_time := 2203;\nwake_time := 707;\ncritter_add_trait(self_obj, 1, 6, 14);\nif (global_var(555) == 2) then begin\n  destroy_object(self_obj);\nend\n","pickup_p_proc":"hostile := 1;\n","talk_p_proc":"if (local_var(5)) then begin\n  float_msg(self_obj, message_str(386, 116), 0);\nend\nelse begin\n  start_gdialog(386, self_obj, 4, -1, -1);\n  gsay_start;\n  if (local_var(4)) then begin\n    call Victor06;\n  end\n  else begin\n    call Victor01;\n  end\n  gsay_end;\n  end_dialogue;\nend\n","timed_event_p_proc":"if (obj_can_hear_obj(dude_obj, self_obj)) then begin\n  float_msg(self_obj, message_str(386, 102), 5);\nend\ncritter_dmg(self_obj, 250, 0);\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(160, global_var(160) + 1);\n  if ((global_var(160) % 6) == 0) then begin\n    set_global_var(155, global_var(155) + 1);\n  end\nend\n","Victor01":"set_local_var(4, 1);\ngsay_reply(386, 103);\ngiq_option(4, 386, 104, Victor02, 50);\ngiq_option(4, 386, 105, Victor03, 50);\ngiq_option(-3, 386, 106, Victor07, 50);\n","Victor02":"gsay_message(386, 107, 50);\ncall VictorCombat;\n","Victor03":"gsay_reply(386, 108);\ngiq_option(4, 386, 109, Victor04, 50);\ngiq_option(4, 386, 110, Victor02, 50);\ngiq_option(6, 386, 111, Victor05, 50);\n","Victor04":"gsay_message(386, 112, 50);\ncall VictorCombat;\n","Victor05":"gsay_message(386, 113, 50);\n","Victor06":"gsay_reply(386, 114);\ngiq_option(4, 386, 117, Victor04, 50);\ngiq_option(4, 386, 118, VictorEnd, 50);\n","Victor07":"gsay_message(386, 115, 50);\ncall VictorDies;\n","VictorEnd":"[]","VictorCombat":"hostile := 1;\n","VictorDies":"add_timer_event(self_obj, game_ticks(5), 1);\n","sleeping":"if (local_var(5) == 1) then begin\n  if (not(night_person) and (game_time_hour >= wake_time) and (game_time_hour < sleep_time) or (night_person and ((game_time_hour >= wake_time) or (game_time_hour < sleep_time)))) then begin\n    if (((game_time_hour - wake_time) < 10) and ((game_time_hour - wake_time) > 0)) then begin\n      if (tile_num(self_obj) != home_tile) then begin\n        animate_move_obj_to_tile(self_obj, home_tile, 0);\n      end\n      else begin\n        set_local_var(5, 0);\n      end\n    end\n    else begin\n      move_to(self_obj, home_tile, elevation(self_obj));\n      if (tile_num(self_obj) == home_tile) then begin\n        set_local_var(5, 0);\n      end\n    end\n  end\nend\nelse begin\n  if (night_person and (game_time_hour >= sleep_time) and (game_time_hour < wake_time) or (not(night_person) and ((game_time_hour >= sleep_time) or (game_time_hour < wake_time)))) then begin\n    if (((game_time_hour - sleep_time) < 10) and ((game_time_hour - sleep_time) > 0)) then begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        animate_move_obj_to_tile(self_obj, self_obj, 0);\n      end\n      else begin\n        set_local_var(5, 1);\n      end\n    end\n    else begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        move_to(self_obj, sleep_tile, elevation(self_obj));\n      end\n      else begin\n        set_local_var(5, 1);\n      end\n    end\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>