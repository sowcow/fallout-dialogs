<!DOCTYPE html><html><head><title>RNDCITY</title><meta charset="utf-8" /></head><body><svg width="1545pt" height="299pt"
 viewBox="0.00 0.00 1544.55 298.95" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 294.953)">
<title>RNDCITY</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-294.953 1540.55,-294.953 1540.55,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1040.55" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- City1 -->
<g id="node2" class="node"><title>City1</title>
<ellipse fill="#ffffff" stroke="#000000" cx="114.551" cy="-181.477" rx="114.603" ry="26.7407"/>
<text text-anchor="middle" x="114.551" y="-185.277" font-family="Times,serif" font-size="14.00">You have stumbled into a</text>
<text text-anchor="middle" x="114.551" y="-170.277" font-family="Times,serif" font-size="14.00">super mutant ambush!</text>
</g>
<!-- start&#45;&gt;City1 -->
<g id="edge1" class="edge"><title>start&#45;&gt;City1</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1013.29,-272.312C910.743,-273.207 538.733,-272.351 238.551,-218.953 221.745,-215.964 203.978,-211.53 187.305,-206.774"/>
<polygon fill="#555555" stroke="#555555" points="188.21,-203.393 177.63,-203.946 186.246,-210.111 188.21,-203.393"/>
</g>
<!-- City2 -->
<g id="node3" class="node"><title>City2</title>
<ellipse fill="#ffffff" stroke="#000000" cx="363.551" cy="-181.477" rx="115.931" ry="26.7407"/>
<text text-anchor="middle" x="363.551" y="-185.277" font-family="Times,serif" font-size="14.00">Looks like you&#39;ve</text>
<text text-anchor="middle" x="363.551" y="-170.277" font-family="Times,serif" font-size="14.00">stumbled into a gang war!</text>
</g>
<!-- start&#45;&gt;City2 -->
<g id="edge2" class="edge"><title>start&#45;&gt;City2</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1013.59,-271.159C933.096,-268.407 687.804,-257.237 488.551,-218.953 471.942,-215.762 454.364,-211.32 437.803,-206.632"/>
<polygon fill="#555555" stroke="#555555" points="438.763,-203.266 428.184,-203.851 436.819,-209.991 438.763,-203.266"/>
</g>
<!-- City3 -->
<g id="node4" class="node"><title>City3</title>
<ellipse fill="#ffffff" stroke="#000000" cx="586.551" cy="-181.477" rx="89.191" ry="26.7407"/>
<text text-anchor="middle" x="586.551" y="-185.277" font-family="Times,serif" font-size="14.00">A group of hostile</text>
<text text-anchor="middle" x="586.551" y="-170.277" font-family="Times,serif" font-size="14.00">raiders bursts forth!</text>
</g>
<!-- start&#45;&gt;City3 -->
<g id="edge3" class="edge"><title>start&#45;&gt;City3</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1013.82,-269.891C954.039,-264.864 805.273,-250.043 684.551,-218.953 672.205,-215.774 659.258,-211.594 646.968,-207.201"/>
<polygon fill="#555555" stroke="#555555" points="647.871,-203.804 637.277,-203.648 645.461,-210.377 647.871,-203.804"/>
</g>
<!-- City4 -->
<g id="node5" class="node"><title>City4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="811.551" cy="-181.477" rx="118.174" ry="37.4533"/>
<text text-anchor="middle" x="811.551" y="-192.777" font-family="Times,serif" font-size="14.00">A large group of rats</text>
<text text-anchor="middle" x="811.551" y="-177.777" font-family="Times,serif" font-size="14.00">comes scurrying down the</text>
<text text-anchor="middle" x="811.551" y="-162.777" font-family="Times,serif" font-size="14.00">streets!</text>
</g>
<!-- start&#45;&gt;City4 -->
<g id="edge4" class="edge"><title>start&#45;&gt;City4</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1017.76,-263.047C989.036,-251.825 938.099,-231.923 894.039,-214.707"/>
<polygon fill="#555555" stroke="#555555" points="895.051,-211.345 884.463,-210.965 892.504,-217.865 895.051,-211.345"/>
</g>
<!-- City5 -->
<g id="node6" class="node"><title>City5</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1040.55" cy="-181.477" rx="93.1765" ry="26.7407"/>
<text text-anchor="middle" x="1040.55" y="-185.277" font-family="Times,serif" font-size="14.00">A group of hostile</text>
<text text-anchor="middle" x="1040.55" y="-170.277" font-family="Times,serif" font-size="14.00">gangers bursts forth!</text>
</g>
<!-- start&#45;&gt;City5 -->
<g id="edge5" class="edge"><title>start&#45;&gt;City5</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1040.55,-254.701C1040.55,-244.465 1040.55,-231.095 1040.55,-218.645"/>
<polygon fill="#555555" stroke="#555555" points="1044.05,-218.492 1040.55,-208.492 1037.05,-218.492 1044.05,-218.492"/>
</g>
<!-- City6 -->
<g id="node7" class="node"><title>City6</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1272.55" cy="-181.477" rx="120.417" ry="26.7407"/>
<text text-anchor="middle" x="1272.55" y="-185.277" font-family="Times,serif" font-size="14.00">You are suddenly attacked</text>
<text text-anchor="middle" x="1272.55" y="-170.277" font-family="Times,serif" font-size="14.00">by rats!</text>
</g>
<!-- start&#45;&gt;City6 -->
<g id="edge6" class="edge"><title>start&#45;&gt;City6</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1061.73,-261.576C1066.57,-259.312 1071.71,-256.988 1076.55,-254.953 1116.62,-238.122 1162.11,-221.172 1199.17,-207.901"/>
<polygon fill="#555555" stroke="#555555" points="1200.65,-211.089 1208.89,-204.433 1198.3,-204.495 1200.65,-211.089"/>
</g>
<!-- hunters -->
<g id="node8" class="node"><title>hunters</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1437.55" cy="-181.477" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;hunters -->
<g id="edge7" class="edge"><title>start&#45;&gt;hunters</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1061.04,-260.855C1066,-258.573 1071.36,-256.421 1076.55,-254.953 1216.39,-215.385 1270.76,-282.316 1401.55,-218.953 1408.11,-215.773 1414.17,-210.89 1419.36,-205.721"/>
<polygon fill="#555555" stroke="#555555" points="1422.16,-207.85 1426.32,-198.106 1416.99,-203.128 1422.16,-207.85"/>
</g>
<!-- Lighting -->
<g id="node9" class="node"><title>Lighting</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1509.55" cy="-181.477" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge8" class="edge"><title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1057.17,-258.571C1060.54,-257.159 1064.08,-255.897 1067.55,-254.953 1238.5,-208.413 1304.35,-294.609 1464.55,-218.953 1472.42,-215.239 1479.52,-209.043 1485.81,-202.802"/>
<polygon fill="#555555" stroke="#555555" points="1488.34,-205.214 1492.8,-195.601 1483.32,-200.337 1488.34,-205.214"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge9" class="edge"><title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1063.84,-263.444C1070.82,-260.246 1078.35,-256.914 1085.55,-254.953 1256.5,-208.413 1322.35,-294.609 1482.55,-218.953 1488.68,-216.061 1494.34,-211.663 1499.04,-206.911"/>
<polygon fill="#555555" stroke="#555555" points="1501.7,-209.185 1505.56,-199.318 1496.39,-204.624 1501.7,-209.185"/>
</g>
<!-- stranger -->
<g id="node10" class="node"><title>stranger</title>
<ellipse fill="#ffffff" stroke="#000000" cx="866.551" cy="-90" rx="27" ry="18"/>
</g>
<!-- City1&#45;&gt;stranger -->
<g id="edge18" class="edge"><title>City1&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M178.31,-159.045C197.481,-153.33 218.701,-147.718 238.551,-144 459.864,-102.55 731.17,-93.4919 829.089,-91.5332"/>
<polygon fill="#555555" stroke="#555555" points="829.425,-95.0276 839.358,-91.3415 829.294,-88.0288 829.425,-95.0276"/>
</g>
<!-- Place_critter -->
<g id="node11" class="node"><title>Place_critter</title>
<ellipse fill="#ffffff" stroke="#000000" cx="866.551" cy="-18" rx="27" ry="18"/>
</g>
<!-- City1&#45;&gt;Place_critter -->
<g id="edge16" class="edge"><title>City1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M176.034,-158.663C193.246,-153.549 212.015,-148.334 229.551,-144 455.764,-88.0942 732.562,-39.9357 830.388,-24.3185"/>
<polygon fill="#555555" stroke="#555555" points="831.026,-27.7611 840.357,-22.7422 829.933,-20.847 831.026,-27.7611"/>
</g>
<!-- City1&#45;&gt;Place_critter -->
<g id="edge17" class="edge"><title>City1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M186.901,-160.562C206.564,-154.858 227.836,-148.872 247.551,-144 467.554,-89.629 735.402,-42.5857 830.842,-25.6778"/>
<polygon fill="#555555" stroke="#555555" points="831.602,-29.0977 840.836,-23.9046 830.379,-22.2053 831.602,-29.0977"/>
</g>
<!-- City2&#45;&gt;stranger -->
<g id="edge21" class="edge"><title>City2&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M429.589,-159.271C448.49,-153.731 469.212,-148.155 488.551,-144 612.164,-117.444 761.483,-101.033 829.531,-94.3953"/>
<polygon fill="#555555" stroke="#555555" points="830.119,-97.855 839.738,-93.4139 829.449,-90.8871 830.119,-97.855"/>
</g>
<!-- City2&#45;&gt;Place_critter -->
<g id="edge19" class="edge"><title>City2&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M426.346,-158.783C533.675,-123.361 748.66,-54.4869 832.285,-28.8914"/>
<polygon fill="#555555" stroke="#555555" points="833.498,-32.1807 842.045,-25.9202 831.459,-25.4841 833.498,-32.1807"/>
</g>
<!-- City2&#45;&gt;Place_critter -->
<g id="edge20" class="edge"><title>City2&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M432.455,-159.862C542.298,-125.575 752.728,-57.918 833.748,-30.7242"/>
<polygon fill="#555555" stroke="#555555" points="835.059,-33.9758 843.416,-27.4628 832.822,-27.3431 835.059,-33.9758"/>
</g>
<!-- City3&#45;&gt;stranger -->
<g id="edge24" class="edge"><title>City3&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M639.706,-159.888C654.178,-154.503 669.903,-148.852 684.551,-144 735.524,-127.117 795.452,-110.226 832.215,-100.194"/>
<polygon fill="#555555" stroke="#555555" points="833.209,-103.551 841.943,-97.5528 831.375,-96.7958 833.209,-103.551"/>
</g>
<!-- City3&#45;&gt;Place_critter -->
<g id="edge22" class="edge"><title>City3&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M622.624,-156.824C678.316,-123.177 783.882,-62.4488 836.035,-34.207"/>
<polygon fill="#555555" stroke="#555555" points="837.972,-37.1395 845.127,-29.3255 834.661,-30.9721 837.972,-37.1395"/>
</g>
<!-- City3&#45;&gt;Place_critter -->
<g id="edge23" class="edge"><title>City3&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M630.329,-158.024C689.039,-125.703 791.218,-66.7 839.72,-37.0379"/>
<polygon fill="#555555" stroke="#555555" points="841.728,-39.9115 848.403,-31.6834 838.054,-33.9533 841.728,-39.9115"/>
</g>
<!-- City4&#45;&gt;stranger -->
<g id="edge26" class="edge"><title>City4&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M833.605,-144.599C839.549,-134.928 845.848,-124.682 851.327,-115.767"/>
<polygon fill="#555555" stroke="#555555" points="854.438,-117.391 856.693,-107.039 848.474,-113.725 854.438,-117.391"/>
</g>
<!-- City4&#45;&gt;Place_critter -->
<g id="edge25" class="edge"><title>City4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M814.101,-143.751C816.536,-122.224 821.288,-94.8584 830.551,-72 834.75,-61.6395 841.2,-51.2454 847.487,-42.4408"/>
<polygon fill="#555555" stroke="#555555" points="850.444,-44.3306 853.63,-34.2261 844.838,-40.1384 850.444,-44.3306"/>
</g>
<!-- City5&#45;&gt;stranger -->
<g id="edge29" class="edge"><title>City5&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M996.194,-157.666C965.03,-141.641 924.169,-120.629 896.722,-106.515"/>
<polygon fill="#555555" stroke="#555555" points="898.105,-103.29 887.611,-101.83 894.904,-109.516 898.105,-103.29"/>
</g>
<!-- City5&#45;&gt;Place_critter -->
<g id="edge27" class="edge"><title>City5&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1009.12,-155.952C973.266,-124.882 916.078,-71.7635 886.072,-41.6251"/>
<polygon fill="#555555" stroke="#555555" points="888.563,-39.1666 879.059,-34.4853 883.569,-44.072 888.563,-39.1666"/>
</g>
<!-- City5&#45;&gt;Place_critter -->
<g id="edge28" class="edge"><title>City5&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1018.43,-155.246C985.967,-122.891 926.1,-67.4866 891.911,-38.2956"/>
<polygon fill="#555555" stroke="#555555" points="894.113,-35.574 884.211,-31.8058 889.601,-40.9266 894.113,-35.574"/>
</g>
<!-- City6&#45;&gt;stranger -->
<g id="edge31" class="edge"><title>City6&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1202.33,-159.611C1183.04,-154.198 1162.06,-148.601 1142.55,-144 1057.07,-123.838 955.347,-105.826 902.482,-96.9089"/>
<polygon fill="#555555" stroke="#555555" points="903.021,-93.4505 892.58,-95.2488 901.864,-100.354 903.021,-93.4505"/>
</g>
<!-- City6&#45;&gt;Place_critter -->
<g id="edge30" class="edge"><title>City6&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1215.24,-157.683C1128.57,-123.213 967.024,-58.9607 898.548,-31.7258"/>
<polygon fill="#555555" stroke="#555555" points="899.726,-28.4276 889.14,-27.9841 897.139,-34.9321 899.726,-28.4276"/>
</g>
<!-- hunters&#45;&gt;stranger -->
<g id="edge15" class="edge"><title>hunters&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1426.34,-164.8C1419.98,-157.18 1411.35,-148.676 1401.55,-144 1313.19,-101.823 1010.35,-93.1804 903.91,-91.4345"/>
<polygon fill="#555555" stroke="#555555" points="903.707,-87.9311 893.655,-91.2779 903.6,-94.9303 903.707,-87.9311"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge11" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1413.22,-173.248C1399.16,-164.893 1387.67,-151.351 1374.55,-144 1214.03,-54.0536 991.639,-28.6857 903.324,-21.645"/>
<polygon fill="#555555" stroke="#555555" points="903.469,-18.146 893.231,-20.8742 902.936,-25.1257 903.469,-18.146"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge12" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1420.19,-167.491C1412.33,-159.549 1402.95,-149.828 1392.55,-144 1226.23,-50.8052 993.495,-26.9377 903.722,-20.9517"/>
<polygon fill="#555555" stroke="#555555" points="903.697,-17.4433 893.497,-20.3069 903.257,-24.4294 903.697,-17.4433"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge13" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1432.69,-163.46C1427.22,-156.462 1419.24,-148.871 1410.55,-144 1238.66,-47.6831 995.827,-25.4163 903.732,-20.4084"/>
<polygon fill="#555555" stroke="#555555" points="903.679,-16.9014 893.515,-19.8912 903.325,-23.8924 903.679,-16.9014"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge14" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1450.15,-165.318C1446.64,-157.839 1438.02,-149.306 1428.55,-144 1251.7,-44.9033 999.751,-24.1927 903.84,-20.0166"/>
<polygon fill="#555555" stroke="#555555" points="903.855,-16.5145 893.724,-19.6134 903.577,-23.509 903.855,-16.5145"/>
</g>
<!-- stranger&#45;&gt;Place_critter -->
<g id="edge10" class="edge"><title>stranger&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M866.551,-71.6966C866.551,-63.9827 866.551,-54.7125 866.551,-46.1124"/>
<polygon fill="#555555" stroke="#555555" points="870.051,-46.1043 866.551,-36.1043 863.051,-46.1044 870.051,-46.1043"/>
</g>
<!-- add_party -->
<g id="node12" class="node"><title>add_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1112.55" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- update_party -->
<g id="node13" class="node"><title>update_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1184.55" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- remove_party -->
<g id="node14" class="node"><title>remove_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1256.55" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- Darkness -->
<g id="node15" class="node"><title>Darkness</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1328.55" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- Invasion -->
<g id="node16" class="node"><title>Invasion</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1400.55" cy="-272.953" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 15) then begin\n  if (metarule(14, 0)) then begin\n    dude_pos := random(0, 2);\n    dude_rot := random(0, 5);\n    if (dude_pos == 0) then begin\n      override_map_start(100, 100, 0, dude_rot);\n    end\n    else begin\n      if (dude_pos == 1) then begin\n        override_map_start(116, 83, 0, dude_rot);\n      end\n      else begin\n        override_map_start(92, 110, 0, dude_rot);\n      end\n    end\n  end\n  if ((global_var(32) != 1) and metarule(14, 0)) then begin\n    Dude_tile := tile_num(dude_obj);\n    Ranger_rerolls := has_trait(0, dude_obj, 47);\n    set_global_var(334, 0);\n    while(Encounter_Num == 0) do begin\n      Encounter_Num := random(1, 6) + random(1, 6) + random(1, 6);\n      if (get_critter_stat(dude_obj, 6) > 8) then begin\n        Encounter_Num := Encounter_Num + 2;\n      end\n      else begin\n        if (get_critter_stat(dude_obj, 6) > 7) then begin\n          Encounter_Num := Encounter_Num + 1;\n        end\n        else begin\n          if (get_critter_stat(dude_obj, 6) < 3) then begin\n            Encounter_Num := Encounter_Num - 1;\n          end\n        end\n      end\n      if ((global_var(123) != 3) and (global_var(158) > 2) and random(0, 1)) then begin\n        Encounter_Num := 7;\n      end\n      else begin\n        if (Encounter_Num <= 3) then begin\n          Encounter_Num := 1;\n        end\n        else begin\n          if (Encounter_Num <= 5) then begin\n            Encounter_Num := 2;\n          end\n          else begin\n            if (Encounter_Num <= 8) then begin\n              Encounter_Num := 3;\n            end\n            else begin\n              if (Encounter_Num <= 12) then begin\n                Encounter_Num := 4;\n              end\n              else begin\n                if (Encounter_Num <= 15) then begin\n                  Encounter_Num := 5;\n                end\n                else begin\n                  Encounter_Num := 6;\n                end\n              end\n            end\n          end\n        end\n      end\n      if (Ranger_rerolls) then begin\n        if ((Encounter_Num == 1) or (Encounter_Num == 2) or (Encounter_Num == 3) or (Encounter_Num == 3) or (Encounter_Num == 5) or (Encounter_Num == 7)) then begin\n          Encounter_Num := 0;\n        end\n        Ranger_rerolls := Ranger_rerolls - 1;\n      end\n    end\n    if (global_var(295)) then begin\n      Encounter_Num := global_var(295);\n      set_global_var(295, 0);\n      display_msg(\"City encounter type: \" + Encounter_Num);\n    end\n    if (Encounter_Num == 1) then begin\n      call City1;\n    end\n    else begin\n      if (Encounter_Num == 2) then begin\n        call City2;\n      end\n      else begin\n        if (Encounter_Num == 3) then begin\n          call City3;\n        end\n        else begin\n          if (Encounter_Num == 4) then begin\n            call City4;\n          end\n          else begin\n            if (Encounter_Num == 5) then begin\n              call City5;\n            end\n            else begin\n              if (Encounter_Num == 6) then begin\n                call City6;\n              end\n              else begin\n                call hunters;\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  call Lighting;\nend\nelse begin\n  if (script_action == 23) then begin\n    call Lighting;\n  end\nend\n","stranger":"if (has_trait(0, dude_obj, 46) and (global_var(601) == 0) and random(0, 1)) then begin\n  Critter_type := 16777520;\n  Critter_script := 856;\n  Critter_direction := random(0, 5);\n  Outer_ring := 7;\n  Inner_ring := 4;\n  call Place_critter;\n  Critter_direction := dude_rot + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  anim(Critter, 1000, Critter_direction);\n  Item := create_object_sid(40, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 2);\n  Item := create_object_sid(25, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := create_object_sid(21, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := item_caps_adjust(Critter, random(7, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  set_global_var(288, 23);\nend\n","Lighting":"variable LVar0 := 0;\nLVar0 := game_time_hour;\nif ((LVar0 >= 600) and (LVar0 < 700)) then begin\n  set_light_level(LVar0 - 600 + 40);\nend\nelse begin\n  if ((LVar0 >= 700) and (LVar0 < 1800)) then begin\n    set_light_level(100);\n  end\n  else begin\n    if ((LVar0 >= 1800) and (LVar0 < 1900)) then begin\n      set_light_level(100 - (LVar0 - 1800));\n    end\n    else begin\n      set_light_level(40);\n    end\n  end\nend\n","Place_critter":"variable LVar0 := 0;\nvariable LVar1 := 0;\nvariable LVar2 := 0;\nCritter := create_object_sid(Critter_type, 0, 0, Critter_script);\nLVar2 := random(Inner_ring, Outer_ring);\nLVar0 := random(0, 5);\nCritter_tile := tile_num_in_direction(Dude_tile, Critter_direction, LVar2);\nLVar1 := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nif ((tile_distance(Dude_tile, LVar1) <= Outer_ring) and (tile_distance(Dude_tile, LVar1) >= Inner_ring)) then begin\n  Critter_tile := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nend\ncritter_attempt_placement(Critter, Critter_tile, 0);\n","hunters":"Inner_ring := 8;\nOuter_ring := 5;\ngroup_angle := random(0, 5);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777349;\nCritter_script := 241;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(23, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(36, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 4 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(17, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nItem := create_object_sid(144, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777467;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(7, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777472;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(143, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(34, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 3 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(14, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 40) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777462;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(18, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(31, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\ncall stranger;\n","City1":"display_msg(message_str(244, 100));\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 8;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nTot_Critter_A := random(2, 3);\ngroup_angle := random(0, 5);\nCritter_type := 16777403;\nCritter_script := 850;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 2 * 2) - 2);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  if (random(0, 2) == 0) then begin\n    if (random(0, 1) == 1) then begin\n      Item := create_object_sid(11, 0, 0, -1);\n    end\n    else begin\n      Item := create_object_sid(12, 0, 0, -1);\n    end\n  end\n  else begin\n    Item := create_object_sid(234, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  Item := create_object_sid(40, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 1);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(5, 20) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Item := create_object_sid(35, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 1 + has_trait(0, dude_obj, 40));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nif (random(0, 2) == 0) then begin\n  Critter_direction := random(0, 5);\n  Critter_script := 854;\n  Critter_type := 16777241;\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Item := create_object_sid(12, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := item_caps_adjust(Critter, random(5, 20) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\ncall stranger;\n","City2":"variable LVar0 := 0;\ndisplay_msg(message_str(244, 101));\ngroup_angle := random(0, 5);\nif ((game_time_hour >= 1900) or (game_time_hour < 600)) then begin\n  Critter := create_object_sid(33554433, 0, 0, -1);\n  Critter_tile := tile_num_in_direction(Dude_tile, group_angle, 4);\n  critter_attempt_placement(Critter, Critter_tile, 0);\n  Critter := create_object_sid(33554433, 0, 0, -1);\n  if (group_angle == 0) then begin\n    Item := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Item := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Item := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Item := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Item := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Item := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  Critter_tile := tile_num_in_direction(Dude_tile, Item, 4);\n  critter_attempt_placement(Critter, Critter_tile, 0);\nend\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 6;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nTot_Critter_A := random(3, 6);\nTot_Critter_B := random(3, 5);\nCritter_type := 16777419;\nCritter_script := 749;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  LVar0 := random(0, 2);\n  if (LVar0 == 0) then begin\n    Item := create_object_sid(18, 0, 0, -1);\n  end\n  else begin\n    if (LVar0 == 1) then begin\n      Item := create_object_sid(21, 0, 0, -1);\n    end\n    else begin\n      Item := create_object_sid(8, 0, 0, -1);\n    end\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(5, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nvictim := Critter;\nCritter_type := 16777472;\nCritter_script := 751;\nif (group_angle == 0) then begin\n  group_angle := 3;\nend\nelse begin\n  if (group_angle == 1) then begin\n    group_angle := 4;\n  end\n  else begin\n    if (group_angle == 2) then begin\n      group_angle := 5;\n    end\n    else begin\n      if (group_angle == 3) then begin\n        group_angle := 0;\n      end\n      else begin\n        if (group_angle == 4) then begin\n          group_angle := 1;\n        end\n        else begin\n          if (group_angle == 5) then begin\n            group_angle := 2;\n          end\n        end\n      end\n    end\n  end\nend\nwhile(Tot_Critter_B) do begin\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  if (random(0, 1)) then begin\n    Item := create_object_sid(4, 0, 0, -1);\n  end\n  else begin\n    Item := create_object_sid(7, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(4, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_B := Tot_Critter_B - 1;\nend\nattack_setup(Critter, victim);\ncall stranger;\n","City3":"display_msg(message_str(244, 102));\nTot_Critter_A := random(2, 4);\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 3;\ngroup_angle := random(0, 5);\nCritter_type := 16777419;\nCritter_script := 749;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + random(0, 2 * 2) - 2;\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (Critter_direction == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (Critter_direction == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (Critter_direction == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (Critter_direction == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (Critter_direction == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (Critter_direction == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  if (random(0, 1)) then begin\n    Item := create_object_sid(8, 0, 0, -1);\n  end\n  else begin\n    Item := create_object_sid(9, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(4, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_direction := group_angle + random(0, 2 * 2) - 2;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nif (Critter_direction == 0) then begin\n  Critter_direction := 3;\nend\nelse begin\n  if (Critter_direction == 1) then begin\n    Critter_direction := 4;\n  end\n  else begin\n    if (Critter_direction == 2) then begin\n      Critter_direction := 5;\n    end\n    else begin\n      if (Critter_direction == 3) then begin\n        Critter_direction := 0;\n      end\n      else begin\n        if (Critter_direction == 4) then begin\n          Critter_direction := 1;\n        end\n        else begin\n          if (Critter_direction == 5) then begin\n            Critter_direction := 2;\n          end\n        end\n      end\n    end\n  end\nend\nanim(Critter, 1000, Critter_direction);\nItem := create_object_sid(47, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(18, 150) * (has_trait(0, dude_obj, 20) + 1));\nif (random(0, 1)) then begin\n  Item := create_object_sid(38, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  if (has_trait(0, dude_obj, 40)) then begin\n    Item := create_object_sid(38, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(6, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(31, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  if (has_trait(0, dude_obj, 40)) then begin\n    Item := create_object_sid(31, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(4, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","City4":"display_msg(message_str(244, 103));\nTot_Critter_A := random(5, 15);\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 1;\ngroup_angle := random(0, 5);\nItem := random(0, 1);\nCritter_type := 16777264;\nCritter_script := 222;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (Item) then begin\n    if (random(0, 1)) then begin\n      Critter_direction := 3;\n    end\n    else begin\n      Critter_direction := 4;\n    end\n    anim(Critter, 1000, Critter_direction);\n  end\n  else begin\n    if (random(0, 1)) then begin\n      Critter_direction := 1;\n    end\n    else begin\n      Critter_direction := 2;\n    end\n    anim(Critter, 1000, Critter_direction);\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","City5":"display_msg(message_str(244, 104));\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 6;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 2;\nTot_Critter_A := random(3, 5);\ngroup_angle := random(0, 5);\nCritter_type := 16777419;\nCritter_script := 749;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  if (random(0, 1)) then begin\n    Item := create_object_sid(8, 0, 0, -1);\n  end\n  else begin\n    Item := create_object_sid(10, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(4, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_type := 16777254;\nCritter_script := 749;\nCritter_direction := group_angle + random(0, 1 * 2) - 1;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(47, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(19, 135) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nif (random(0, 1)) then begin\n  Item := create_object_sid(38, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, has_trait(0, dude_obj, 40) + 1);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(6, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(31, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, has_trait(0, dude_obj, 40) + 1);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(4, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","City6":"display_msg(message_str(244, 105));\nTot_Critter_A := random(3, 4);\nif ((game_time_hour >= 700) and (game_time_hour < 1800)) then begin\n  Outer_ring := 4;\n  Inner_ring := 2;\nend\nelse begin\n  Outer_ring := 3;\n  Inner_ring := 2;\nend\nCritter_type := 16777264;\nCritter_script := 222;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := random(0, 5);\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","add_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nparty_elevation := elevation(dude_obj);\nif (global_var(26) == 5) then begin\n  if (Tandi_ptr == 0) then begin\n  end\n  critter_add_trait(Tandi_ptr, 1, 6, 0);\nend\n","update_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nif (elevation(dude_obj) != party_elevation) then begin\n  party_elevation := elevation(dude_obj);\n  if (global_var(118) == 2) then begin\n    if (Ian_ptr == 0) then begin\n    end\n    else begin\n      move_to(Ian_ptr, tile_num_in_direction(tile_num(dude_obj), 1, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(5)) then begin\n    if (Dog_ptr == 0) then begin\n    end\n    else begin\n      move_to(Dog_ptr, tile_num_in_direction(tile_num(dude_obj), 2, 1), elevation(dude_obj));\n    end\n  end\n  if (global_var(121) == 2) then begin\n    if (Tycho_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tycho_ptr, tile_num_in_direction(tile_num(dude_obj), 3, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(244) == 2) then begin\n    if (Katja_ptr == 0) then begin\n    end\n    else begin\n      move_to(Katja_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(26) == 5) then begin\n    if (Tandi_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tandi_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 4), elevation(dude_obj));\n    end\n  end\nend\n","remove_party":"if (global_var(118) == 2) then begin\n  set_global_var(118, 2);\nend\nif (global_var(5)) then begin\n  set_global_var(5, 1);\nend\nif (global_var(121) == 2) then begin\n  set_global_var(121, 2);\nend\nif (global_var(244) == 2) then begin\n  set_global_var(244, 2);\nend\nif (global_var(26) == 5) then begin\nend\n","Darkness":"set_light_level(40);\n","Invasion":"if (not(global_var(18) == 2)) then begin\n  if (global_var(149) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(13, 1);\n  end\n  if (global_var(150) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(14, 1);\n  end\n  if (global_var(151) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(16, 1);\n  end\n  if (global_var(152) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(15, 1);\n  end\n  if (global_var(153) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(12, 1);\n  end\n  if (global_var(154) <= 0) then begin\n    set_global_var(11, 1);\n  end\n  if (global_var(148) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(7, 1);\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>