<!DOCTYPE html><html><head><title>wtrthief</title><meta charset="utf-8" /></head><body><svg width="2271pt" height="1560pt"
 viewBox="0.00 0.00 2270.97 1559.84" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1555.84)">
<title>wtrthief</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1555.84 2266.97,-1555.84 2266.97,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="127.99" cy="-1424.21" rx="27" ry="18"/>
</g>
<!-- description_p_proc -->
<g id="node2" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="127.99" cy="-1217.33" rx="127.99" ry="42.25"/>
<text text-anchor="middle" x="127.99" y="-1229.9" font-family="Times,serif" font-size="14.00">Он, кажется, избегает</text>
<text text-anchor="middle" x="127.99" y="-1212.65" font-family="Times,serif" font-size="14.00">вашего пристального</text>
<text text-anchor="middle" x="127.99" y="-1195.4" font-family="Times,serif" font-size="14.00">взгляда.</text>
</g>
<!-- start&#45;&gt;description_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;description_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M127.99,-1405.74C127.99,-1376.21 127.99,-1315.31 127.99,-1270.92"/>
<polygon fill="#555555" stroke="#555555" points="131.49,-1271.02 127.99,-1261.02 124.49,-1271.02 131.49,-1271.02"/>
</g>
<!-- combat_p_proc -->
<g id="node3" class="node">
<title>combat_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="199.99" cy="-1424.21" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node4" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="382.99" cy="-1424.21" rx="138.02" ry="18"/>
<text text-anchor="middle" x="382.99" y="-1419.53" font-family="Times,serif" font-size="14.00">Вы заметили вора воды!</text>
</g>
<!-- destroy_p_proc -->
<g id="node5" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="684.99" cy="-1424.21" rx="146.02" ry="54.45"/>
<text text-anchor="middle" x="684.99" y="-1445.41" font-family="Times,serif" font-size="14.00">Вы получаете 500 единиц</text>
<text text-anchor="middle" x="684.99" y="-1428.16" font-family="Times,serif" font-size="14.00">опыта за то, что спасли</text>
<text text-anchor="middle" x="684.99" y="-1410.91" font-family="Times,serif" font-size="14.00">водные запасы Убежища,</text>
<text text-anchor="middle" x="684.99" y="-1393.66" font-family="Times,serif" font-size="14.00">убив вора.</text>
</g>
<!-- look_at_p_proc -->
<g id="node6" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="990.99" cy="-1424.21" rx="142.31" ry="78.84"/>
<text text-anchor="middle" x="990.99" y="-1462.66" font-family="Times,serif" font-size="14.00">Вы видите сонного</text>
<text text-anchor="middle" x="990.99" y="-1445.41" font-family="Times,serif" font-size="14.00">обитателя Убежища.</text>
<text text-anchor="middle" x="990.99" y="-1428.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="990.99" y="-1410.91" font-family="Times,serif" font-size="14.00">Вы видите обитателя</text>
<text text-anchor="middle" x="990.99" y="-1393.66" font-family="Times,serif" font-size="14.00">Убежища, который ведет</text>
<text text-anchor="middle" x="990.99" y="-1376.41" font-family="Times,serif" font-size="14.00">себя подозрительно.</text>
</g>
<!-- map_enter_p_proc -->
<g id="node7" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1177.99" cy="-1424.21" rx="27" ry="18"/>
</g>
<!-- map_update_p_proc -->
<g id="node8" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1249.99" cy="-1424.21" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node9" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1321.99" cy="-1424.21" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node10" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1522.99" cy="-1424.21" rx="155.56" ry="127.63"/>
<text text-anchor="middle" x="1522.99" y="-1497.16" font-family="Times,serif" font-size="14.00">Спасибо за помощь в этом</text>
<text text-anchor="middle" x="1522.99" y="-1479.91" font-family="Times,serif" font-size="14.00">деле. Это заметно</text>
<text text-anchor="middle" x="1522.99" y="-1462.66" font-family="Times,serif" font-size="14.00">поднимет боевой дух</text>
<text text-anchor="middle" x="1522.99" y="-1445.41" font-family="Times,serif" font-size="14.00">жителей.</text>
<text text-anchor="middle" x="1522.99" y="-1428.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1522.99" y="-1410.91" font-family="Times,serif" font-size="14.00">Вы получаете 1 000 единиц</text>
<text text-anchor="middle" x="1522.99" y="-1393.66" font-family="Times,serif" font-size="14.00">опыта за то, что успешно</text>
<text text-anchor="middle" x="1522.99" y="-1376.41" font-family="Times,serif" font-size="14.00">схватили вора.</text>
<text text-anchor="middle" x="1522.99" y="-1359.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1522.99" y="-1341.91" font-family="Times,serif" font-size="14.00">Вы ничего не нашли.</text>
</g>
<!-- WtrThief01 -->
<g id="node11" class="node">
<title>WtrThief01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1522.99" cy="-1217.33" rx="55.86" ry="42.25"/>
<text text-anchor="middle" x="1522.99" y="-1229.9" font-family="Times,serif" font-size="14.00">Привет, </text>
<text text-anchor="middle" x="1522.99" y="-1212.65" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1522.99" y="-1195.4" font-family="Times,serif" font-size="14.00">.</text>
</g>
<!-- talk_p_proc&#45;&gt;WtrThief01 -->
<g id="edge2" class="edge">
<title>talk_p_proc&#45;&gt;WtrThief01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1522.99,-1296.37C1522.99,-1287.36 1522.99,-1278.62 1522.99,-1270.45"/>
<polygon fill="#555555" stroke="#555555" points="1526.49,-1270.69 1522.99,-1260.69 1519.49,-1270.69 1526.49,-1270.69"/>
</g>
<!-- WtrThief02 -->
<g id="node13" class="node">
<title>WtrThief02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1648.99" cy="-1025.73" rx="149.2" ry="78.84"/>
<text text-anchor="middle" x="1648.99" y="-1064.18" font-family="Times,serif" font-size="14.00">Я так волновался о судьбе</text>
<text text-anchor="middle" x="1648.99" y="-1046.93" font-family="Times,serif" font-size="14.00">Убежища, что мне</text>
<text text-anchor="middle" x="1648.99" y="-1029.68" font-family="Times,serif" font-size="14.00">приснился кошмар. Я не</text>
<text text-anchor="middle" x="1648.99" y="-1012.43" font-family="Times,serif" font-size="14.00">мог заснуть и решил</text>
<text text-anchor="middle" x="1648.99" y="-995.18" font-family="Times,serif" font-size="14.00">пройтись, чтобы</text>
<text text-anchor="middle" x="1648.99" y="-977.93" font-family="Times,serif" font-size="14.00">расслабиться.</text>
</g>
<!-- WtrThief01&#45;&gt;WtrThief02 -->
<g id="edge3" class="edge">
<title>WtrThief01&#45;&gt;WtrThief02</title>
<path fill="none" stroke="#001f99" d="M1547.58,-1179.32C1560.85,-1159.36 1577.79,-1133.87 1594.01,-1109.46"/>
<polygon fill="#001f99" stroke="#001f99" points="1597.32,-1111.79 1599.94,-1101.53 1591.49,-1107.92 1597.32,-1111.79"/>
<text text-anchor="middle" x="1672.24" y="-1143.78" font-family="Times,serif" font-size="14.00" fill="#001f99">Привет. Что ты тут</text>
<text text-anchor="middle" x="1672.24" y="-1126.53" font-family="Times,serif" font-size="14.00" fill="#001f99">делаешь в такое время?</text>
</g>
<!-- WtrThiefEnd -->
<g id="node14" class="node">
<title>WtrThiefEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1577.99" cy="-344.6" rx="27" ry="18"/>
</g>
<!-- WtrThief01&#45;&gt;WtrThiefEnd -->
<g id="edge4" class="edge">
<title>WtrThief01&#45;&gt;WtrThiefEnd</title>
<path fill="none" stroke="#4c9900" d="M1499.41,-1178.7C1478.41,-1141.55 1450.99,-1082.36 1450.99,-1026.73 1450.99,-1026.73 1450.99,-1026.73 1450.99,-474.35 1450.99,-420.17 1508.7,-380.53 1546.32,-360.45"/>
<polygon fill="#4c9900" stroke="#4c9900" points="1547.57,-363.22 1554.86,-355.54 1544.37,-357 1547.57,-363.22"/>
<text text-anchor="middle" x="1477.99" y="-670.16" font-family="Times,serif" font-size="14.00" fill="#4c9900">Иииии!</text>
</g>
<!-- timed_event_p_proc -->
<g id="node12" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1723.99" cy="-1424.21" rx="27" ry="18"/>
</g>
<!-- WtrThiefBye -->
<g id="node15" class="node">
<title>WtrThiefBye</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1577.99" cy="-475.35" rx="98.56" ry="18"/>
<text text-anchor="middle" x="1577.99" y="-470.68" font-family="Times,serif" font-size="14.00">Ну, доброй ночи.</text>
</g>
<!-- WtrThief02&#45;&gt;WtrThiefBye -->
<g id="edge5" class="edge">
<title>WtrThief02&#45;&gt;WtrThiefBye</title>
<path fill="none" stroke="#990079" d="M1587.27,-953.53C1570.92,-930.44 1555.47,-903.7 1546.99,-876.39 1506.7,-746.71 1525.55,-704.95 1546.99,-570.85 1550.7,-547.62 1559.24,-522.35 1566.42,-503.79"/>
<polygon fill="#990079" stroke="#990079" points="1569.99,-505.29 1570.44,-494.7 1563.49,-502.69 1569.99,-505.29"/>
<text text-anchor="middle" x="1559.11" y="-670.16" font-family="Times,serif" font-size="14.00" fill="#990079">Ладно.</text>
</g>
<!-- WtrThief03 -->
<g id="node16" class="node">
<title>WtrThief03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1708.99" cy="-797.55" rx="152.91" ry="78.84"/>
<text text-anchor="middle" x="1708.99" y="-836" font-family="Times,serif" font-size="14.00">Да, какой&#45;то парень</text>
<text text-anchor="middle" x="1708.99" y="-818.75" font-family="Times,serif" font-size="14.00">странно себя вел</text>
<text text-anchor="middle" x="1708.99" y="-801.5" font-family="Times,serif" font-size="14.00">неподалеку от склада</text>
<text text-anchor="middle" x="1708.99" y="-784.25" font-family="Times,serif" font-size="14.00">водопайков. Он меня</text>
<text text-anchor="middle" x="1708.99" y="-767" font-family="Times,serif" font-size="14.00">напугал. Надеюсь, он меня</text>
<text text-anchor="middle" x="1708.99" y="-749.75" font-family="Times,serif" font-size="14.00">не видел.</text>
</g>
<!-- WtrThief02&#45;&gt;WtrThief03 -->
<g id="edge6" class="edge">
<title>WtrThief02&#45;&gt;WtrThief03</title>
<path fill="none" stroke="#00998d" d="M1669.55,-947.21C1674.75,-927.61 1680.37,-906.42 1685.7,-886.35"/>
<polygon fill="#00998d" stroke="#00998d" points="1689.27,-887.53 1688.45,-876.97 1682.5,-885.74 1689.27,-887.53"/>
<text text-anchor="middle" x="1776.86" y="-915.59" font-family="Times,serif" font-size="14.00" fill="#00998d">Ты здесь еще кого&#45;нибудь</text>
<text text-anchor="middle" x="1776.86" y="-898.34" font-family="Times,serif" font-size="14.00" fill="#00998d">видел?</text>
</g>
<!-- WtrThief05 -->
<g id="node17" class="node">
<title>WtrThief05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1926.99" cy="-600.9" rx="27" ry="18"/>
</g>
<!-- WtrThief02&#45;&gt;WtrThief05 -->
<g id="edge7" class="edge">
<title>WtrThief02&#45;&gt;WtrThief05</title>
<path fill="none" stroke="#996000" d="M1779.51,-987.25C1813.67,-972.97 1848.57,-953.91 1875.99,-928.89 1960.94,-851.38 1970.04,-812.26 1997.99,-700.71 2003.58,-678.4 2008.87,-669.22 1997.99,-648.96 1989.86,-633.82 1974.48,-622.73 1960.11,-615.13"/>
<polygon fill="#996000" stroke="#996000" points="1961.95,-611.65 1951.43,-610.42 1958.89,-617.94 1961.95,-611.65"/>
<text text-anchor="middle" x="2077.86" y="-827.37" font-family="Times,serif" font-size="14.00" fill="#996000">Извини, но я ищу вора,</text>
<text text-anchor="middle" x="2077.86" y="-810.12" font-family="Times,serif" font-size="14.00" fill="#996000">который крадет воду,</text>
<text text-anchor="middle" x="2077.86" y="-792.87" font-family="Times,serif" font-size="14.00" fill="#996000">поэтому мне нужно</text>
<text text-anchor="middle" x="2077.86" y="-775.62" font-family="Times,serif" font-size="14.00" fill="#996000">посмотреть, что у тебя</text>
<text text-anchor="middle" x="2077.86" y="-758.37" font-family="Times,serif" font-size="14.00" fill="#996000">здесь.</text>
</g>
<!-- WtrThiefBye&#45;&gt;WtrThiefEnd -->
<g id="edge22" class="edge">
<title>WtrThiefBye&#45;&gt;WtrThiefEnd</title>
<path fill="none" stroke="#000099" d="M1577.99,-456.99C1577.99,-435.68 1577.99,-399.26 1577.99,-373.89"/>
<polygon fill="#000099" stroke="#000099" points="1581.49,-374.1 1577.99,-364.1 1574.49,-374.1 1581.49,-374.1"/>
<text text-anchor="middle" x="1627.11" y="-393.18" font-family="Times,serif" font-size="14.00" fill="#000099">Доброй ночи.</text>
</g>
<!-- WtrThief03&#45;&gt;WtrThief05 -->
<g id="edge9" class="edge">
<title>WtrThief03&#45;&gt;WtrThief05</title>
<path fill="none" stroke="#009907" d="M1759.15,-722.69C1763.64,-715.35 1768,-707.94 1771.99,-700.71 1784.18,-678.59 1776.9,-666.07 1795.49,-648.96 1821.67,-624.86 1861.04,-612.93 1889.88,-607.13"/>
<polygon fill="#009907" stroke="#009907" points="1890.17,-610.45 1899.37,-605.2 1888.9,-603.57 1890.17,-610.45"/>
<text text-anchor="middle" x="1896.24" y="-687.41" font-family="Times,serif" font-size="14.00" fill="#009907">Прости, но, тем не менее,</text>
<text text-anchor="middle" x="1896.24" y="-670.16" font-family="Times,serif" font-size="14.00" fill="#009907">мне нужно посмотреть, что</text>
<text text-anchor="middle" x="1896.24" y="-652.91" font-family="Times,serif" font-size="14.00" fill="#009907">ты несешь.</text>
</g>
<!-- WtrThief04 -->
<g id="node18" class="node">
<title>WtrThief04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1677.99" cy="-600.9" rx="121.62" ry="30.05"/>
<text text-anchor="middle" x="1677.99" y="-604.85" font-family="Times,serif" font-size="14.00">Я его не рассмотрел,</text>
<text text-anchor="middle" x="1677.99" y="-587.6" font-family="Times,serif" font-size="14.00">сразу убежал.</text>
</g>
<!-- WtrThief03&#45;&gt;WtrThief04 -->
<g id="edge8" class="edge">
<title>WtrThief03&#45;&gt;WtrThief04</title>
<path fill="none" stroke="#330099" d="M1650.34,-724.5C1646.18,-716.8 1642.6,-708.8 1639.99,-700.71 1632.93,-678.82 1632.32,-670.64 1639.99,-648.96 1641.1,-645.79 1642.54,-642.68 1644.19,-639.67"/>
<polygon fill="#330099" stroke="#330099" points="1647.67,-641.71 1650.08,-631.39 1641.76,-637.96 1647.67,-641.71"/>
<text text-anchor="middle" x="1705.99" y="-670.16" font-family="Times,serif" font-size="14.00" fill="#330099">Как он выглядел?</text>
</g>
<!-- WtrThief08 -->
<g id="node19" class="node">
<title>WtrThief08</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1841.99" cy="-475.35" rx="147.08" ry="42.25"/>
<text text-anchor="middle" x="1841.99" y="-487.93" font-family="Times,serif" font-size="14.00">Не трогай меня! У меня</text>
<text text-anchor="middle" x="1841.99" y="-470.68" font-family="Times,serif" font-size="14.00">ничего нет. Теперь оставь</text>
<text text-anchor="middle" x="1841.99" y="-453.43" font-family="Times,serif" font-size="14.00">меня в покое!</text>
</g>
<!-- WtrThief05&#45;&gt;WtrThief08 -->
<g id="edge11" class="edge">
<title>WtrThief05&#45;&gt;WtrThief08</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1916.05,-584.01C1905.97,-569.36 1890.47,-546.83 1876.25,-526.16"/>
<polygon fill="#555555" stroke="#555555" points="1878.59,-524.39 1870.04,-518.13 1872.83,-528.36 1878.59,-524.39"/>
</g>
<!-- WtrThief06 -->
<g id="node20" class="node">
<title>WtrThief06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2134.99" cy="-475.35" rx="127.99" ry="30.05"/>
<text text-anchor="middle" x="2134.99" y="-479.3" font-family="Times,serif" font-size="14.00">Конечно. Мне прятать</text>
<text text-anchor="middle" x="2134.99" y="-462.05" font-family="Times,serif" font-size="14.00">нечего.</text>
</g>
<!-- WtrThief05&#45;&gt;WtrThief06 -->
<g id="edge12" class="edge">
<title>WtrThief05&#45;&gt;WtrThief06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1946.55,-588.28C1976.7,-570.37 2035.63,-535.37 2079.6,-509.25"/>
<polygon fill="#555555" stroke="#555555" points="2081.21,-511.77 2088.02,-503.66 2077.63,-505.76 2081.21,-511.77"/>
</g>
<!-- WtrThief04&#45;&gt;WtrThiefBye -->
<g id="edge10" class="edge">
<title>WtrThief04&#45;&gt;WtrThiefBye</title>
<path fill="none" stroke="#990026" d="M1654.54,-570.94C1637.54,-549.94 1614.78,-521.81 1598.5,-501.7"/>
<polygon fill="#990026" stroke="#990026" points="1600.75,-499.92 1591.74,-494.35 1595.31,-504.32 1600.75,-499.92"/>
<text text-anchor="middle" x="1737.49" y="-539.55" font-family="Times,serif" font-size="14.00" fill="#990026">Ладно. Все равно спасибо.</text>
</g>
<!-- WtrThief08&#45;&gt;WtrThiefEnd -->
<g id="edge14" class="edge">
<title>WtrThief08&#45;&gt;WtrThiefEnd</title>
<path fill="none" stroke="#7f9900" d="M1765.84,-438.93C1751.65,-431.55 1737.15,-423.45 1723.99,-415.1 1703,-401.79 1701.82,-392.47 1679.99,-380.6 1659.07,-369.24 1633.77,-360.53 1613.6,-354.64"/>
<polygon fill="#7f9900" stroke="#7f9900" points="1614.85,-351.08 1604.28,-351.74 1612.96,-357.81 1614.85,-351.08"/>
<text text-anchor="middle" x="1780.99" y="-393.18" font-family="Times,serif" font-size="14.00" fill="#7f9900">Ладно. Извини.</text>
</g>
<!-- WtrThief09 -->
<g id="node22" class="node">
<title>WtrThief09</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1841.99" cy="-344.6" rx="27" ry="18"/>
</g>
<!-- WtrThief08&#45;&gt;WtrThief09 -->
<g id="edge15" class="edge">
<title>WtrThief08&#45;&gt;WtrThief09</title>
<path fill="none" stroke="#860099" d="M1841.99,-432.91C1841.99,-413.49 1841.99,-390.87 1841.99,-373.52"/>
<polygon fill="#860099" stroke="#860099" points="1845.49,-373.97 1841.99,-363.97 1838.49,-373.97 1845.49,-373.97"/>
<text text-anchor="middle" x="1934.99" y="-401.8" font-family="Times,serif" font-size="14.00" fill="#860099">Может, ты лучше пулю в</text>
<text text-anchor="middle" x="1934.99" y="-384.55" font-family="Times,serif" font-size="14.00" fill="#860099">голову получишь?</text>
</g>
<!-- WtrThief07 -->
<g id="node21" class="node">
<title>WtrThief07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2134.99" cy="-344.6" rx="27" ry="18"/>
</g>
<!-- WtrThief06&#45;&gt;WtrThief07 -->
<g id="edge13" class="edge">
<title>WtrThief06&#45;&gt;WtrThief07</title>
<path fill="none" stroke="#005399" d="M2134.99,-444.82C2134.99,-423.39 2134.99,-394.6 2134.99,-373.56"/>
<polygon fill="#005399" stroke="#005399" points="2138.49,-373.76 2134.99,-363.76 2131.49,-373.76 2138.49,-373.76"/>
<text text-anchor="middle" x="2189.74" y="-393.18" font-family="Times,serif" font-size="14.00" fill="#005399">[Обыскать его]</text>
</g>
<!-- WtrThief10 -->
<g id="node23" class="node">
<title>WtrThief10</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1793.99" cy="-169.25" rx="148.14" ry="42.25"/>
<text text-anchor="middle" x="1793.99" y="-181.82" font-family="Times,serif" font-size="14.00">Я украл воду. Мне очень</text>
<text text-anchor="middle" x="1793.99" y="-164.57" font-family="Times,serif" font-size="14.00">жаль. Пожалуйста, не бей</text>
<text text-anchor="middle" x="1793.99" y="-147.32" font-family="Times,serif" font-size="14.00">меня!</text>
</g>
<!-- WtrThief09&#45;&gt;WtrThief10 -->
<g id="edge16" class="edge">
<title>WtrThief09&#45;&gt;WtrThief10</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1830.79,-327.83C1823.97,-317.45 1815.7,-303.3 1810.99,-289.6 1803.65,-268.28 1799.48,-243.77 1797.11,-222.53"/>
<polygon fill="#555555" stroke="#555555" points="1800.51,-222.35 1796.02,-212.76 1793.54,-223.06 1800.51,-222.35"/>
</g>
<!-- WtrThief11 -->
<g id="node24" class="node">
<title>WtrThief11</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1966.99" cy="-259.55" rx="147.08" ry="30.05"/>
<text text-anchor="middle" x="1966.99" y="-263.5" font-family="Times,serif" font-size="14.00">Ладно, ладно. Мне</text>
<text text-anchor="middle" x="1966.99" y="-246.25" font-family="Times,serif" font-size="14.00">скрывать нечего. Смотри.</text>
</g>
<!-- WtrThief09&#45;&gt;WtrThief11 -->
<g id="edge17" class="edge">
<title>WtrThief09&#45;&gt;WtrThief11</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1860.7,-331.17C1875.22,-321.52 1896.08,-307.66 1915.48,-294.77"/>
<polygon fill="#555555" stroke="#555555" points="1917.17,-297.19 1923.56,-288.74 1913.3,-291.36 1917.17,-297.19"/>
</g>
<!-- finish_quest -->
<g id="node25" class="node">
<title>finish_quest</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1844.99" cy="-18" rx="27" ry="18"/>
</g>
<!-- WtrThief10&#45;&gt;finish_quest -->
<g id="edge18" class="edge">
<title>WtrThief10&#45;&gt;finish_quest</title>
<path fill="none" stroke="#009959" d="M1798.21,-126.54C1800.81,-109.54 1804.95,-89.94 1811.49,-73 1815.46,-62.72 1821.43,-52.24 1827.23,-43.29"/>
<polygon fill="#009959" stroke="#009959" points="1830.65,-45.49 1833.37,-35.25 1824.86,-41.56 1830.65,-45.49"/>
<text text-anchor="middle" x="1868.74" y="-94.95" font-family="Times,serif" font-size="14.00" fill="#009959">Я тебя отведу к</text>
<text text-anchor="middle" x="1868.74" y="-77.7" font-family="Times,serif" font-size="14.00" fill="#009959">дежурному.</text>
</g>
<!-- WtrThief11a -->
<g id="node26" class="node">
<title>WtrThief11a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1962.99" cy="-91" rx="27" ry="18"/>
</g>
<!-- WtrThief11&#45;&gt;WtrThief11a -->
<g id="edge19" class="edge">
<title>WtrThief11&#45;&gt;WtrThief11a</title>
<path fill="none" stroke="#992d00" d="M1966.28,-229.16C1965.54,-198.35 1964.39,-150.31 1963.66,-120.03"/>
<polygon fill="#992d00" stroke="#992d00" points="1967.14,-120.28 1963.4,-110.36 1960.14,-120.45 1967.14,-120.28"/>
<text text-anchor="middle" x="2019.74" y="-164.57" font-family="Times,serif" font-size="14.00" fill="#992d00">[Обыскать его]</text>
</g>
<!-- WtrThief11a&#45;&gt;finish_quest -->
<g id="edge20" class="edge">
<title>WtrThief11a&#45;&gt;finish_quest</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1943.5,-78.28C1924.54,-66.87 1895.51,-49.4 1873.86,-36.37"/>
<polygon fill="#555555" stroke="#555555" points="1875.87,-32.9 1865.5,-30.74 1872.26,-38.9 1875.87,-32.9"/>
</g>
<!-- WtrThiefCombat -->
<g id="node27" class="node">
<title>WtrThiefCombat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1962.99" cy="-18" rx="27" ry="18"/>
</g>
<!-- WtrThief11a&#45;&gt;WtrThiefCombat -->
<g id="edge21" class="edge">
<title>WtrThief11a&#45;&gt;WtrThiefCombat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1962.99,-72.81C1962.99,-65.05 1962.99,-55.68 1962.99,-46.95"/>
<polygon fill="#555555" stroke="#555555" points="1966.49,-47.03 1962.99,-37.03 1959.49,-47.03 1966.49,-47.03"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 3) then begin\n  call description_p_proc;\nend\n","combat_p_proc":"if (fixed_param == 4) then begin\n  if (Officer_ptr != 0) then begin\n    critter_add_trait(Officer_ptr, 1, 6, 0);\n  end\nend\n","critter_p_proc":"variable LVar0 := 0;\nif (hostile) then begin\n  hostile := 0;\n  scared := 1;\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nelse begin\n  if (game_time_hour <= 600) then begin\n    if (global_var(188) == 1) then begin\n      if (not(got_water) and (local_var(7) == 0)) then begin\n        if (not(on_the_way)) then begin\n          on_the_way := 1;\n          set_local_var(4, 22728);\n          move_to(self_obj, 16912, 2);\n          add_timer_event(self_obj, game_ticks(30), 1);\n          set_local_var(6, game_time / 10 / 60 / 60);\n        end\n      end\n    end\n    if (tile_num(self_obj) != local_var(4)) then begin\n      animate_move_obj_to_tile(self_obj, local_var(4), 0);\n    end\n  end\n  else begin\n    set_local_var(7, 0);\n    got_water := 0;\n    on_the_way := 0;\n    if (obj_is_carrying_obj_pid(self_obj, 126)) then begin\n      destroy_object(obj_carrying_pid_obj(self_obj, 126));\n    end\n  end\n  if (tile_distance_objs(self_obj, VaultBox_ptr) < 4) then begin\n    if (not(got_water)) then begin\n      if (anim_busy(self_obj) == 0) then begin\n        use_obj(VaultBox_ptr);\n        got_water := 1;\n        LVar0 := create_object_sid(126, 0, 0, -1);\n        add_obj_to_inven(self_obj, LVar0);\n        add_timer_event(self_obj, game_ticks(3), 2);\n        if (obj_can_see_obj(dude_obj, self_obj)) then begin\n          display_msg(message_str(461, 103));\n        end\n      end\n    end\n  end\n  if (local_var(7) and (tile_num(self_obj) == 16912)) then begin\n    move_to(self_obj, 7000, 0);\n    set_local_var(4, 7000);\n  end\n  if (((game_time / 10 / 60 / 60) - local_var(6)) >= 7) then begin\n    set_local_var(7, 0);\n    got_water := 0;\n    on_the_way := 0;\n    if (obj_is_carrying_obj_pid(self_obj, 126)) then begin\n      destroy_object(obj_carrying_pid_obj(self_obj, 126));\n    end\n  end\nend\n","description_p_proc":"script_overrides;\nset_local_var(5, 1);\ndisplay_msg(message_str(461, 102));\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (source_obj == dude_obj) then begin\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n      set_global_var(156, 1);\n      set_global_var(157, 0);\n    end\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n      set_global_var(157, 1);\n      set_global_var(156, 0);\n    end\n    set_global_var(160, global_var(160) + 1);\n    if ((global_var(160) % 6) == 0) then begin\n      set_global_var(155, global_var(155) + 1);\n    end\n  end\n  display_msg(message_str(461, 104));\n  give_exp_points(500);\nend\nset_global_var(188, 2);\nif (Officer_ptr != 0) then begin\n  critter_add_trait(Officer_ptr, 1, 6, 1);\nend\n","look_at_p_proc":"script_overrides;\nif (not(local_var(5))) then begin\n  set_local_var(5, is_success(do_check(self_obj, 1, has_trait(0, dude_obj, 0))));\nend\nif ((tile_distance_objs(self_obj, dude_obj) > 2) and not(local_var(5))) then begin\n  display_msg(message_str(461, 100));\nend\nelse begin\n  display_msg(message_str(461, 101));\nend\n","map_enter_p_proc":"WtrThief_ptr := self_obj;\ncritter_add_trait(self_obj, 1, 6, 87);\ncritter_add_trait(self_obj, 1, 5, 1);\nif (global_var(188) == 0) then begin\n  set_obj_visibility(self_obj, 1);\nend\nelse begin\n  set_obj_visibility(self_obj, 0);\nend\nif (local_var(4) != 7000) then begin\n  on_the_way := 1;\nend\nif (obj_is_carrying_obj_pid(self_obj, 126)) then begin\n  got_water := 1;\nend\n","map_update_p_proc":"if (global_var(188) == 0) then begin\n  set_obj_visibility(self_obj, 1);\nend\nelse begin\n  set_obj_visibility(self_obj, 0);\nend\nif ((game_time_hour > 700) and (tile_num(self_obj) != 7000)) then begin\n  move_to(self_obj, 7000, 0);\n  set_local_var(4, 7000);\nend\n","pickup_p_proc":"hostile := 1;\n","talk_p_proc":"if (scared) then begin\n  animate_move_obj_to_tile(self_obj, 16912, 1);\n  set_local_var(4, 16912);\nend\nelse begin\n  start_gdialog(461, self_obj, 4, -1, -1);\n  gsay_start;\n  set_local_var(5, 1);\n  call WtrThief01;\n  gsay_end;\n  end_dialogue;\n  if (global_var(188) == 2) then begin\n    gfade_out(600);\n    move_to(self_obj, 7000, 2);\n    if (Officer_ptr != 0) then begin\n      move_to(Officer_ptr, 22093, 2);\n      move_to(dude_obj, 22293, 2);\n      anim(dude_obj, 1000, 5);\n      anim(Officer_ptr, 1000, 2);\n      float_msg(Officer_ptr, message_str(461, 105), 0);\n    end\n    gfade_in(600);\n    display_msg(message_str(461, 106));\n    give_exp_points(1000);\n  end\n  if (searched) then begin\n    display_msg(message_str(461, 130));\n    searched := 0;\n  end\nend\n","timed_event_p_proc":"set_local_var(7, 1);\nif (fixed_param == 1) then begin\n  if (obj_can_see_obj(self_obj, dude_obj)) then begin\n    set_local_var(4, 16912);\n  end\n  else begin\n    set_local_var(4, 20706);\n  end\nend\nelse begin\n  if (fixed_param == 2) then begin\n    set_local_var(4, 16912);\n  end\nend\n","WtrThief01":"variable LVar0 := 0;\nLVar0 := message_str(461, 107);\nLVar0 := LVar0 + proto_data(obj_pid(dude_obj), 1);\nLVar0 := LVar0 + message_str(461, 108);\ngsay_reply(461, LVar0);\ngiq_option(4, 461, 109, WtrThief02, 50);\ngiq_option(-3, 461, 110, WtrThiefEnd, 50);\n","WtrThief02":"gsay_reply(461, 111);\ngiq_option(4, 461, 112, WtrThiefBye, 50);\ngiq_option(4, 461, 113, WtrThief03, 50);\nif (global_var(188) == 1) then begin\n  giq_option(4, 461, 114, WtrThief05, 50);\nend\n","WtrThief03":"gsay_reply(461, 115);\ngiq_option(4, 461, 116, WtrThief04, 50);\ngiq_option(4, 461, 117, WtrThief05, 51);\n","WtrThief04":"gsay_reply(461, 118);\ngiq_option(4, 461, 119, WtrThiefBye, 50);\n","WtrThief05":"if (got_water) then begin\n  call WtrThief08;\nend\nelse begin\n  call WtrThief06;\nend\n","WtrThief06":"gsay_reply(461, 120);\ngiq_option(4, 461, 121, WtrThief07, 50);\n","WtrThief07":"searched := 1;\n","WtrThief08":"gsay_reply(461, 122);\ngiq_option(4, 461, 123, WtrThiefEnd, 50);\ngiq_option(4, 461, 124, WtrThief09, 51);\n","WtrThief09":"if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n  call WtrThief10;\nend\nelse begin\n  call WtrThief11;\nend\n","WtrThief10":"gsay_reply(461, 125);\ngiq_option(4, 461, 126, finish_quest, 50);\n","WtrThief11":"gsay_reply(461, 127);\ngiq_option(4, 461, 121, WtrThief11a, 50);\n","WtrThief11a":"if (is_success(do_check(dude_obj, 3, 0))) then begin\n  call finish_quest;\nend\nelse begin\n  call WtrThiefCombat;\nend\n","WtrThiefCombat":"hostile := 1;\n","finish_quest":"set_global_var(188, 2);\n","WtrThiefBye":"gsay_reply(461, 128);\ngiq_option(4, 461, 129, WtrThiefEnd, 50);\n","WtrThiefEnd":"[]"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(name, code, x, y) {
    $('#thecode').show();
    $('#thecode').text("# " + name + "\n" + code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(nodeName, Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>