<!DOCTYPE html><html><head><title>setdoor</title><meta charset="utf-8" /></head><body><svg width="2093pt" height="2163pt"
 viewBox="0.00 0.00 2092.90 2163.43" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2159.43)">
<title>setdoor</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2159.43 2088.9,-2159.43 2088.9,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="819.15" cy="-2137.43" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node2" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="157.15" cy="-1394.71" rx="157.15" ry="54.45"/>
<text text-anchor="middle" x="157.15" y="-1415.91" font-family="Times,serif" font-size="14.00">Что&#45;то на этом участке</text>
<text text-anchor="middle" x="157.15" y="-1398.66" font-family="Times,serif" font-size="14.00">стены кажется странным.</text>
<text text-anchor="middle" x="157.15" y="-1381.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="157.15" y="-1364.16" font-family="Times,serif" font-size="14.00">Вы видите сплошную стену.</text>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M791.96,-2135.33C693.37,-2131.1 358.63,-2114.56 323.15,-2083.43 140,-1922.73 141.02,-1598.11 150.76,-1460.12"/>
<polygon fill="#555555" stroke="#555555" points="154.31,-1460.56 151.57,-1450.33 147.33,-1460.04 154.31,-1460.56"/>
</g>
<!-- description_p_proc -->
<g id="node3" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="466.15" cy="-1394.71" rx="133.82" ry="30.05"/>
<text text-anchor="middle" x="466.15" y="-1398.66" font-family="Times,serif" font-size="14.00">Вы видите раздвижную</text>
<text text-anchor="middle" x="466.15" y="-1381.41" font-family="Times,serif" font-size="14.00">дверь.</text>
</g>
<!-- start&#45;&gt;description_p_proc -->
<g id="edge2" class="edge">
<title>start&#45;&gt;description_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M792.61,-2133.24C741.98,-2126.62 634.4,-2109.76 609.15,-2083.43 431.54,-1898.15 449.31,-1552.7 461.26,-1435.66"/>
<polygon fill="#555555" stroke="#555555" points="464.81,-1436.38 462.39,-1426.06 457.85,-1435.63 464.81,-1436.38"/>
</g>
<!-- map_update_p_proc -->
<g id="node4" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="645.15" cy="-1394.71" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;map_update_p_proc -->
<g id="edge3" class="edge">
<title>start&#45;&gt;map_update_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M792.15,-2134.52C759.85,-2130.65 706.95,-2118.94 681.15,-2083.43 603.29,-1976.23 633.27,-1539.16 642.72,-1423.76"/>
<polygon fill="#555555" stroke="#555555" points="646.27,-1424.29 643.61,-1414.03 639.29,-1423.71 646.27,-1424.29"/>
</g>
<!-- map_enter_p_proc -->
<g id="node5" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="717.15" cy="-1394.71" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;map_enter_p_proc -->
<g id="edge4" class="edge">
<title>start&#45;&gt;map_enter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M798.17,-2125.87C782.75,-2116.88 762.87,-2102.39 753.15,-2083.43 692.89,-1965.74 709.89,-1538.08 715.63,-1423.89"/>
<polygon fill="#555555" stroke="#555555" points="719.17,-1424.14 716.19,-1413.98 712.18,-1423.78 719.17,-1424.14"/>
</g>
<!-- use_p_proc -->
<g id="node6" class="node">
<title>use_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="921.15" cy="-1394.71" rx="158.75" ry="261.81"/>
<text text-anchor="middle" x="921.15" y="-1562.53" font-family="Times,serif" font-size="14.00">Вы обнаруживаете ловушку</text>
<text text-anchor="middle" x="921.15" y="-1545.28" font-family="Times,serif" font-size="14.00">на этой двери.</text>
<text text-anchor="middle" x="921.15" y="-1528.03" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="921.15" y="-1510.78" font-family="Times,serif" font-size="14.00">обнаруживает ловушку на</text>
<text text-anchor="middle" x="921.15" y="-1493.53" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="921.15" y="-1476.28" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="921.15" y="-1459.03" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="921.15" y="-1441.78" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="921.15" y="-1424.53" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="921.15" y="-1407.28" font-family="Times,serif" font-size="14.00">Дверь заперта.</text>
<text text-anchor="middle" x="921.15" y="-1390.03" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="921.15" y="-1372.78" font-family="Times,serif" font-size="14.00">Вы обнаруживаете ловушку</text>
<text text-anchor="middle" x="921.15" y="-1355.53" font-family="Times,serif" font-size="14.00">на этой двери.</text>
<text text-anchor="middle" x="921.15" y="-1338.28" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="921.15" y="-1321.03" font-family="Times,serif" font-size="14.00">обнаруживает ловушку на</text>
<text text-anchor="middle" x="921.15" y="-1303.78" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="921.15" y="-1286.53" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="921.15" y="-1269.28" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="921.15" y="-1252.03" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="921.15" y="-1234.78" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="921.15" y="-1217.53" font-family="Times,serif" font-size="14.00">Дверь заперта.</text>
</g>
<!-- start&#45;&gt;use_p_proc -->
<g id="edge5" class="edge">
<title>start&#45;&gt;use_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M821.53,-2119.21C830.03,-2057.45 859.82,-1841.15 884.62,-1661.01"/>
<polygon fill="#555555" stroke="#555555" points="888.2,-1661.67 886.1,-1651.28 881.27,-1660.71 888.2,-1661.67"/>
</g>
<!-- use_skill_on_p_proc -->
<g id="node7" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1256.15" cy="-1394.71" rx="158.75" ry="347.19"/>
<text text-anchor="middle" x="1256.15" y="-1622.91" font-family="Times,serif" font-size="14.00">Вы обнаруживаете ловушку</text>
<text text-anchor="middle" x="1256.15" y="-1605.66" font-family="Times,serif" font-size="14.00">на этой двери.</text>
<text text-anchor="middle" x="1256.15" y="-1588.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1256.15" y="-1571.16" font-family="Times,serif" font-size="14.00">Дверь заперта.</text>
<text text-anchor="middle" x="1256.15" y="-1553.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1256.15" y="-1536.66" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="1256.15" y="-1519.41" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="1256.15" y="-1502.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1256.15" y="-1484.91" font-family="Times,serif" font-size="14.00">обнаруживает ловушку на</text>
<text text-anchor="middle" x="1256.15" y="-1467.66" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="1256.15" y="-1450.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1256.15" y="-1433.16" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="1256.15" y="-1415.91" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="1256.15" y="-1398.66" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1256.15" y="-1381.41" font-family="Times,serif" font-size="14.00">Вам удалось взломать</text>
<text text-anchor="middle" x="1256.15" y="-1364.16" font-family="Times,serif" font-size="14.00">замок.</text>
<text text-anchor="middle" x="1256.15" y="-1346.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1256.15" y="-1329.66" font-family="Times,serif" font-size="14.00">Дверь заперта.</text>
<text text-anchor="middle" x="1256.15" y="-1312.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1256.15" y="-1295.16" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="1256.15" y="-1277.91" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="1256.15" y="-1260.66" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1256.15" y="-1243.41" font-family="Times,serif" font-size="14.00">Этот замок слишком</text>
<text text-anchor="middle" x="1256.15" y="-1226.16" font-family="Times,serif" font-size="14.00">сложный. Вы пока не</text>
<text text-anchor="middle" x="1256.15" y="-1208.91" font-family="Times,serif" font-size="14.00">можете его взломать.</text>
<text text-anchor="middle" x="1256.15" y="-1191.66" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1256.15" y="-1174.41" font-family="Times,serif" font-size="14.00">Вам не удалось подобрать</text>
<text text-anchor="middle" x="1256.15" y="-1157.16" font-family="Times,serif" font-size="14.00">отмычку.</text>
</g>
<!-- start&#45;&gt;use_skill_on_p_proc -->
<g id="edge6" class="edge">
<title>start&#45;&gt;use_skill_on_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M845.93,-2134.77C907.07,-2130.43 1054.38,-2116.7 1089.15,-2083.43 1178.88,-1997.6 1223.79,-1872.37 1245.28,-1752.22"/>
<polygon fill="#555555" stroke="#555555" points="1248.84,-1753.18 1247.1,-1742.73 1241.94,-1751.98 1248.84,-1753.18"/>
</g>
<!-- use_obj_on_p_proc -->
<g id="node8" class="node">
<title>use_obj_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1591.15" cy="-1394.71" rx="158.75" ry="688.72"/>
<text text-anchor="middle" x="1591.15" y="-1864.41" font-family="Times,serif" font-size="14.00">Вы обнаруживаете ловушку</text>
<text text-anchor="middle" x="1591.15" y="-1847.16" font-family="Times,serif" font-size="14.00">на этой двери.</text>
<text text-anchor="middle" x="1591.15" y="-1829.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1812.66" font-family="Times,serif" font-size="14.00">обнаруживает ловушку на</text>
<text text-anchor="middle" x="1591.15" y="-1795.41" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="1591.15" y="-1778.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1760.91" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="1591.15" y="-1743.66" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="1591.15" y="-1726.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1709.16" font-family="Times,serif" font-size="14.00">Дверь не заперта.</text>
<text text-anchor="middle" x="1591.15" y="-1691.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1674.66" font-family="Times,serif" font-size="14.00">Вы обнаруживаете ловушку</text>
<text text-anchor="middle" x="1591.15" y="-1657.41" font-family="Times,serif" font-size="14.00">на этой двери.</text>
<text text-anchor="middle" x="1591.15" y="-1640.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1622.91" font-family="Times,serif" font-size="14.00">обнаруживает ловушку на</text>
<text text-anchor="middle" x="1591.15" y="-1605.66" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="1591.15" y="-1588.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1571.16" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="1591.15" y="-1553.91" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="1591.15" y="-1536.66" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1519.41" font-family="Times,serif" font-size="14.00">Дверь не заперта.</text>
<text text-anchor="middle" x="1591.15" y="-1502.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1484.91" font-family="Times,serif" font-size="14.00">Вам удалось взломать</text>
<text text-anchor="middle" x="1591.15" y="-1467.66" font-family="Times,serif" font-size="14.00">замок.</text>
<text text-anchor="middle" x="1591.15" y="-1450.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1433.16" font-family="Times,serif" font-size="14.00">Дверь заперта.</text>
<text text-anchor="middle" x="1591.15" y="-1415.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1398.66" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="1591.15" y="-1381.41" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="1591.15" y="-1364.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1346.91" font-family="Times,serif" font-size="14.00">Вы ломаете свои отмычки</text>
<text text-anchor="middle" x="1591.15" y="-1329.66" font-family="Times,serif" font-size="14.00">из&#45;за того, что замок</text>
<text text-anchor="middle" x="1591.15" y="-1312.41" font-family="Times,serif" font-size="14.00">очень сложный.</text>
<text text-anchor="middle" x="1591.15" y="-1295.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1277.91" font-family="Times,serif" font-size="14.00">Вам не удалось подобрать</text>
<text text-anchor="middle" x="1591.15" y="-1260.66" font-family="Times,serif" font-size="14.00">отмычку.</text>
<text text-anchor="middle" x="1591.15" y="-1243.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1226.16" font-family="Times,serif" font-size="14.00">Вы обнаруживаете ловушку</text>
<text text-anchor="middle" x="1591.15" y="-1208.91" font-family="Times,serif" font-size="14.00">на этой двери.</text>
<text text-anchor="middle" x="1591.15" y="-1191.66" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1174.41" font-family="Times,serif" font-size="14.00">обнаруживает ловушку на</text>
<text text-anchor="middle" x="1591.15" y="-1157.16" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="1591.15" y="-1139.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1122.66" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="1591.15" y="-1105.41" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="1591.15" y="-1088.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1070.91" font-family="Times,serif" font-size="14.00">Вы обнаруживаете ловушку</text>
<text text-anchor="middle" x="1591.15" y="-1053.66" font-family="Times,serif" font-size="14.00">на этой двери.</text>
<text text-anchor="middle" x="1591.15" y="-1036.41" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-1019.16" font-family="Times,serif" font-size="14.00">обнаруживает ловушку на</text>
<text text-anchor="middle" x="1591.15" y="-1001.91" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="1591.15" y="-984.66" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-967.41" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="1591.15" y="-950.16" font-family="Times,serif" font-size="14.00">двери.</text>
<text text-anchor="middle" x="1591.15" y="-932.91" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1591.15" y="-915.66" font-family="Times,serif" font-size="14.00">Это ничего не даст.</text>
</g>
<!-- start&#45;&gt;use_obj_on_p_proc -->
<g id="edge7" class="edge">
<title>start&#45;&gt;use_obj_on_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M846.36,-2135.88C958.35,-2133.39 1379.83,-2121.53 1424.15,-2083.43 1455.16,-2056.78 1480.93,-2025.44 1502.29,-1991.07"/>
<polygon fill="#555555" stroke="#555555" points="1505.73,-1993.16 1507.92,-1982.79 1499.74,-1989.53 1505.73,-1993.16"/>
</g>
<!-- damage_p_proc -->
<g id="node9" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1926.15" cy="-1394.71" rx="158.75" ry="30.05"/>
<text text-anchor="middle" x="1926.15" y="-1398.66" font-family="Times,serif" font-size="14.00">Вы активируете ловушку на</text>
<text text-anchor="middle" x="1926.15" y="-1381.41" font-family="Times,serif" font-size="14.00">двери.</text>
</g>
<!-- start&#45;&gt;damage_p_proc -->
<g id="edge8" class="edge">
<title>start&#45;&gt;damage_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M846.13,-2135.81C996.23,-2132.24 1723.12,-2113.44 1759.15,-2083.43 1958.77,-1917.18 1942.57,-1556.44 1930.88,-1435.87"/>
<polygon fill="#555555" stroke="#555555" points="1934.27,-1435.56 1929.77,-1425.96 1927.3,-1436.27 1934.27,-1435.56"/>
</g>
<!-- Locked_And_Trapped -->
<g id="node10" class="node">
<title>Locked_And_Trapped</title>
<ellipse fill="#ffffff" stroke="#000000" cx="153.15" cy="-334.99" rx="147.61" ry="334.99"/>
<text text-anchor="middle" x="153.15" y="-554.57" font-family="Times,serif" font-size="14.00">Вы замечаете ловушку с</text>
<text text-anchor="middle" x="153.15" y="-537.32" font-family="Times,serif" font-size="14.00">мощной взрывчаткой на</text>
<text text-anchor="middle" x="153.15" y="-520.07" font-family="Times,serif" font-size="14.00">этой запертой двери.</text>
<text text-anchor="middle" x="153.15" y="-502.82" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="153.15" y="-485.57" font-family="Times,serif" font-size="14.00">Вы замечаете ловушку с</text>
<text text-anchor="middle" x="153.15" y="-468.32" font-family="Times,serif" font-size="14.00">мощной взрывчаткой на</text>
<text text-anchor="middle" x="153.15" y="-451.07" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="153.15" y="-433.82" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="153.15" y="-416.57" font-family="Times,serif" font-size="14.00">Вы замечаете ловушку на</text>
<text text-anchor="middle" x="153.15" y="-399.32" font-family="Times,serif" font-size="14.00">этой запертой двери.</text>
<text text-anchor="middle" x="153.15" y="-382.07" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="153.15" y="-364.82" font-family="Times,serif" font-size="14.00">Вы замечаете ловушку на</text>
<text text-anchor="middle" x="153.15" y="-347.57" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="153.15" y="-330.32" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="153.15" y="-313.07" font-family="Times,serif" font-size="14.00">Вы не замечаете ничего</text>
<text text-anchor="middle" x="153.15" y="-295.82" font-family="Times,serif" font-size="14.00">особенного на этой</text>
<text text-anchor="middle" x="153.15" y="-278.57" font-family="Times,serif" font-size="14.00">запертой двери.</text>
<text text-anchor="middle" x="153.15" y="-261.32" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="153.15" y="-244.07" font-family="Times,serif" font-size="14.00">Вы не замечаете ничего</text>
<text text-anchor="middle" x="153.15" y="-226.82" font-family="Times,serif" font-size="14.00">особенного на этой двери.</text>
<text text-anchor="middle" x="153.15" y="-209.57" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="153.15" y="-192.32" font-family="Times,serif" font-size="14.00">Вы не замечаете ничего</text>
<text text-anchor="middle" x="153.15" y="-175.07" font-family="Times,serif" font-size="14.00">особенного на этой</text>
<text text-anchor="middle" x="153.15" y="-157.82" font-family="Times,serif" font-size="14.00">запертой двери.</text>
<text text-anchor="middle" x="153.15" y="-140.57" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="153.15" y="-123.32" font-family="Times,serif" font-size="14.00">Вы не замечаете ничего</text>
<text text-anchor="middle" x="153.15" y="-106.07" font-family="Times,serif" font-size="14.00">особенного на этой двери.</text>
</g>
<!-- description_p_proc&#45;&gt;Locked_And_Trapped -->
<g id="edge9" class="edge">
<title>description_p_proc&#45;&gt;Locked_And_Trapped</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M462.46,-1364.26C449.84,-1267.9 404.72,-953.88 323.15,-705.98 317.99,-690.29 293.92,-636.7 265.45,-575"/>
<polygon fill="#555555" stroke="#555555" points="268.21,-573.64 260.84,-566.03 261.86,-576.58 268.21,-573.64"/>
</g>
<!-- Door_Trapped -->
<g id="node11" class="node">
<title>Door_Trapped</title>
<ellipse fill="#ffffff" stroke="#000000" cx="466.15" cy="-334.99" rx="147.61" ry="152.03"/>
<text text-anchor="middle" x="466.15" y="-425.19" font-family="Times,serif" font-size="14.00">Вы замечаете ловушку с</text>
<text text-anchor="middle" x="466.15" y="-407.94" font-family="Times,serif" font-size="14.00">мощной взрывчаткой на</text>
<text text-anchor="middle" x="466.15" y="-390.69" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="466.15" y="-373.44" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="466.15" y="-356.19" font-family="Times,serif" font-size="14.00">Вы замечаете ловушку на</text>
<text text-anchor="middle" x="466.15" y="-338.94" font-family="Times,serif" font-size="14.00">этой двери.</text>
<text text-anchor="middle" x="466.15" y="-321.69" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="466.15" y="-304.44" font-family="Times,serif" font-size="14.00">Вы не замечаете ничего</text>
<text text-anchor="middle" x="466.15" y="-287.19" font-family="Times,serif" font-size="14.00">особенного на этой двери.</text>
<text text-anchor="middle" x="466.15" y="-269.94" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="466.15" y="-252.69" font-family="Times,serif" font-size="14.00">Вы не замечаете ничего</text>
<text text-anchor="middle" x="466.15" y="-235.44" font-family="Times,serif" font-size="14.00">особенного на этой двери.</text>
</g>
<!-- description_p_proc&#45;&gt;Door_Trapped -->
<g id="edge10" class="edge">
<title>description_p_proc&#45;&gt;Door_Trapped</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M466.15,-1364.31C466.15,-1240.43 466.15,-755.44 466.15,-498.23"/>
<polygon fill="#555555" stroke="#555555" points="469.65,-498.29 466.15,-488.29 462.65,-498.29 469.65,-498.29"/>
</g>
<!-- Door_Locked -->
<g id="node12" class="node">
<title>Door_Locked</title>
<ellipse fill="#ffffff" stroke="#000000" cx="770.15" cy="-334.99" rx="138.59" ry="91.04"/>
<text text-anchor="middle" x="770.15" y="-382.07" font-family="Times,serif" font-size="14.00">Вы не замечаете ничего</text>
<text text-anchor="middle" x="770.15" y="-364.82" font-family="Times,serif" font-size="14.00">особенного на этой</text>
<text text-anchor="middle" x="770.15" y="-347.57" font-family="Times,serif" font-size="14.00">запертой двери.</text>
<text text-anchor="middle" x="770.15" y="-330.32" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="770.15" y="-313.07" font-family="Times,serif" font-size="14.00">Вы не замечаете ничего</text>
<text text-anchor="middle" x="770.15" y="-295.82" font-family="Times,serif" font-size="14.00">особенного на этой</text>
<text text-anchor="middle" x="770.15" y="-278.57" font-family="Times,serif" font-size="14.00">запертой двери.</text>
</g>
<!-- description_p_proc&#45;&gt;Door_Locked -->
<g id="edge11" class="edge">
<title>description_p_proc&#45;&gt;Door_Locked</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M470.06,-1364.33C483.29,-1268.17 530.11,-954.7 609.15,-705.98 617.91,-678.44 682.26,-532.69 726.91,-432.56"/>
<polygon fill="#555555" stroke="#555555" points="730.42,-434.27 731.3,-423.71 724.03,-431.42 730.42,-434.27"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 21) then begin\n  call look_at_p_proc;\nend\nelse begin\n  if (script_action == 3) then begin\n    call description_p_proc;\n  end\n  else begin\n    if (script_action == 23) then begin\n      call map_update_p_proc;\n    end\n    else begin\n      if (script_action == 15) then begin\n        call map_enter_p_proc;\n      end\n      else begin\n        if (script_action == 6) then begin\n          call use_p_proc;\n        end\n        else begin\n          if (script_action == 8) then begin\n            call use_skill_on_p_proc;\n          end\n          else begin\n            if (script_action == 7) then begin\n              call use_obj_on_p_proc;\n            end\n            else begin\n              if (script_action == 14) then begin\n                call damage_p_proc;\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend\n","look_at_p_proc":"script_overrides;\nif (is_success(do_check(dude_obj, 1, 0))) then begin\n  display_msg(message_str(911, 101));\nend\nelse begin\n  display_msg(message_str(911, 100));\nend\n","description_p_proc":"script_overrides;\nif ((local_var(1) == 0) and (local_var(0) == 0)) then begin\n  call Locked_And_Trapped;\nend\nelse begin\n  if (local_var(0) == 0) then begin\n    call Door_Trapped;\n  end\n  else begin\n    if (local_var(1) == 0) then begin\n      call Door_Locked;\n    end\n    else begin\n      display_msg(message_str(911, 102));\n    end\n  end\nend\n","use_p_proc":"variable LVar0 := 0;\nLVar0 := roll_vs_skill(source_obj, 11, 0);\nif ((local_var(1) == 0) and (local_var(0) == 0)) then begin\n  script_overrides;\n  if (is_success(LVar0)) then begin\n    reg_anim_func(2, source_obj);\n    if (source_obj == dude_obj) then begin\n      display_msg(message_str(911, 106));\n    end\n    else begin\n      display_msg(proto_data(obj_pid(source_obj), 1) + message_str(911, 105));\n    end\n  end\n  else begin\n    display_msg(message_str(911, 104));\n    Set_Off_Trap := 1;\n    explosion(tile_num(source_obj), elevation(self_obj), random(10, 30));\n    set_local_var(0, 1);\n    set_local_var(2, local_var(2) + 1);\n    display_msg(message_str(911, 103));\n  end\nend\nelse begin\n  if (local_var(0) == 0) then begin\n    if (is_success(LVar0)) then begin\n      script_overrides;\n      reg_anim_func(2, source_obj);\n      if (source_obj == dude_obj) then begin\n        display_msg(message_str(911, 106));\n      end\n      else begin\n        display_msg(proto_data(obj_pid(source_obj), 1) + message_str(911, 105));\n      end\n    end\n    else begin\n      display_msg(message_str(911, 104));\n      Set_Off_Trap := 1;\n      explosion(tile_num(source_obj), elevation(self_obj), random(10, 30));\n      set_local_var(0, 1);\n      set_local_var(2, local_var(2) + 1);\n    end\n  end\n  else begin\n    if (local_var(1) == 0) then begin\n      script_overrides;\n      display_msg(message_str(911, 103));\n    end\n  end\nend\n","use_skill_on_p_proc":"variable LVar0 := 0;\nvariable LVar1 := 0;\nLVar1 := action_being_used;\nif ((LVar1 == 11) and (local_var(0) == 0)) then begin\n  script_overrides;\n  LVar0 := roll_vs_skill(source_obj, LVar1, 0);\n  if (is_success(LVar0)) then begin\n    reg_anim_func(2, source_obj);\n    if (source_obj == dude_obj) then begin\n      display_msg(message_str(911, 106));\n      set_local_var(0, 1);\n      display_msg(message_str(766, 103) + \"50\" + message_str(766, 104));\n      give_exp_points(50);\n    end\n    else begin\n      display_msg(proto_data(obj_pid(source_obj), 1) + message_str(911, 105));\n    end\n  end\n  else begin\n    display_msg(message_str(911, 104));\n    Set_Off_Trap := 1;\n    explosion(tile_num(source_obj), elevation(self_obj), random(10, 30));\n    set_local_var(0, 1);\n    set_local_var(2, local_var(2) + 1);\n  end\nend\nelse begin\n  if ((LVar1 == 9) and (local_var(1) == 0)) then begin\n    script_overrides;\n    LVar0 := roll_vs_skill(source_obj, LVar1, -20);\n    if (is_success(LVar0)) then begin\n      set_local_var(1, 1);\n      display_msg(message_str(911, 111));\n      obj_unlock(self_obj);\n      display_msg(message_str(766, 103) + \"50\" + message_str(766, 104));\n      give_exp_points(50);\n    end\n    else begin\n      if (is_critical(LVar0)) then begin\n        jam_lock(self_obj);\n        display_msg(message_str(911, 112));\n      end\n      else begin\n        display_msg(message_str(911, 110));\n      end\n    end\n  end\nend\n","use_obj_on_p_proc":"variable LVar0 := 0;\nvariable LVar1 := 0;\nvariable LVar2 := 0;\nLVar0 := obj_pid(obj_being_used_with);\nLVar1 := roll_vs_skill(source_obj, 11, 0);\nLVar2 := roll_vs_skill(source_obj, 9, 0);\nif (LVar0 == 84) then begin\n  if ((local_var(1) == 0) and (local_var(0) == 0)) then begin\n    script_overrides;\n    if (is_success(LVar1)) then begin\n      reg_anim_func(2, source_obj);\n      if (source_obj == dude_obj) then begin\n        display_msg(message_str(911, 106));\n      end\n      else begin\n        display_msg(proto_data(obj_pid(source_obj), 1) + message_str(911, 105));\n      end\n    end\n    else begin\n      display_msg(message_str(911, 104));\n      Set_Off_Trap := 1;\n      explosion(tile_num(source_obj), elevation(self_obj), random(10, 30));\n      set_local_var(0, 1);\n      set_local_var(2, local_var(2) + 1);\n    end\n    display_msg(message_str(911, 108));\n  end\n  else begin\n    if (local_var(0) == 0) then begin\n      script_overrides;\n      if (is_success(LVar1)) then begin\n        reg_anim_func(2, source_obj);\n        if (source_obj == dude_obj) then begin\n          display_msg(message_str(911, 106));\n        end\n        else begin\n          display_msg(proto_data(obj_pid(source_obj), 1) + message_str(911, 105));\n        end\n      end\n      else begin\n        display_msg(message_str(911, 104));\n        Set_Off_Trap := 1;\n        explosion(tile_num(source_obj), elevation(self_obj), random(10, 30));\n        set_local_var(0, 1);\n        set_local_var(2, local_var(2) + 1);\n      end\n      display_msg(message_str(911, 108));\n    end\n    else begin\n      if (local_var(1) == 0) then begin\n        script_overrides;\n        if (is_success(LVar2)) then begin\n          set_local_var(1, 1);\n          display_msg(message_str(911, 111));\n          display_msg(message_str(766, 103) + \"50\" + message_str(766, 104));\n          give_exp_points(50);\n          obj_unlock(self_obj);\n        end\n        else begin\n          if (is_critical(LVar2)) then begin\n            rm_obj_from_inven(dude_obj, LVar0);\n            destroy_object(LVar0);\n            jam_lock(self_obj);\n            display_msg(message_str(911, 109));\n          end\n          else begin\n            display_msg(message_str(911, 110));\n          end\n        end\n      end\n    end\n  end\nend\nelse begin\n  script_overrides;\n  LVar1 := roll_vs_skill(source_obj, 11, 0);\n  if ((local_var(1) == 0) and (local_var(0) == 0)) then begin\n    script_overrides;\n    if (is_success(LVar1)) then begin\n      reg_anim_func(2, source_obj);\n      if (source_obj == dude_obj) then begin\n        display_msg(message_str(911, 106));\n      end\n      else begin\n        display_msg(proto_data(obj_pid(source_obj), 1) + message_str(911, 105));\n      end\n    end\n    else begin\n      display_msg(message_str(911, 104));\n      Set_Off_Trap := 1;\n      explosion(tile_num(source_obj), elevation(self_obj), random(10, 30));\n      set_local_var(0, 1);\n      set_local_var(2, local_var(2) + 1);\n    end\n  end\n  else begin\n    if (local_var(0) == 0) then begin\n      if (is_success(LVar1)) then begin\n        reg_anim_func(2, source_obj);\n        if (source_obj == dude_obj) then begin\n          display_msg(message_str(911, 106));\n        end\n        else begin\n          display_msg(proto_data(obj_pid(source_obj), 1) + message_str(911, 105));\n        end\n      end\n      else begin\n        display_msg(message_str(911, 104));\n        Set_Off_Trap := 1;\n        explosion(tile_num(source_obj), elevation(self_obj), random(10, 30));\n        set_local_var(0, 1);\n        set_local_var(2, local_var(2) + 1);\n      end\n    end\n    else begin\n      if (local_var(1) == 0) then begin\n        script_overrides;\n        display_msg(message_str(911, 107));\n      end\n    end\n  end\nend\n","map_enter_p_proc":"if (local_var(1) == 0) then begin\n  obj_lock(self_obj);\nend\nelse begin\n  obj_unlock(self_obj);\nend\n","map_update_p_proc":"if (local_var(1) == 0) then begin\n  obj_lock(self_obj);\nend\nelse begin\n  obj_unlock(self_obj);\nend\n","damage_p_proc":"set_local_var(2, local_var(2) + 1);\nif (Set_Off_Trap == 0) then begin\n  display_msg(message_str(911, 104));\n  explosion(tile_num(self_obj), elevation(self_obj), random(20, 40));\n  set_local_var(0, 1);\n  Set_Off_Trap := 1;\nend\nif (local_var(2) > 1) then begin\n  set_obj_visibility(self_obj, 1);\nend\n","Locked_And_Trapped":"variable LVar0 := 0;\nvariable LVar1 := 0;\nLVar0 := roll_vs_skill(dude_obj, 11, 0);\nLVar1 := roll_vs_skill(dude_obj, 9, 0);\nif (is_success(LVar0)) then begin\n  if (is_critical(LVar0)) then begin\n    if (is_success(LVar1)) then begin\n      display_msg(message_str(911, 113));\n    end\n    else begin\n      if (is_critical(LVar1)) then begin\n        display_msg(message_str(911, 114));\n      end\n    end\n  end\n  else begin\n    if (is_success(LVar1)) then begin\n      display_msg(message_str(911, 115));\n    end\n    else begin\n      if (is_critical(LVar1)) then begin\n        display_msg(message_str(911, 116));\n      end\n    end\n  end\nend\nelse begin\n  if (is_critical(LVar0)) then begin\n    if (is_success(LVar1)) then begin\n      display_msg(message_str(911, 117));\n    end\n    else begin\n      if (is_critical(LVar1)) then begin\n        display_msg(message_str(911, 118));\n      end\n    end\n  end\n  else begin\n    if (is_success(LVar1)) then begin\n      display_msg(message_str(911, 117));\n    end\n    else begin\n      if (is_critical(LVar1)) then begin\n        display_msg(message_str(911, 118));\n      end\n    end\n  end\nend\n","Door_Locked":"variable LVar0 := 0;\nLVar0 := roll_vs_skill(dude_obj, 9, 0);\nif (is_success(LVar0)) then begin\n  display_msg(message_str(911, 117));\nend\nelse begin\n  if (is_critical(LVar0)) then begin\n    display_msg(message_str(911, 117));\n  end\nend\n","Door_Trapped":"variable LVar0 := 0;\nLVar0 := roll_vs_skill(dude_obj, 11, 0);\nif (is_success(LVar0)) then begin\n  if (is_critical(LVar0)) then begin\n    display_msg(message_str(911, 114));\n  end\n  else begin\n    display_msg(message_str(911, 116));\n  end\nend\nelse begin\n  if (is_critical(LVar0)) then begin\n    display_msg(message_str(911, 118));\n  end\n  else begin\n    display_msg(message_str(911, 118));\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>