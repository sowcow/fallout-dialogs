<!DOCTYPE html><html><head><title>cathshop</title><meta charset="utf-8" /></head><body><svg width="2486pt" height="1062pt"
 viewBox="0.00 0.00 2485.93 1061.62" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1057.62)">
<title>cathshop</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1057.62 2481.93,-1057.62 2481.93,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="841.85" cy="-1035.62" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node2" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="571.85" cy="-962.62" rx="117.5" ry="18"/>
<text text-anchor="middle" x="571.85" y="-957.94" font-family="Times,serif" font-size="14.00">Вы видите торговца.</text>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M816.93,-1028.07C777.05,-1017.58 697.51,-996.66 639.84,-981.5"/>
<polygon fill="#555555" stroke="#555555" points="640.9,-977.89 630.34,-978.73 639.12,-984.66 640.9,-977.89"/>
</g>
<!-- timed_event_p_proc -->
<g id="node3" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="733.85" cy="-962.62" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;timed_event_p_proc -->
<g id="edge2" class="edge">
<title>start&#45;&gt;timed_event_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M823.04,-1022.25C806,-1011.05 780.69,-994.41 761.38,-981.72"/>
<polygon fill="#555555" stroke="#555555" points="763.73,-978.41 753.45,-975.84 759.88,-984.26 763.73,-978.41"/>
</g>
<!-- pickup_p_proc -->
<g id="node4" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="805.85" cy="-962.62" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;pickup_p_proc -->
<g id="edge3" class="edge">
<title>start&#45;&gt;pickup_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M833.5,-1018.15C829.23,-1009.73 823.93,-999.27 819.12,-989.78"/>
<polygon fill="#555555" stroke="#555555" points="821.8,-988.33 814.16,-981 815.56,-991.5 821.8,-988.33"/>
</g>
<!-- talk_p_proc -->
<g id="node5" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="877.85" cy="-962.62" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge4" class="edge">
<title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M850.2,-1018.15C854.47,-1009.73 859.77,-999.27 864.59,-989.78"/>
<polygon fill="#555555" stroke="#555555" points="868.15,-991.5 869.55,-981 861.9,-988.33 868.15,-991.5"/>
</g>
<!-- critter_p_proc -->
<g id="node6" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="949.85" cy="-962.62" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;critter_p_proc -->
<g id="edge5" class="edge">
<title>start&#45;&gt;critter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M860.66,-1022.25C877.7,-1011.05 903.01,-994.41 922.32,-981.72"/>
<polygon fill="#555555" stroke="#555555" points="923.82,-984.26 930.25,-975.84 919.98,-978.41 923.82,-984.26"/>
</g>
<!-- destroy_p_proc -->
<g id="node7" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1021.85" cy="-962.62" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge6" class="edge">
<title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M865.53,-1026.41C894.26,-1016.31 944.04,-998.29 985.85,-980.62 987.51,-979.91 989.21,-979.18 990.92,-978.42"/>
<polygon fill="#555555" stroke="#555555" points="992.02,-981.31 999.66,-973.98 989.11,-974.94 992.02,-981.31"/>
</g>
<!-- get_reaction -->
<g id="node9" class="node">
<title>get_reaction</title>
<ellipse fill="#ffffff" stroke="#000000" cx="570.85" cy="-816.58" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;get_reaction -->
<g id="edge7" class="edge">
<title>talk_p_proc&#45;&gt;get_reaction</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M857.4,-950.4C852.44,-948.12 847.06,-946 841.85,-944.62 792.3,-931.46 652.83,-957.42 611.85,-926.62 586.62,-907.65 576.91,-871.27 573.18,-845.77"/>
<polygon fill="#555555" stroke="#555555" points="576.54,-845.42 571.85,-835.92 569.59,-846.27 576.54,-845.42"/>
</g>
<!-- BarterGuy00 -->
<g id="node10" class="node">
<title>BarterGuy00</title>
<ellipse fill="#ffffff" stroke="#000000" cx="151.85" cy="-421.2" rx="151.85" ry="54.45"/>
<text text-anchor="middle" x="151.85" y="-442.4" font-family="Times,serif" font-size="14.00">Священный Огонь не</text>
<text text-anchor="middle" x="151.85" y="-425.15" font-family="Times,serif" font-size="14.00">потерпит воров и негодяев</text>
<text text-anchor="middle" x="151.85" y="-407.9" font-family="Times,serif" font-size="14.00">в своем доме. Тебя ждет</text>
<text text-anchor="middle" x="151.85" y="-390.65" font-family="Times,serif" font-size="14.00">наказание!</text>
</g>
<!-- talk_p_proc&#45;&gt;BarterGuy00 -->
<g id="edge8" class="edge">
<title>talk_p_proc&#45;&gt;BarterGuy00</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M856.77,-951C851.93,-948.75 846.76,-946.49 841.85,-944.62 787.72,-923.96 758.38,-948.02 716.85,-907.62 688.61,-880.15 635.77,-597.29 606.85,-570.54 509.17,-480.17 441.29,-544.47 315.85,-500.04 292.95,-491.93 268.97,-481.64 246.63,-471.23"/>
<polygon fill="#555555" stroke="#555555" points="248.37,-467.7 237.84,-466.6 245.39,-474.03 248.37,-467.7"/>
</g>
<!-- BarterGuy02 -->
<g id="node11" class="node">
<title>BarterGuy02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="877.85" cy="-816.58" rx="151.85" ry="30.05"/>
<text text-anchor="middle" x="877.85" y="-820.53" font-family="Times,serif" font-size="14.00">Прошу прощения, магазин</text>
<text text-anchor="middle" x="877.85" y="-803.28" font-family="Times,serif" font-size="14.00">закрыт.</text>
</g>
<!-- talk_p_proc&#45;&gt;BarterGuy02 -->
<g id="edge9" class="edge">
<title>talk_p_proc&#45;&gt;BarterGuy02</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M877.85,-944.24C877.85,-922.97 877.85,-886.28 877.85,-857.84"/>
<polygon fill="#555555" stroke="#555555" points="881.35,-858.01 877.85,-848.01 874.35,-858.01 881.35,-858.01"/>
</g>
<!-- BarterGuy07 -->
<g id="node12" class="node">
<title>BarterGuy07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1818.85" cy="-612.79" rx="147.61" ry="30.05"/>
<text text-anchor="middle" x="1818.85" y="-616.74" font-family="Times,serif" font-size="14.00">Приветствую, дитя. Чем я</text>
<text text-anchor="middle" x="1818.85" y="-599.49" font-family="Times,serif" font-size="14.00">могу тебе помочь?</text>
</g>
<!-- talk_p_proc&#45;&gt;BarterGuy07 -->
<g id="edge10" class="edge">
<title>talk_p_proc&#45;&gt;BarterGuy07</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M898.3,-950.37C903.26,-948.09 908.64,-945.98 913.85,-944.62 1140.59,-885.34 1220.92,-991.24 1439.85,-907.62 1587.91,-851.07 1725.33,-716.15 1786.08,-650.68"/>
<polygon fill="#555555" stroke="#555555" points="1788.25,-653.4 1792.45,-643.67 1783.1,-648.66 1788.25,-653.4"/>
</g>
<!-- BarterGuy10 -->
<g id="node13" class="node">
<title>BarterGuy10</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1280.85" cy="-816.58" rx="149.73" ry="91.04"/>
<text text-anchor="middle" x="1280.85" y="-863.65" font-family="Times,serif" font-size="14.00">Приветствую! Я могу тебе</text>
<text text-anchor="middle" x="1280.85" y="-846.4" font-family="Times,serif" font-size="14.00">помочь? Надеюсь, ты</text>
<text text-anchor="middle" x="1280.85" y="-829.15" font-family="Times,serif" font-size="14.00">найдешь время, чтобы</text>
<text text-anchor="middle" x="1280.85" y="-811.9" font-family="Times,serif" font-size="14.00">позаботиться о своей</text>
<text text-anchor="middle" x="1280.85" y="-794.65" font-family="Times,serif" font-size="14.00">душе, обдумать</text>
<text text-anchor="middle" x="1280.85" y="-777.4" font-family="Times,serif" font-size="14.00">серьезность и значимость</text>
<text text-anchor="middle" x="1280.85" y="-760.15" font-family="Times,serif" font-size="14.00">своих решений...</text>
</g>
<!-- talk_p_proc&#45;&gt;BarterGuy10 -->
<g id="edge11" class="edge">
<title>talk_p_proc&#45;&gt;BarterGuy10</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M898.94,-951C903.78,-948.75 908.94,-946.49 913.85,-944.62 967.98,-923.96 983.89,-925.95 1038.85,-907.62 1073.39,-896.09 1110.38,-882.82 1144.78,-870.06"/>
<polygon fill="#555555" stroke="#555555" points="1145.74,-873.07 1153.89,-866.3 1143.3,-866.51 1145.74,-873.07"/>
</g>
<!-- combat -->
<g id="node8" class="node">
<title>combat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="281.85" cy="-18" rx="27" ry="18"/>
</g>
<!-- ReactToLevel -->
<g id="node28" class="node">
<title>ReactToLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="570.85" cy="-612.79" rx="27" ry="18"/>
</g>
<!-- get_reaction&#45;&gt;ReactToLevel -->
<g id="edge41" class="edge">
<title>get_reaction&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M570.85,-798.37C570.85,-763.61 570.85,-684.71 570.85,-642.2"/>
<polygon fill="#555555" stroke="#555555" points="574.35,-642.24 570.85,-632.24 567.35,-642.24 574.35,-642.24"/>
</g>
<!-- BarterGuy01 -->
<g id="node14" class="node">
<title>BarterGuy01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="193.85" cy="-103.05" rx="148.14" ry="30.05"/>
<text text-anchor="middle" x="193.85" y="-107" font-family="Times,serif" font-size="14.00">Ты лжешь, но ни меня, ни</text>
<text text-anchor="middle" x="193.85" y="-89.75" font-family="Times,serif" font-size="14.00">Создателя это не волнует.</text>
</g>
<!-- BarterGuy00&#45;&gt;BarterGuy01 -->
<g id="edge12" class="edge">
<title>BarterGuy00&#45;&gt;BarterGuy01</title>
<path fill="none" stroke="#310099" d="M153.94,-366.41C155.42,-338.37 157.88,-303.55 161.85,-272.6 167.55,-228.22 177.58,-177.88 184.9,-143.86"/>
<polygon fill="#310099" stroke="#310099" points="188.46,-144.93 187.17,-134.41 181.62,-143.44 188.46,-144.93"/>
<text text-anchor="middle" x="192.23" y="-207.68" font-family="Times,serif" font-size="14.00" fill="#310099">Гм.</text>
</g>
<!-- BarterGuy00&#45;&gt;BarterGuy01 -->
<g id="edge13" class="edge">
<title>BarterGuy00&#45;&gt;BarterGuy01</title>
<path fill="none" stroke="#009904" d="M92.41,-370.86C37.32,-319.02 -29.72,-236.02 16.1,-170.1 29.71,-150.53 49.84,-136.75 71.71,-127.04"/>
<polygon fill="#009904" stroke="#009904" points="72.95,-129.9 80.87,-122.86 70.29,-123.43 72.95,-129.9"/>
<text text-anchor="middle" x="89.23" y="-207.68" font-family="Times,serif" font-size="14.00" fill="#009904">Я ничего не ворую!</text>
</g>
<!-- BarterGuy00a -->
<g id="node15" class="node">
<title>BarterGuy00a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="313.85" cy="-212.35" rx="27" ry="18"/>
</g>
<!-- BarterGuy00&#45;&gt;BarterGuy00a -->
<g id="edge14" class="edge">
<title>BarterGuy00&#45;&gt;BarterGuy00a</title>
<path fill="none" stroke="#990029" d="M157.5,-366.32C162.24,-330.31 170.1,-287 181.6,-272.6 205.24,-243.02 246.8,-227.74 277.04,-220.17"/>
<polygon fill="#990029" stroke="#990029" points="277.66,-223.39 286.61,-217.72 276.08,-216.57 277.66,-223.39"/>
<text text-anchor="middle" x="281.98" y="-311.05" font-family="Times,serif" font-size="14.00" fill="#990029">Расскажи об этом</text>
<text text-anchor="middle" x="281.98" y="-293.8" font-family="Times,serif" font-size="14.00" fill="#990029">Священному Огню. Сейчас</text>
<text text-anchor="middle" x="281.98" y="-276.55" font-family="Times,serif" font-size="14.00" fill="#990029">ты с ним встретишься!</text>
</g>
<!-- BarterGuyEnd -->
<g id="node16" class="node">
<title>BarterGuyEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1255.85" cy="-212.35" rx="27" ry="18"/>
</g>
<!-- BarterGuy02&#45;&gt;BarterGuyEnd -->
<g id="edge18" class="edge">
<title>BarterGuy02&#45;&gt;BarterGuyEnd</title>
<path fill="none" stroke="#005599" d="M895.11,-786.28C906.87,-765.08 921.88,-735.38 930.85,-707.54 959.52,-618.52 951.16,-592.4 965.85,-500.04 973.88,-449.57 965.17,-310.14 999.85,-272.6 1029.06,-240.99 1154.26,-223.79 1218.1,-216.93"/>
<polygon fill="#005599" stroke="#005599" points="1218.32,-220.33 1227.9,-215.81 1217.6,-213.36 1218.32,-220.33"/>
<text text-anchor="middle" x="981.1" y="-530.61" font-family="Times,serif" font-size="14.00" fill="#005599">У&#45;га.</text>
</g>
<!-- BarterGuy03 -->
<g id="node17" class="node">
<title>BarterGuy03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="729.85" cy="-612.79" rx="75.94" ry="18"/>
<text text-anchor="middle" x="729.85" y="-608.11" font-family="Times,serif" font-size="14.00">Нет, ничего.</text>
</g>
<!-- BarterGuy02&#45;&gt;BarterGuy03 -->
<g id="edge19" class="edge">
<title>BarterGuy02&#45;&gt;BarterGuy03</title>
<path fill="none" stroke="#829900" d="M817.96,-788.7C785.7,-770.74 748.82,-743.73 730.35,-707.54 720.02,-687.3 720.81,-661.26 723.66,-641.76"/>
<polygon fill="#829900" stroke="#829900" points="727.24,-642.58 725.51,-632.12 720.35,-641.38 727.24,-642.58"/>
<text text-anchor="middle" x="793.1" y="-685.61" font-family="Times,serif" font-size="14.00" fill="#829900">Что ж, извините.</text>
</g>
<!-- BarterGuy02a -->
<g id="node18" class="node">
<title>BarterGuy02a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="850.85" cy="-612.79" rx="27" ry="18"/>
</g>
<!-- BarterGuy02&#45;&gt;BarterGuy02a -->
<g id="edge20" class="edge">
<title>BarterGuy02&#45;&gt;BarterGuy02a</title>
<path fill="none" stroke="#830099" d="M873.93,-786.24C868.74,-747.5 859.68,-679.78 854.59,-641.75"/>
<polygon fill="#830099" stroke="#830099" points="857.95,-641.42 853.15,-631.97 851.01,-642.34 857.95,-641.42"/>
<text text-anchor="middle" x="895.1" y="-685.61" font-family="Times,serif" font-size="14.00" fill="#830099">Почему?</text>
</g>
<!-- BarterGuy08 -->
<g id="node22" class="node">
<title>BarterGuy08</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1685.85" cy="-421.2" rx="152.91" ry="30.05"/>
<text text-anchor="middle" x="1685.85" y="-425.15" font-family="Times,serif" font-size="14.00">Извини. Может, мы просто</text>
<text text-anchor="middle" x="1685.85" y="-407.9" font-family="Times,serif" font-size="14.00">поторгуем?</text>
</g>
<!-- BarterGuy07&#45;&gt;BarterGuy08 -->
<g id="edge27" class="edge">
<title>BarterGuy07&#45;&gt;BarterGuy08</title>
<path fill="none" stroke="#99005c" d="M1798.36,-582.58C1775.32,-549.74 1737.83,-496.29 1712.52,-460.21"/>
<polygon fill="#99005c" stroke="#99005c" points="1714.97,-458.61 1706.36,-452.44 1709.24,-462.63 1714.97,-458.61"/>
<text text-anchor="middle" x="1800.35" y="-530.61" font-family="Times,serif" font-size="14.00" fill="#99005c">Уг&#45;га?!</text>
</g>
<!-- BarterGuy12 -->
<g id="node23" class="node">
<title>BarterGuy12</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2010.85" cy="-421.2" rx="154.5" ry="42.25"/>
<text text-anchor="middle" x="2010.85" y="-433.77" font-family="Times,serif" font-size="14.00">Ничего особенного, товары</text>
<text text-anchor="middle" x="2010.85" y="-416.52" font-family="Times,serif" font-size="14.00">для простых людей. Вот,</text>
<text text-anchor="middle" x="2010.85" y="-399.27" font-family="Times,serif" font-size="14.00">взгляни.</text>
</g>
<!-- BarterGuy07&#45;&gt;BarterGuy12 -->
<g id="edge28" class="edge">
<title>BarterGuy07&#45;&gt;BarterGuy12</title>
<path fill="none" stroke="#008999" d="M1848.01,-582.99C1878.47,-552.92 1926.75,-505.24 1962.84,-469.6"/>
<polygon fill="#008999" stroke="#008999" points="1964.69,-472.7 1969.35,-463.19 1959.78,-467.72 1964.69,-472.7"/>
<text text-anchor="middle" x="1975.23" y="-530.61" font-family="Times,serif" font-size="14.00" fill="#008999">Что ты продаешь?</text>
</g>
<!-- BarterGuy09 -->
<g id="node24" class="node">
<title>BarterGuy09</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2330.85" cy="-421.2" rx="147.08" ry="42.25"/>
<text text-anchor="middle" x="2330.85" y="-433.77" font-family="Times,serif" font-size="14.00">Чао, бамбино! Интересно,</text>
<text text-anchor="middle" x="2330.85" y="-416.52" font-family="Times,serif" font-size="14.00">откуда у меня эта</text>
<text text-anchor="middle" x="2330.85" y="-399.27" font-family="Times,serif" font-size="14.00">фразочка...</text>
</g>
<!-- BarterGuy07&#45;&gt;BarterGuy09 -->
<g id="edge29" class="edge">
<title>BarterGuy07&#45;&gt;BarterGuy09</title>
<path fill="none" stroke="#997d00" d="M1915.21,-589.61C1955.88,-579.48 2003.53,-566.61 2045.85,-552.54 2104.59,-533.01 2118.45,-525.54 2174.85,-500.04 2199.93,-488.7 2226.87,-475.59 2251.19,-463.41"/>
<polygon fill="#997d00" stroke="#997d00" points="2252.37,-466.23 2259.73,-458.61 2249.22,-459.98 2252.37,-466.23"/>
<text text-anchor="middle" x="2207.85" y="-530.61" font-family="Times,serif" font-size="14.00" fill="#997d00">Спасибо! Чао&#45;какао.</text>
</g>
<!-- BarterGuy10&#45;&gt;BarterGuy08 -->
<g id="edge31" class="edge">
<title>BarterGuy10&#45;&gt;BarterGuy08</title>
<path fill="none" stroke="#009924" d="M1385.66,-751.19C1425.97,-724.01 1471.09,-690.46 1507.85,-655.04 1571.23,-593.97 1630.22,-509.13 1661.82,-460.52"/>
<polygon fill="#009924" stroke="#009924" points="1665.29,-462.6 1667.77,-452.3 1659.41,-458.8 1665.29,-462.6"/>
<text text-anchor="middle" x="1606.6" y="-608.11" font-family="Times,serif" font-size="14.00" fill="#009924">А&#45;та&#45;а!</text>
</g>
<!-- BarterGuy13 -->
<g id="node25" class="node">
<title>BarterGuy13</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1363.85" cy="-421.2" rx="151.32" ry="66.64"/>
<text text-anchor="middle" x="1363.85" y="-451.02" font-family="Times,serif" font-size="14.00">У нас есть сувениры,</text>
<text text-anchor="middle" x="1363.85" y="-433.77" font-family="Times,serif" font-size="14.00">которые будут напоминать</text>
<text text-anchor="middle" x="1363.85" y="-416.52" font-family="Times,serif" font-size="14.00">вам о визите в Собор.</text>
<text text-anchor="middle" x="1363.85" y="-399.27" font-family="Times,serif" font-size="14.00">Такие воспоминания</text>
<text text-anchor="middle" x="1363.85" y="-382.02" font-family="Times,serif" font-size="14.00">дорогого стоят.</text>
</g>
<!-- BarterGuy10&#45;&gt;BarterGuy13 -->
<g id="edge32" class="edge">
<title>BarterGuy10&#45;&gt;BarterGuy13</title>
<path fill="none" stroke="#990009" d="M1339.7,-732.43C1343.69,-724.28 1347.18,-715.91 1349.85,-707.54 1371.59,-639.36 1373.27,-557.41 1370.6,-498.85"/>
<polygon fill="#990009" stroke="#990009" points="1374.06,-499.01 1370.06,-489.2 1367.07,-499.37 1374.06,-499.01"/>
<text text-anchor="middle" x="1437.23" y="-608.11" font-family="Times,serif" font-size="14.00" fill="#990009">Что ты продаешь?</text>
</g>
<!-- BarterGuy11 -->
<g id="node26" class="node">
<title>BarterGuy11</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1146.85" cy="-612.79" rx="146.02" ry="42.25"/>
<text text-anchor="middle" x="1146.85" y="-625.36" font-family="Times,serif" font-size="14.00">Только верным Чадам</text>
<text text-anchor="middle" x="1146.85" y="-608.11" font-family="Times,serif" font-size="14.00">Собора разрешено носить</text>
<text text-anchor="middle" x="1146.85" y="-590.86" font-family="Times,serif" font-size="14.00">священный пурпур.</text>
</g>
<!-- BarterGuy10&#45;&gt;BarterGuy11 -->
<g id="edge33" class="edge">
<title>BarterGuy10&#45;&gt;BarterGuy11</title>
<path fill="none" stroke="#003699" d="M1178.92,-749.51C1166.52,-737.08 1155.61,-723.05 1148.1,-707.54 1141.95,-694.81 1139.82,-679.93 1139.71,-665.82"/>
<polygon fill="#003699" stroke="#003699" points="1143.22,-666.31 1139.97,-656.22 1136.22,-666.13 1143.22,-666.31"/>
<text text-anchor="middle" x="1248.73" y="-694.24" font-family="Times,serif" font-size="14.00" fill="#003699">Где бы мне взять такую же</text>
<text text-anchor="middle" x="1248.73" y="-676.99" font-family="Times,serif" font-size="14.00" fill="#003699">симпатичную мантию?</text>
</g>
<!-- BarterGuy01&#45;&gt;combat -->
<g id="edge17" class="edge">
<title>BarterGuy01&#45;&gt;combat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M224.14,-73.47C235.7,-62.55 248.68,-50.31 259.39,-40.2"/>
<polygon fill="#555555" stroke="#555555" points="261.21,-43.35 266.08,-33.94 256.41,-38.26 261.21,-43.35"/>
</g>
<!-- BarterGuy00a&#45;&gt;combat -->
<g id="edge15" class="edge">
<title>BarterGuy00a&#45;&gt;combat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M324.9,-195.73C342.09,-169.36 371.22,-114.8 350.85,-73 342.82,-56.51 327.04,-43.57 312.6,-34.5"/>
<polygon fill="#555555" stroke="#555555" points="314.79,-31.14 304.4,-29.1 311.25,-37.18 314.79,-31.14"/>
</g>
<!-- BarterGuy00a&#45;&gt;BarterGuy01 -->
<g id="edge16" class="edge">
<title>BarterGuy00a&#45;&gt;BarterGuy01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M298.16,-197.33C281.94,-182.82 255.95,-159.58 233.97,-139.93"/>
<polygon fill="#555555" stroke="#555555" points="236.56,-137.65 226.77,-133.6 231.89,-142.87 236.56,-137.65"/>
</g>
<!-- BarterGuy04 -->
<g id="node19" class="node">
<title>BarterGuy04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="804.85" cy="-421.2" rx="152.38" ry="78.84"/>
<text text-anchor="middle" x="804.85" y="-459.65" font-family="Times,serif" font-size="14.00">Чадам Собора лучше не</text>
<text text-anchor="middle" x="804.85" y="-442.4" font-family="Times,serif" font-size="14.00">общаться с такими, как</text>
<text text-anchor="middle" x="804.85" y="-425.15" font-family="Times,serif" font-size="14.00">ты. Ты доставляешь массу</text>
<text text-anchor="middle" x="804.85" y="-407.9" font-family="Times,serif" font-size="14.00">неприятностей. Лучше</text>
<text text-anchor="middle" x="804.85" y="-390.65" font-family="Times,serif" font-size="14.00">уходи, иначе мне придется</text>
<text text-anchor="middle" x="804.85" y="-373.4" font-family="Times,serif" font-size="14.00">позвать на помощь.</text>
</g>
<!-- BarterGuy02a&#45;&gt;BarterGuy04 -->
<g id="edge21" class="edge">
<title>BarterGuy02a&#45;&gt;BarterGuy04</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M846.69,-594.63C841.98,-575.22 833.95,-542.12 826.18,-510.09"/>
<polygon fill="#555555" stroke="#555555" points="829.43,-509.63 823.67,-500.74 822.62,-511.29 829.43,-509.63"/>
</g>
<!-- BarterGuy05 -->
<g id="node20" class="node">
<title>BarterGuy05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="479.85" cy="-421.2" rx="155.03" ry="66.64"/>
<text text-anchor="middle" x="479.85" y="-451.02" font-family="Times,serif" font-size="14.00">Я не разговариваю с теми,</text>
<text text-anchor="middle" x="479.85" y="-433.77" font-family="Times,serif" font-size="14.00">кто направляет на меня</text>
<text text-anchor="middle" x="479.85" y="-416.52" font-family="Times,serif" font-size="14.00">оружие. Чада Собора давно</text>
<text text-anchor="middle" x="479.85" y="-399.27" font-family="Times,serif" font-size="14.00">уже переросли такой</text>
<text text-anchor="middle" x="479.85" y="-382.02" font-family="Times,serif" font-size="14.00">подход.</text>
</g>
<!-- BarterGuy02a&#45;&gt;BarterGuy05 -->
<g id="edge22" class="edge">
<title>BarterGuy02a&#45;&gt;BarterGuy05</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M839.96,-596.08C833.46,-587.62 824.58,-577.52 814.85,-570.54 748.05,-522.63 719.01,-533.34 643.85,-500.04 626.83,-492.5 608.94,-484.29 591.48,-476.13"/>
<polygon fill="#555555" stroke="#555555" points="593.37,-472.68 582.83,-471.61 590.4,-479.02 593.37,-472.68"/>
</g>
<!-- BarterGuy04&#45;&gt;BarterGuy01 -->
<g id="edge23" class="edge">
<title>BarterGuy04&#45;&gt;BarterGuy01</title>
<path fill="none" stroke="#009957" d="M813.74,-342.22C815.44,-285.22 806.72,-211 757.85,-170.1 726.7,-144.03 501.83,-124.15 345.62,-113.3"/>
<polygon fill="#009957" stroke="#009957" points="346.18,-109.76 335.97,-112.56 345.7,-116.74 346.18,-109.76"/>
<text text-anchor="middle" x="900.35" y="-216.3" font-family="Times,serif" font-size="14.00" fill="#009957">Не надо! Я не желаю вам</text>
<text text-anchor="middle" x="900.35" y="-199.05" font-family="Times,serif" font-size="14.00" fill="#009957">зла.</text>
</g>
<!-- BarterGuy04&#45;&gt;BarterGuyEnd -->
<g id="edge24" class="edge">
<title>BarterGuy04&#45;&gt;BarterGuyEnd</title>
<path fill="none" stroke="#992a00" d="M821.58,-342.57C831.01,-316.53 845.61,-289.77 868.1,-272.6 891.24,-254.94 969.06,-258.9 997.85,-254.6 1076.89,-242.8 1169.33,-227.71 1219.29,-219.44"/>
<polygon fill="#992a00" stroke="#992a00" points="1219.58,-222.78 1228.88,-217.69 1218.44,-215.87 1219.58,-222.78"/>
<text text-anchor="middle" x="920.23" y="-293.8" font-family="Times,serif" font-size="14.00" fill="#992a00">Как скажешь.</text>
</g>
<!-- BarterGuy05&#45;&gt;BarterGuy00a -->
<g id="edge25" class="edge">
<title>BarterGuy05&#45;&gt;BarterGuy00a</title>
<path fill="none" stroke="#000399" d="M424.17,-358.74C415.69,-347.74 407.55,-336.04 400.85,-324.35 388.66,-303.1 395.75,-292.78 381.85,-272.6 371,-256.84 355.01,-242.62 341.26,-232.07"/>
<polygon fill="#000399" stroke="#000399" points="343.75,-228.81 333.63,-225.68 339.58,-234.44 343.75,-228.81"/>
<text text-anchor="middle" x="490.85" y="-293.8" font-family="Times,serif" font-size="14.00" fill="#000399">Что за хрень ты несешь!</text>
</g>
<!-- BarterGuy06 -->
<g id="node21" class="node">
<title>BarterGuy06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="606.85" cy="-212.35" rx="141.77" ry="42.25"/>
<text text-anchor="middle" x="606.85" y="-224.93" font-family="Times,serif" font-size="14.00">Хорошо. Надеюсь, ты</text>
<text text-anchor="middle" x="606.85" y="-207.68" font-family="Times,serif" font-size="14.00">найдешь что&#45;то полезное</text>
<text text-anchor="middle" x="606.85" y="-190.43" font-family="Times,serif" font-size="14.00">для себя.</text>
</g>
<!-- BarterGuy05&#45;&gt;BarterGuy06 -->
<g id="edge26" class="edge">
<title>BarterGuy05&#45;&gt;BarterGuy06</title>
<path fill="none" stroke="#2f9900" d="M555.36,-362.55C566.65,-350.98 577.09,-338.11 584.85,-324.35 594.82,-306.67 600.32,-285.19 603.34,-265.85"/>
<polygon fill="#2f9900" stroke="#2f9900" points="606.93,-266.44 604.82,-256.06 600,-265.49 606.93,-266.44"/>
<text text-anchor="middle" x="693.35" y="-302.43" font-family="Times,serif" font-size="14.00" fill="#2f9900">Давай я уберу оружие, и</text>
<text text-anchor="middle" x="693.35" y="-285.18" font-family="Times,serif" font-size="14.00" fill="#2f9900">мы спокойно поторгуем.</text>
</g>
<!-- BarterGuy08&#45;&gt;BarterGuyEnd -->
<g id="edge30" class="edge">
<title>BarterGuy08&#45;&gt;BarterGuyEnd</title>
<path fill="none" stroke="#500099" d="M1690.97,-390.81C1695.01,-356.86 1695.41,-301.94 1662.85,-272.6 1633.34,-246.02 1342.88,-268.97 1305.85,-254.6 1295.26,-250.49 1285.25,-243.21 1277.01,-235.9"/>
<polygon fill="#500099" stroke="#500099" points="1279.77,-233.75 1270.11,-229.4 1274.95,-238.82 1279.77,-233.75"/>
<text text-anchor="middle" x="1710.23" y="-293.8" font-family="Times,serif" font-size="14.00" fill="#500099">Ры&#45;ы!</text>
</g>
<!-- BarterGuy12&#45;&gt;BarterGuyEnd -->
<g id="edge38" class="edge">
<title>BarterGuy12&#45;&gt;BarterGuyEnd</title>
<path fill="none" stroke="#1d0099" d="M1940.67,-383.18C1912.35,-369.17 1879.04,-353.85 1847.85,-342.35 1818.72,-331.62 1806.65,-340.86 1780.35,-324.35 1754.66,-308.23 1763.15,-285.83 1735.85,-272.6 1649.78,-230.9 1395.16,-288.81 1305.85,-254.6 1295.24,-250.54 1285.23,-243.27 1276.99,-235.95"/>
<polygon fill="#1d0099" stroke="#1d0099" points="1279.75,-233.79 1270.09,-229.44 1274.92,-238.87 1279.75,-233.79"/>
<text text-anchor="middle" x="1869.1" y="-293.8" font-family="Times,serif" font-size="14.00" fill="#1d0099">Спасибо, еще увидимся.</text>
</g>
<!-- BarterGuy14 -->
<g id="node27" class="node">
<title>BarterGuy14</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1475.85" cy="-212.35" rx="160.87" ry="30.05"/>
<text text-anchor="middle" x="1475.85" y="-216.3" font-family="Times,serif" font-size="14.00">Пожалуйста. Приятных тебе</text>
<text text-anchor="middle" x="1475.85" y="-199.05" font-family="Times,serif" font-size="14.00">дней и ночей.</text>
</g>
<!-- BarterGuy12&#45;&gt;BarterGuy14 -->
<g id="edge37" class="edge">
<title>BarterGuy12&#45;&gt;BarterGuy14</title>
<path fill="none" stroke="#994a00" d="M2009.03,-378.45C2005.17,-344.55 1994.06,-298.29 1962.85,-272.6 1915.58,-233.69 1767.78,-219.8 1647.29,-215.09"/>
<polygon fill="#994a00" stroke="#994a00" points="1647.58,-211.57 1637.45,-214.69 1647.32,-218.56 1647.58,-211.57"/>
<text text-anchor="middle" x="2093.73" y="-302.43" font-family="Times,serif" font-size="14.00" fill="#994a00">Давай посмотрим, что там</text>
<text text-anchor="middle" x="2093.73" y="-285.18" font-family="Times,serif" font-size="14.00" fill="#994a00">у тебя есть.</text>
</g>
<!-- BarterGuy13&#45;&gt;BarterGuyEnd -->
<g id="edge40" class="edge">
<title>BarterGuy13&#45;&gt;BarterGuyEnd</title>
<path fill="none" stroke="#99003c" d="M1292.36,-362.21C1282.09,-350.72 1272.83,-337.96 1266.35,-324.35 1253.9,-298.19 1252.42,-264.66 1253.34,-241.34"/>
<polygon fill="#99003c" stroke="#99003c" points="1256.88,-241.66 1253.97,-231.47 1249.9,-241.25 1256.88,-241.66"/>
<text text-anchor="middle" x="1355.1" y="-293.8" font-family="Times,serif" font-size="14.00" fill="#99003c">Спасибо, еще увидимся.</text>
</g>
<!-- BarterGuy13&#45;&gt;BarterGuy14 -->
<g id="edge39" class="edge">
<title>BarterGuy13&#45;&gt;BarterGuy14</title>
<path fill="none" stroke="#109900" d="M1421.8,-359.33C1430.39,-348.26 1438.48,-336.39 1444.85,-324.35 1456.63,-302.12 1464.31,-274.94 1469.09,-253.05"/>
<polygon fill="#109900" stroke="#109900" points="1472.68,-253.95 1471.26,-243.45 1465.82,-252.54 1472.68,-253.95"/>
<text text-anchor="middle" x="1560.73" y="-302.43" font-family="Times,serif" font-size="14.00" fill="#109900">Давай посмотрим, что там</text>
<text text-anchor="middle" x="1560.73" y="-285.18" font-family="Times,serif" font-size="14.00" fill="#109900">у тебя есть.</text>
</g>
<!-- BarterGuy11&#45;&gt;BarterGuy01 -->
<g id="edge35" class="edge">
<title>BarterGuy11&#45;&gt;BarterGuy01</title>
<path fill="none" stroke="#99008f" d="M1105.17,-571.84C1099.68,-565.64 1094.4,-559.11 1089.85,-552.54 1075.15,-531.29 1073.72,-524.31 1064.85,-500.04 1037.16,-424.22 1034.29,-403.58 1018.85,-324.35 1005.63,-256.5 1048.87,-217.82 998.85,-170.1 953.18,-126.53 573.55,-111.58 352.31,-106.54"/>
<polygon fill="#99008f" stroke="#99008f" points="352.65,-103.02 342.57,-106.3 352.49,-110.02 352.65,-103.02"/>
<text text-anchor="middle" x="1116.35" y="-302.43" font-family="Times,serif" font-size="14.00" fill="#99008f">Индюк надутый. Значит, я</text>
<text text-anchor="middle" x="1116.35" y="-285.18" font-family="Times,serif" font-size="14.00" fill="#99008f">заберу твою одежду!</text>
</g>
<!-- BarterGuy11&#45;&gt;BarterGuyEnd -->
<g id="edge34" class="edge">
<title>BarterGuy11&#45;&gt;BarterGuyEnd</title>
<path fill="none" stroke="#629900" d="M1120.49,-570.83C1086.87,-512.89 1039.36,-406.87 1095.1,-342.35 1131.15,-300.63 1175.44,-359.59 1217.85,-324.35 1242.31,-304.03 1251.07,-267.23 1254.18,-241.59"/>
<polygon fill="#629900" stroke="#629900" points="1257.75,-241.99 1255.25,-231.7 1250.79,-241.31 1257.75,-241.99"/>
<text text-anchor="middle" x="1149.23" y="-416.52" font-family="Times,serif" font-size="14.00" fill="#629900">Ясно, спасибо!</text>
</g>
<!-- BarterGuy11&#45;&gt;BarterGuy13 -->
<g id="edge36" class="edge">
<title>BarterGuy11&#45;&gt;BarterGuy13</title>
<path fill="none" stroke="#009976" d="M1176.02,-571.3C1189.55,-553.91 1206.46,-533.97 1223.85,-518.04 1237.5,-505.53 1252.89,-493.39 1268.34,-482.18"/>
<polygon fill="#009976" stroke="#009976" points="1269.81,-484.72 1275.92,-476.06 1265.75,-479.02 1269.81,-484.72"/>
<text text-anchor="middle" x="1286.85" y="-539.24" font-family="Times,serif" font-size="14.00" fill="#009976">Ну ладно. Что ты</text>
<text text-anchor="middle" x="1286.85" y="-521.99" font-family="Times,serif" font-size="14.00" fill="#009976">продаешь?</text>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (Only_Once) then begin\n  Only_Once := 0;\n  critter_add_trait(self_obj, 1, 6, 20);\n  critter_add_trait(self_obj, 1, 5, 69);\n  Shopkepper_Ptr := self_obj;\nend\nif (script_action == 21) then begin\n  call look_at_p_proc;\nend\nelse begin\n  if (script_action == 22) then begin\n    call timed_event_p_proc;\n  end\n  else begin\n    if (script_action == 4) then begin\n      call pickup_p_proc;\n    end\n    else begin\n      if (script_action == 11) then begin\n        call talk_p_proc;\n      end\n      else begin\n        if (script_action == 12) then begin\n          call critter_p_proc;\n        end\n        else begin\n          if (script_action == 18) then begin\n            call destroy_p_proc;\n          end\n        end\n      end\n    end\n  end\nend\n","combat":"hostile := 1;\n","critter_p_proc":"if (hostile) then begin\n  hostile := 0;\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\n","pickup_p_proc":"if (source_obj == dude_obj) then begin\n  hostile := 1;\nend\n","talk_p_proc":"variable LVar0 := 0;\nvariable LVar1 := 0;\ncall get_reaction;\nLVar1 := obj_carrying_pid_obj(self_obj, 113);\nrm_obj_from_inven(self_obj, LVar1);\nmove_obj_inven_to_obj(Shop_Ptr, self_obj);\nstart_gdialog(843, self_obj, 4, -1, -1);\ngsay_start;\nif (Caught_Stealing) then begin\n  call BarterGuy00;\nend\nelse begin\n  if ((obj_item_subtype(critter_inven_obj(dude_obj, 1)) == 3) or (obj_item_subtype(critter_inven_obj(dude_obj, 2)) == 3) or (global_var(195) == 1)) then begin\n    call BarterGuy02;\n  end\n  else begin\n    if (obj_pid(critter_inven_obj(dude_obj, 0)) == 113) then begin\n      call BarterGuy07;\n    end\n    else begin\n      call BarterGuy10;\n    end\n  end\nend\ngsay_end;\nend_dialogue;\nmove_obj_inven_to_obj(self_obj, Shop_Ptr);\nadd_obj_to_inven(self_obj, LVar1);\nwield_obj_critter(self_obj, LVar1);\nif (Go_Balistic) then begin\n  LVar0 := create_object_sid(12, 0, 0, -1);\n  add_obj_to_inven(self_obj, LVar0);\n  wield_obj_critter(self_obj, LVar0);\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(159, global_var(159) + 1);\n  if ((global_var(159) % 2) == 0) then begin\n    set_global_var(155, global_var(155) - 1);\n  end\nend\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(843, 100));\n","timed_event_p_proc":"if (fixed_param == 1) then begin\n  Here_To_Shop := 1;\n  dialogue_system_enter;\nend\nelse begin\n  if (fixed_param == 2) then begin\n    Caught_Stealing := 1;\n    dialogue_system_enter;\n  end\nend\n","BarterGuy00":"gsay_reply(843, 101);\ngiq_option(-3, 843, 102, BarterGuy01, 50);\ngiq_option(4, 843, 103, BarterGuy01, 50);\ngiq_option(5, 843, 104, BarterGuy00a, 50);\n","BarterGuy00a":"if (is_success(roll_vs_skill(dude_obj, 14, 0))) then begin\n  call combat;\nend\nelse begin\n  call BarterGuy01;\nend\n","BarterGuy01":"gsay_message(843, 105, 51);\ncall combat;\n","BarterGuy02":"gsay_reply(843, 106);\ngiq_option(-3, 843, 107, BarterGuyEnd, 50);\ngiq_option(4, 843, 108, BarterGuy03, 50);\ngiq_option(6, 843, 109, BarterGuy02a, 50);\n","BarterGuy02a":"if (global_var(195) == 1) then begin\n  call BarterGuy04;\nend\nelse begin\n  call BarterGuy05;\nend\n","BarterGuy03":"gsay_message(843, 110, 50);\n","BarterGuy04":"gsay_reply(843, 111);\ngiq_option(6, 843, 112, BarterGuy01, 50);\ngiq_option(6, 843, 113, BarterGuyEnd, 50);\n","BarterGuy05":"gsay_reply(843, 114);\ngiq_option(6, 843, 115, BarterGuy00a, 50);\ngiq_option(6, 843, 116, BarterGuy06, 50);\n","BarterGuy06":"gsay_message(843, 117, 50);\n","BarterGuy07":"gsay_reply(843, 118);\ngiq_option(-3, 843, 119, BarterGuy08, 50);\ngiq_option(4, 843, 120, BarterGuy12, 50);\ngiq_option(4, 843, 121, BarterGuy09, 50);\n","BarterGuy08":"gsay_reply(843, 122);\ngiq_option(-3, 843, 123, BarterGuyEnd, 50);\n","BarterGuy09":"gsay_message(843, 124, 50);\n","BarterGuy10":"gsay_reply(843, 125);\ngiq_option(-3, 843, 126, BarterGuy08, 50);\ngiq_option(4, 843, 127, BarterGuy13, 50);\ngiq_option(5, 843, 128, BarterGuy11, 50);\n","BarterGuy11":"gsay_reply(843, 129);\ngiq_option(4, 843, 130, BarterGuyEnd, 50);\ngiq_option(4, 843, 131, BarterGuy01, 50);\ngiq_option(4, 843, 132, BarterGuy13, 50);\n","BarterGuy12":"gsay_reply(843, 133);\ngiq_option(4, 843, 136, BarterGuy14, 50);\ngiq_option(4, 843, 134, BarterGuyEnd, 50);\n","BarterGuy13":"gsay_reply(843, 135);\ngiq_option(4, 843, 136, BarterGuy14, 50);\ngiq_option(4, 843, 134, BarterGuyEnd, 50);\n","BarterGuy14":"gdialog_mod_barter(-10);\ngsay_message(843, 137, 50);\n","BarterGuyEnd":"[]","get_reaction":"if (local_var(2) == 0) then begin\n  set_local_var(0, 50);\n  set_local_var(1, 2);\n  set_local_var(2, 1);\n  set_local_var(0, local_var(0) + (5 * get_critter_stat(dude_obj, 3)) - 25);\n  set_local_var(0, local_var(0) + (10 * has_trait(0, dude_obj, 10)));\n  if (has_trait(0, dude_obj, 39)) then begin\n    if (global_var(155) > 0) then begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n  end\n  else begin\n    if (local_var(3) == 1) then begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n  end\n  if (global_var(158) > 2) then begin\n    set_local_var(0, local_var(0) - 30);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_local_var(0, local_var(0) + 20);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_local_var(0, local_var(0) - 20);\n  end\n  call ReactToLevel;\nend\n","ReactToLevel":"if (local_var(0) <= 25) then begin\n  set_local_var(1, 1);\nend\nelse begin\n  if (local_var(0) <= 75) then begin\n    set_local_var(1, 2);\n  end\n  else begin\n    set_local_var(1, 3);\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>