<!DOCTYPE html><html><head><title>VICTOR</title><meta charset="utf-8" /></head><body><svg width="1008pt" height="803pt"
 viewBox="0.00 0.00 1008.12 802.72" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 798.72)">
<title>VICTOR</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-798.72 1004.12,-798.72 1004.12,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="367" cy="-776.72" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node"><title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-662.323" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;critter_p_proc -->
<g id="edge1" class="edge"><title>start&#45;&gt;critter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M340.063,-773.746C274.412,-768.499 108.216,-752.46 63,-721.72 51.5347,-713.925 43.0527,-701.145 37.2116,-689.525"/>
<polygon fill="#555555" stroke="#555555" points="40.2711,-687.8 32.9187,-680.171 33.9092,-690.72 40.2711,-687.8"/>
</g>
<!-- look_at_p_proc -->
<g id="node3" class="node"><title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="179" cy="-662.323" rx="107.46" ry="59.2941"/>
<text text-anchor="middle" x="179" y="-689.123" font-family="Times,serif" font-size="14.00">You see Victor.</text>
<text text-anchor="middle" x="179" y="-674.123" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="179" y="-643.123" font-family="Times,serif" font-size="14.00">You see a gang membe</text>
<text text-anchor="middle" x="179" y="-628.123" font-family="Times,serif" font-size="14.00">r.</text>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge2" class="edge"><title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M347.589,-764.115C326.748,-751.655 292.254,-731.033 259.879,-711.677"/>
<polygon fill="#555555" stroke="#555555" points="261.64,-708.652 251.261,-706.525 258.048,-714.66 261.64,-708.652"/>
</g>
<!-- destroy_p_proc -->
<g id="node4" class="node"><title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="331" cy="-662.323" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge3" class="edge"><title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M361.532,-758.649C355.684,-740.389 346.331,-711.187 339.516,-689.911"/>
<polygon fill="#555555" stroke="#555555" points="342.785,-688.642 336.401,-680.186 336.118,-690.777 342.785,-688.642"/>
</g>
<!-- pickup_p_proc -->
<g id="node5" class="node"><title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="403" cy="-662.323" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;pickup_p_proc -->
<g id="edge4" class="edge"><title>start&#45;&gt;pickup_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M372.468,-758.649C378.316,-740.389 387.669,-711.187 394.484,-689.911"/>
<polygon fill="#555555" stroke="#555555" points="397.882,-690.777 397.599,-680.186 391.215,-688.642 397.882,-690.777"/>
</g>
<!-- talk_p_proc -->
<g id="node6" class="node"><title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="482" cy="-662.323" rx="34.394" ry="18"/>
<text text-anchor="middle" x="482" y="-658.623" font-family="Times,serif" font-size="14.00">Zzzzz</text>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge5" class="edge"><title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M385.939,-763.766C401.2,-753.626 422.72,-738.144 439,-721.72 449.071,-711.56 458.673,-698.915 466.239,-687.992"/>
<polygon fill="#555555" stroke="#555555" points="469.153,-689.93 471.839,-679.681 463.348,-686.018 469.153,-689.93"/>
</g>
<!-- timed_event_p_proc -->
<g id="node7" class="node"><title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="605" cy="-662.323" rx="70.3881" ry="18"/>
<text text-anchor="middle" x="605" y="-658.623" font-family="Times,serif" font-size="14.00">Aaaaggghhh . . .</text>
</g>
<!-- start&#45;&gt;timed_event_p_proc -->
<g id="edge6" class="edge"><title>start&#45;&gt;timed_event_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M388.095,-765.127C392.934,-762.874 398.098,-760.609 403,-758.72 455.871,-738.346 474.292,-747.002 525,-721.72 544.087,-712.204 563.458,-698.201 578.357,-686.292"/>
<polygon fill="#555555" stroke="#555555" points="580.612,-688.97 586.144,-679.934 576.185,-683.548 580.612,-688.97"/>
</g>
<!-- sleeping -->
<g id="node8" class="node"><title>sleeping</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-539.056" rx="27" ry="18"/>
</g>
<!-- critter_p_proc&#45;&gt;sleeping -->
<g id="edge7" class="edge"><title>critter_p_proc&#45;&gt;sleeping</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M27,-644.206C27,-624.163 27,-590.714 27,-567.139"/>
<polygon fill="#555555" stroke="#555555" points="30.5001,-567.086 27,-557.086 23.5001,-567.086 30.5001,-567.086"/>
</g>
<!-- Victor06 -->
<g id="node10" class="node"><title>Victor06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="379" cy="-539.056" rx="92.7622" ry="26.7407"/>
<text text-anchor="middle" x="379" y="-542.856" font-family="Times,serif" font-size="14.00">Hello again, my arti</text>
<text text-anchor="middle" x="379" y="-527.856" font-family="Times,serif" font-size="14.00">stic friend.</text>
</g>
<!-- talk_p_proc&#45;&gt;Victor06 -->
<g id="edge8" class="edge"><title>talk_p_proc&#45;&gt;Victor06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M470.852,-645.042C462.468,-633.089 450.495,-616.619 439,-602.926 430.427,-592.714 420.622,-582.06 411.458,-572.486"/>
<polygon fill="#555555" stroke="#555555" points="413.751,-569.822 404.282,-565.069 408.72,-574.69 413.751,-569.822"/>
</g>
<!-- Victor01 -->
<g id="node11" class="node"><title>Victor01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="635" cy="-539.056" rx="102.561" ry="26.7407"/>
<text text-anchor="middle" x="635" y="-542.856" font-family="Times,serif" font-size="14.00">New blood. Heh. Heh </text>
<text text-anchor="middle" x="635" y="-527.856" font-family="Times,serif" font-size="14.00">heh.</text>
</g>
<!-- talk_p_proc&#45;&gt;Victor01 -->
<g id="edge9" class="edge"><title>talk_p_proc&#45;&gt;Victor01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M491.7,-645.044C499.758,-632.471 512.117,-615.204 526,-602.926 541.189,-589.493 559.693,-577.535 577.112,-567.75"/>
<polygon fill="#555555" stroke="#555555" points="579.005,-570.704 586.098,-562.834 575.645,-564.563 579.005,-570.704"/>
</g>
<!-- map_enter_p_proc -->
<g id="node9" class="node"><title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="439" cy="-776.72" rx="27" ry="18"/>
</g>
<!-- Victor04 -->
<g id="node16" class="node"><title>Victor04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="271" cy="-142.296" rx="96.7474" ry="69.0935"/>
<text text-anchor="middle" x="271" y="-176.096" font-family="Times,serif" font-size="14.00">Don&#39;t say that! My m</text>
<text text-anchor="middle" x="271" y="-161.096" font-family="Times,serif" font-size="14.00">other said that! I&#39;l</text>
<text text-anchor="middle" x="271" y="-146.096" font-family="Times,serif" font-size="14.00">l make you pay! I&#39;m </text>
<text text-anchor="middle" x="271" y="-131.096" font-family="Times,serif" font-size="14.00">a good boy,</text>
<text text-anchor="middle" x="271" y="-116.096" font-family="Times,serif" font-size="14.00"> right m</text>
<text text-anchor="middle" x="271" y="-101.096" font-family="Times,serif" font-size="14.00">ommy?</text>
</g>
<!-- Victor06&#45;&gt;Victor04 -->
<g id="edge18" class="edge"><title>Victor06&#45;&gt;Victor04</title>
<path fill="none" stroke="#009900" d="M322.538,-517.665C290.976,-503.018 254.387,-479.853 236,-446.186 197.567,-375.814 216.869,-282.677 239.038,-218.352"/>
<polygon fill="#009900" stroke="#009900" points="242.425,-219.275 242.468,-208.681 235.827,-216.936 242.425,-219.275"/>
<text text-anchor="middle" x="289.5" y="-388.189" font-family="Times,serif" font-size="14.00" fill="#009900">Victor, did I ever t</text>
<text text-anchor="middle" x="289.5" y="-373.189" font-family="Times,serif" font-size="14.00" fill="#009900">ell you that you&#39;re </text>
<text text-anchor="middle" x="289.5" y="-358.189" font-family="Times,serif" font-size="14.00" fill="#009900">a real sicko?</text>
</g>
<!-- VictorEnd -->
<g id="node18" class="node"><title>VictorEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="379" cy="-376.889" rx="27" ry="18"/>
</g>
<!-- Victor06&#45;&gt;VictorEnd -->
<g id="edge19" class="edge"><title>Victor06&#45;&gt;VictorEnd</title>
<path fill="none" stroke="#99002d" d="M379,-511.966C379,-482.597 379,-435.095 379,-405.225"/>
<polygon fill="#99002d" stroke="#99002d" points="382.5,-405.085 379,-395.085 375.5,-405.085 382.5,-405.085"/>
<text text-anchor="middle" x="398.5" y="-475.486" font-family="Times,serif" font-size="14.00" fill="#99002d">Uh, hi.</text>
</g>
<!-- Victor02 -->
<g id="node12" class="node"><title>Victor02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="476" cy="-142.296" rx="90.5193" ry="37.4533"/>
<text text-anchor="middle" x="476" y="-153.596" font-family="Times,serif" font-size="14.00">No, actually, I thin</text>
<text text-anchor="middle" x="476" y="-138.596" font-family="Times,serif" font-size="14.00">k I&#39;ll keep you arou</text>
<text text-anchor="middle" x="476" y="-123.596" font-family="Times,serif" font-size="14.00">nd for a while.</text>
</g>
<!-- Victor01&#45;&gt;Victor02 -->
<g id="edge10" class="edge"><title>Victor01&#45;&gt;Victor02</title>
<path fill="none" stroke="#002699" d="M559.62,-520.803C519.963,-507.483 474.756,-484.6 451,-446.186 401.87,-366.743 432.644,-252.331 456.305,-189.303"/>
<polygon fill="#002699" stroke="#002699" points="459.698,-190.232 460.028,-179.642 453.167,-187.714 459.698,-190.232"/>
<text text-anchor="middle" x="510" y="-380.689" font-family="Times,serif" font-size="14.00" fill="#002699">Um, yeah. Uh, I thin</text>
<text text-anchor="middle" x="510" y="-365.689" font-family="Times,serif" font-size="14.00" fill="#002699">k I&#39;ll go now.</text>
</g>
<!-- Victor03 -->
<g id="node13" class="node"><title>Victor03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="679" cy="-376.889" rx="101.233" ry="69.0935"/>
<text text-anchor="middle" x="679" y="-410.689" font-family="Times,serif" font-size="14.00">Why do you say that?</text>
<text text-anchor="middle" x="679" y="-395.689" font-family="Times,serif" font-size="14.00"> I&#39;m quite happy. I&#39;</text>
<text text-anchor="middle" x="679" y="-380.689" font-family="Times,serif" font-size="14.00">m very happy because</text>
<text text-anchor="middle" x="679" y="-365.689" font-family="Times,serif" font-size="14.00"> there</text>
<text text-anchor="middle" x="679" y="-350.689" font-family="Times,serif" font-size="14.00"> are lots of </text>
<text text-anchor="middle" x="679" y="-335.689" font-family="Times,serif" font-size="14.00">things that bleed.</text>
</g>
<!-- Victor01&#45;&gt;Victor03 -->
<g id="edge11" class="edge"><title>Victor01&#45;&gt;Victor03</title>
<path fill="none" stroke="#539900" d="M642.167,-511.966C646.477,-496.279 652.208,-475.417 657.863,-454.833"/>
<polygon fill="#539900" stroke="#539900" points="661.263,-455.666 660.538,-445.096 654.513,-453.811 661.263,-455.666"/>
<text text-anchor="middle" x="713.5" y="-482.986" font-family="Times,serif" font-size="14.00" fill="#539900">You&#39;re not a very ha</text>
<text text-anchor="middle" x="713.5" y="-467.986" font-family="Times,serif" font-size="14.00" fill="#539900">ppy person, are you?</text>
</g>
<!-- Victor07 -->
<g id="node14" class="node"><title>Victor07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="899" cy="-376.889" rx="101.233" ry="26.7407"/>
<text text-anchor="middle" x="899" y="-380.689" font-family="Times,serif" font-size="14.00">Ha! Ha! Heh heh hee!</text>
<text text-anchor="middle" x="899" y="-365.689" font-family="Times,serif" font-size="14.00"> Ho ho ha!</text>
</g>
<!-- Victor01&#45;&gt;Victor07 -->
<g id="edge12" class="edge"><title>Victor01&#45;&gt;Victor07</title>
<path fill="none" stroke="#99007f" d="M712.158,-521.241C733.995,-514.649 757.193,-505.806 777,-494.186 814.283,-472.313 849.161,-436.961 871.995,-410.968"/>
<polygon fill="#99007f" stroke="#99007f" points="874.794,-413.081 878.684,-403.227 869.498,-408.505 874.794,-413.081"/>
<text text-anchor="middle" x="844.5" y="-475.486" font-family="Times,serif" font-size="14.00" fill="#99007f">Huh huh!</text>
</g>
<!-- VictorCombat -->
<g id="node15" class="node"><title>VictorCombat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="396" cy="-18" rx="27" ry="18"/>
</g>
<!-- Victor02&#45;&gt;VictorCombat -->
<g id="edge13" class="edge"><title>Victor02&#45;&gt;VictorCombat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M452.861,-105.923C439.736,-85.8589 423.646,-61.2626 411.936,-43.3611"/>
<polygon fill="#555555" stroke="#555555" points="414.654,-41.1221 406.25,-34.6696 408.796,-44.9541 414.654,-41.1221"/>
</g>
<!-- Victor03&#45;&gt;Victor02 -->
<g id="edge15" class="edge"><title>Victor03&#45;&gt;Victor02</title>
<path fill="none" stroke="#995900" d="M625.438,-317.723C618.645,-308.697 612.248,-299.177 607,-289.593 593.565,-265.059 604.035,-252.512 588,-229.593 574.332,-210.058 554.914,-192.924 536.076,-179.181"/>
<polygon fill="#995900" stroke="#995900" points="537.956,-176.225 527.771,-173.306 533.913,-181.939 537.956,-176.225"/>
<text text-anchor="middle" x="652" y="-255.893" font-family="Times,serif" font-size="14.00" fill="#995900">Um, yeah. Bye.</text>
</g>
<!-- Victor03&#45;&gt;Victor04 -->
<g id="edge14" class="edge"><title>Victor03&#45;&gt;Victor04</title>
<path fill="none" stroke="#009986" d="M606.964,-328.075C593.119,-320.352 578.427,-313.099 564,-307.593 525.074,-292.738 510.191,-306.246 472,-289.593 423.43,-268.414 375.219,-233.903 338.192,-203.718"/>
<polygon fill="#009986" stroke="#009986" points="340.408,-201.008 330.465,-197.349 335.955,-206.41 340.408,-201.008"/>
<text text-anchor="middle" x="528" y="-263.393" font-family="Times,serif" font-size="14.00" fill="#009986">You&#39;re a real sicko,</text>
<text text-anchor="middle" x="528" y="-248.393" font-family="Times,serif" font-size="14.00" fill="#009986"> you know that?</text>
</g>
<!-- Victor05 -->
<g id="node17" class="node"><title>Victor05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="723" cy="-142.296" rx="105.218" ry="26.7407"/>
<text text-anchor="middle" x="723" y="-146.096" font-family="Times,serif" font-size="14.00">Someone who understa</text>
<text text-anchor="middle" x="723" y="-131.096" font-family="Times,serif" font-size="14.00">nds me! At last!</text>
</g>
<!-- Victor03&#45;&gt;Victor05 -->
<g id="edge16" class="edge"><title>Victor03&#45;&gt;Victor05</title>
<path fill="none" stroke="#2d0099" d="M696.83,-308.672C698.326,-302.243 699.744,-295.806 701,-289.593 708.523,-252.373 714.694,-209.35 718.566,-179.64"/>
<polygon fill="#2d0099" stroke="#2d0099" points="722.087,-179.696 719.887,-169.332 715.144,-178.806 722.087,-179.696"/>
<text text-anchor="middle" x="767" y="-278.393" font-family="Times,serif" font-size="14.00" fill="#2d0099">Ah, yes, art appreci</text>
<text text-anchor="middle" x="767" y="-263.393" font-family="Times,serif" font-size="14.00" fill="#2d0099">ation. Uh, I can und</text>
<text text-anchor="middle" x="767" y="-248.393" font-family="Times,serif" font-size="14.00" fill="#2d0099">erstand that. I thin</text>
<text text-anchor="middle" x="767" y="-233.393" font-family="Times,serif" font-size="14.00" fill="#2d0099">k.</text>
</g>
<!-- VictorDies -->
<g id="node19" class="node"><title>VictorDies</title>
<ellipse fill="#ffffff" stroke="#000000" cx="899" cy="-142.296" rx="27" ry="18"/>
</g>
<!-- Victor07&#45;&gt;VictorDies -->
<g id="edge20" class="edge"><title>Victor07&#45;&gt;VictorDies</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M899,-349.66C899,-305.318 899,-215.966 899,-170.787"/>
<polygon fill="#555555" stroke="#555555" points="902.5,-170.562 899,-160.562 895.5,-170.562 902.5,-170.562"/>
</g>
<!-- Victor04&#45;&gt;VictorCombat -->
<g id="edge17" class="edge"><title>Victor04&#45;&gt;VictorCombat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M327.648,-85.8734C344.017,-69.8583 360.927,-53.3147 373.832,-40.6889"/>
<polygon fill="#555555" stroke="#555555" points="376.608,-42.8687 381.309,-33.3735 371.713,-37.8651 376.608,-42.8687"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 12) then begin\n  call critter_p_proc;\nend\nelse begin\n  if (script_action == 21) then begin\n    call look_at_p_proc;\n  end\n  else begin\n    if (script_action == 18) then begin\n      call destroy_p_proc;\n    end\n    else begin\n      if (script_action == 4) then begin\n        call pickup_p_proc;\n      end\n      else begin\n        if (script_action == 11) then begin\n          call talk_p_proc;\n        end\n        else begin\n          if (script_action == 22) then begin\n            call timed_event_p_proc;\n          end\n        end\n      end\n    end\n  end\nend\n","critter_p_proc":"if (hostile) then begin\n  hostile := 0;\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nif (global_var(555) != 2) then begin\n  call sleeping;\nend\n","look_at_p_proc":"script_overrides;\nif (local_var(4)) then begin\n  display_msg(message_str(386, 100));\nend\nelse begin\n  display_msg(message_str(386, 101));\nend\n","map_enter_p_proc":"home_tile := 13907;\nsleep_tile := 13097;\nsleep_time := 2203;\nwake_time := 707;\ncritter_add_trait(self_obj, 1, 6, 14);\nif (global_var(555) == 2) then begin\n  destroy_object(self_obj);\nend\n","pickup_p_proc":"hostile := 1;\n","talk_p_proc":"if (local_var(5)) then begin\n  float_msg(self_obj, message_str(386, 116), 0);\nend\nelse begin\n  start_gdialog(386, self_obj, 4, -1, -1);\n  gsay_start;\n  if (local_var(4)) then begin\n    call Victor06;\n  end\n  else begin\n    call Victor01;\n  end\n  gsay_end;\n  end_dialogue;\nend\n","timed_event_p_proc":"if (obj_can_hear_obj(dude_obj, self_obj)) then begin\n  float_msg(self_obj, message_str(386, 102), 5);\nend\ncritter_dmg(self_obj, 250, 0);\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(160, global_var(160) + 1);\n  if ((global_var(160) % 6) == 0) then begin\n    set_global_var(155, global_var(155) + 1);\n  end\nend\n","Victor01":"set_local_var(4, 1);\ngsay_reply(386, 103);\ngiq_option(4, 386, 104, Victor02, 50);\ngiq_option(4, 386, 105, Victor03, 50);\ngiq_option(-3, 386, 106, Victor07, 50);\n","Victor02":"gsay_message(386, 107, 50);\ncall VictorCombat;\n","Victor03":"gsay_reply(386, 108);\ngiq_option(4, 386, 109, Victor04, 50);\ngiq_option(4, 386, 110, Victor02, 50);\ngiq_option(6, 386, 111, Victor05, 50);\n","Victor04":"gsay_message(386, 112, 50);\ncall VictorCombat;\n","Victor05":"gsay_message(386, 113, 50);\n","Victor06":"gsay_reply(386, 114);\ngiq_option(4, 386, 117, Victor04, 50);\ngiq_option(4, 386, 118, VictorEnd, 50);\n","Victor07":"gsay_message(386, 115, 50);\ncall VictorDies;\n","VictorEnd":"[]","VictorCombat":"hostile := 1;\n","VictorDies":"add_timer_event(self_obj, game_ticks(5), 1);\n","sleeping":"if (local_var(5) == 1) then begin\n  if (not(night_person) and (game_time_hour >= wake_time) and (game_time_hour < sleep_time) or (night_person and ((game_time_hour >= wake_time) or (game_time_hour < sleep_time)))) then begin\n    if (((game_time_hour - wake_time) < 10) and ((game_time_hour - wake_time) > 0)) then begin\n      if (tile_num(self_obj) != home_tile) then begin\n        animate_move_obj_to_tile(self_obj, home_tile, 0);\n      end\n      else begin\n        set_local_var(5, 0);\n      end\n    end\n    else begin\n      move_to(self_obj, home_tile, elevation(self_obj));\n      if (tile_num(self_obj) == home_tile) then begin\n        set_local_var(5, 0);\n      end\n    end\n  end\nend\nelse begin\n  if (night_person and (game_time_hour >= sleep_time) and (game_time_hour < wake_time) or (not(night_person) and ((game_time_hour >= sleep_time) or (game_time_hour < wake_time)))) then begin\n    if (((game_time_hour - sleep_time) < 10) and ((game_time_hour - sleep_time) > 0)) then begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        animate_move_obj_to_tile(self_obj, self_obj, 0);\n      end\n      else begin\n        set_local_var(5, 1);\n      end\n    end\n    else begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        move_to(self_obj, sleep_tile, elevation(self_obj));\n      end\n      else begin\n        set_local_var(5, 1);\n      end\n    end\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>