<!DOCTYPE html><html><head><title>SETSCTDR</title><meta charset="utf-8" /></head><body><svg width="885pt" height="654pt"
 viewBox="0.00 0.00 884.50 654.05" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 650.046)">
<title>SETSCTDR</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-650.046 880.505,-650.046 880.505,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="92.631" cy="-576.749" rx="92.7622" ry="69.0935"/>
<text text-anchor="middle" x="92.631" y="-610.549" font-family="Times,serif" font-size="14.00">You gain </text>
<text text-anchor="middle" x="92.631" y="-595.549" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="92.631" y="-580.549" font-family="Times,serif" font-size="14.00"> exper</text>
<text text-anchor="middle" x="92.631" y="-565.549" font-family="Times,serif" font-size="14.00">ience points for fin</text>
<text text-anchor="middle" x="92.631" y="-550.549" font-family="Times,serif" font-size="14.00">ding the secret door</text>
<text text-anchor="middle" x="92.631" y="-535.549" font-family="Times,serif" font-size="14.00">.</text>
</g>
<!-- use_door -->
<g id="node2" class="node"><title>use_door</title>
<ellipse fill="#ffffff" stroke="#000000" cx="65.631" cy="-391.55" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;use_door -->
<g id="edge1" class="edge"><title>start&#45;&gt;use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M69.81,-509.351C64.0817,-478.411 59.9431,-443.312 59.7057,-419.737"/>
<polygon fill="#555555" stroke="#555555" points="63.21,-419.529 59.8956,-409.466 56.2112,-419.4 63.21,-419.529"/>
</g>
<!-- start&#45;&gt;use_door -->
<g id="edge2" class="edge"><title>start&#45;&gt;use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M82.6156,-507.793C78.1069,-477.201 73.0417,-442.833 69.6253,-419.652"/>
<polygon fill="#555555" stroke="#555555" points="73.0557,-418.922 68.1349,-409.54 66.1305,-419.943 73.0557,-418.922"/>
</g>
<!-- start&#45;&gt;use_door -->
<g id="edge5" class="edge"><title>start&#45;&gt;use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M95.649,-507.272C92.1236,-476.073 85.8196,-441.044 79.0668,-417.994"/>
<polygon fill="#555555" stroke="#555555" points="82.3419,-416.746 75.941,-408.304 75.6799,-418.895 82.3419,-416.746"/>
</g>
<!-- failure -->
<g id="node3" class="node"><title>failure</title>
<ellipse fill="#ffffff" stroke="#000000" cx="114.631" cy="-173.823" rx="102.561" ry="90.5193"/>
<text text-anchor="middle" x="114.631" y="-222.623" font-family="Times,serif" font-size="14.00">You accidentally set</text>
<text text-anchor="middle" x="114.631" y="-207.623" font-family="Times,serif" font-size="14.00"> off the explosive, </text>
<text text-anchor="middle" x="114.631" y="-192.623" font-family="Times,serif" font-size="14.00">because you were sma</text>
<text text-anchor="middle" x="114.631" y="-177.623" font-family="Times,serif" font-size="14.00">rt enough</text>
<text text-anchor="middle" x="114.631" y="-162.623" font-family="Times,serif" font-size="14.00"> to find i</text>
<text text-anchor="middle" x="114.631" y="-147.623" font-family="Times,serif" font-size="14.00">t, but not smart eno</text>
<text text-anchor="middle" x="114.631" y="-132.623" font-family="Times,serif" font-size="14.00">ugh to leave it alon</text>
<text text-anchor="middle" x="114.631" y="-117.623" font-family="Times,serif" font-size="14.00">e.</text>
</g>
<!-- start&#45;&gt;failure -->
<g id="edge3" class="edge"><title>start&#45;&gt;failure</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M98.951,-507.336C99.9363,-495.382 100.876,-483.06 101.631,-471.453 105.891,-405.944 109.13,-332.203 111.309,-274.632"/>
<polygon fill="#555555" stroke="#555555" points="114.814,-274.566 111.69,-264.443 107.819,-274.305 114.814,-274.566"/>
</g>
<!-- find_iq -->
<g id="node4" class="node"><title>find_iq</title>
<ellipse fill="#ffffff" stroke="#000000" cx="245.631" cy="-391.55" rx="96.7474" ry="79.8062"/>
<text text-anchor="middle" x="245.631" y="-432.85" font-family="Times,serif" font-size="14.00">You find a crude exp</text>
<text text-anchor="middle" x="245.631" y="-417.85" font-family="Times,serif" font-size="14.00">losive device in the</text>
<text text-anchor="middle" x="245.631" y="-402.85" font-family="Times,serif" font-size="14.00"> doorframe.</text>
<text text-anchor="middle" x="245.631" y="-387.85" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="245.631" y="-372.85" font-family="Times,serif" font-size="14.00">You </text>
<text text-anchor="middle" x="245.631" y="-357.85" font-family="Times,serif" font-size="14.00">accidentally set off</text>
<text text-anchor="middle" x="245.631" y="-342.85" font-family="Times,serif" font-size="14.00"> the explosive!</text>
</g>
<!-- start&#45;&gt;find_iq -->
<g id="edge4" class="edge"><title>start&#45;&gt;find_iq</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M141.251,-517.532C154.986,-501.087 170.109,-482.979 184.479,-465.773"/>
<polygon fill="#555555" stroke="#555555" points="187.296,-467.859 191.02,-457.94 181.924,-463.372 187.296,-467.859"/>
</g>
<!-- trap_stuff -->
<g id="node5" class="node"><title>trap_stuff</title>
<ellipse fill="#ffffff" stroke="#000000" cx="479.631" cy="-391.55" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;trap_stuff -->
<g id="edge6" class="edge"><title>start&#45;&gt;trap_stuff</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M176.154,-546.236C227.693,-527.021 294.623,-500.241 351.631,-471.453 388.109,-453.032 427.838,-427.636 453.201,-410.683"/>
<polygon fill="#555555" stroke="#555555" points="455.205,-413.553 461.544,-405.064 451.295,-407.747 455.205,-413.553"/>
</g>
<!-- explode -->
<g id="node9" class="node"><title>explode</title>
<ellipse fill="#ffffff" stroke="#000000" cx="366.631" cy="-18" rx="27" ry="18"/>
</g>
<!-- failure&#45;&gt;explode -->
<g id="edge14" class="edge"><title>failure&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M183.766,-106.63C198.84,-94.1365 215.214,-81.9012 231.631,-72 263.7,-52.6595 304.075,-37.902 332.28,-28.9307"/>
<polygon fill="#555555" stroke="#555555" points="333.568,-32.1955 342.082,-25.8895 331.494,-25.5099 333.568,-32.1955"/>
</g>
<!-- find_iq&#45;&gt;explode -->
<g id="edge11" class="edge"><title>find_iq&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M241.648,-311.463C239.06,-230.124 239.903,-110.11 264.631,-72 279.676,-48.8133 308.298,-35.2022 331.403,-27.5924"/>
<polygon fill="#555555" stroke="#555555" points="332.689,-30.8592 341.235,-24.5967 330.649,-24.1631 332.689,-30.8592"/>
</g>
<!-- disarm_trap -->
<g id="node6" class="node"><title>disarm_trap</title>
<ellipse fill="#ffffff" stroke="#000000" cx="366.631" cy="-173.823" rx="93.1765" ry="101.647"/>
<text text-anchor="middle" x="366.631" y="-230.623" font-family="Times,serif" font-size="14.00">You disarm the trap.</text>
<text text-anchor="middle" x="366.631" y="-199.623" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="366.631" y="-184.623" font-family="Times,serif" font-size="14.00">You accidentall</text>
<text text-anchor="middle" x="366.631" y="-169.623" font-family="Times,serif" font-size="14.00">y set off the explos</text>
<text text-anchor="middle" x="366.631" y="-154.623" font-family="Times,serif" font-size="14.00">ive!</text>
<text text-anchor="middle" x="366.631" y="-139.623" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="366.631" y="-124.623" font-family="Times,serif" font-size="14.00">You did not</text>
<text text-anchor="middle" x="366.631" y="-109.623" font-family="Times,serif" font-size="14.00"> disarm the trap.</text>
</g>
<!-- trap_stuff&#45;&gt;disarm_trap -->
<g id="edge7" class="edge"><title>trap_stuff&#45;&gt;disarm_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M471.138,-374.335C459.566,-352.244 437.922,-310.924 417.32,-271.593"/>
<polygon fill="#555555" stroke="#555555" points="420.409,-269.946 412.668,-262.712 414.208,-273.195 420.409,-269.946"/>
</g>
<!-- disarm_mech -->
<g id="node7" class="node"><title>disarm_mech</title>
<ellipse fill="#ffffff" stroke="#000000" cx="571.631" cy="-173.823" rx="93.1765" ry="101.647"/>
<text text-anchor="middle" x="571.631" y="-230.623" font-family="Times,serif" font-size="14.00">You disarm the trap.</text>
<text text-anchor="middle" x="571.631" y="-199.623" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="571.631" y="-184.623" font-family="Times,serif" font-size="14.00">You accidentall</text>
<text text-anchor="middle" x="571.631" y="-169.623" font-family="Times,serif" font-size="14.00">y set off the explos</text>
<text text-anchor="middle" x="571.631" y="-154.623" font-family="Times,serif" font-size="14.00">ive!</text>
<text text-anchor="middle" x="571.631" y="-139.623" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="571.631" y="-124.623" font-family="Times,serif" font-size="14.00">You did not</text>
<text text-anchor="middle" x="571.631" y="-109.623" font-family="Times,serif" font-size="14.00"> disarm the trap.</text>
</g>
<!-- trap_stuff&#45;&gt;disarm_mech -->
<g id="edge8" class="edge"><title>trap_stuff&#45;&gt;disarm_mech</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M486.697,-373.98C495.793,-352.652 512.35,-313.829 528.445,-276.088"/>
<polygon fill="#555555" stroke="#555555" points="531.819,-277.099 532.522,-266.528 525.38,-274.353 531.819,-277.099"/>
</g>
<!-- find_trap -->
<g id="node8" class="node"><title>find_trap</title>
<ellipse fill="#ffffff" stroke="#000000" cx="779.631" cy="-173.823" rx="96.7474" ry="79.8063"/>
<text text-anchor="middle" x="779.631" y="-215.123" font-family="Times,serif" font-size="14.00">You find a crude exp</text>
<text text-anchor="middle" x="779.631" y="-200.123" font-family="Times,serif" font-size="14.00">losive device in the</text>
<text text-anchor="middle" x="779.631" y="-185.123" font-family="Times,serif" font-size="14.00"> doorframe.</text>
<text text-anchor="middle" x="779.631" y="-170.123" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="779.631" y="-155.123" font-family="Times,serif" font-size="14.00">You </text>
<text text-anchor="middle" x="779.631" y="-140.123" font-family="Times,serif" font-size="14.00">accidentally set off</text>
<text text-anchor="middle" x="779.631" y="-125.123" font-family="Times,serif" font-size="14.00"> the explosive!</text>
</g>
<!-- trap_stuff&#45;&gt;find_trap -->
<g id="edge9" class="edge"><title>trap_stuff&#45;&gt;find_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M500.706,-380.081C537.414,-361.418 614.78,-320.158 673.631,-275.647 686.464,-265.941 699.437,-254.864 711.694,-243.69"/>
<polygon fill="#555555" stroke="#555555" points="714.256,-246.088 719.226,-236.731 709.506,-240.946 714.256,-246.088"/>
</g>
<!-- disarm_trap&#45;&gt;explode -->
<g id="edge12" class="edge"><title>disarm_trap&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M366.631,-71.9373C366.631,-62.8059 366.631,-54.1755 366.631,-46.6362"/>
<polygon fill="#555555" stroke="#555555" points="370.131,-46.4397 366.631,-36.4397 363.131,-46.4397 370.131,-46.4397"/>
</g>
<!-- disarm_mech&#45;&gt;explode -->
<g id="edge13" class="edge"><title>disarm_mech&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M505.19,-102.296C493.512,-91.5382 481.093,-81.0287 468.631,-72 446.727,-56.1314 419.426,-42.2096 398.582,-32.6212"/>
<polygon fill="#555555" stroke="#555555" points="399.767,-29.3164 389.212,-28.4012 396.893,-35.699 399.767,-29.3164"/>
</g>
<!-- find_trap&#45;&gt;explode -->
<g id="edge10" class="edge"><title>find_trap&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M723.959,-108.321C708.946,-94.3905 691.786,-81.1233 673.631,-72 584.273,-27.0957 463.845,-19.4086 403.843,-18.6025"/>
<polygon fill="#555555" stroke="#555555" points="403.735,-15.1016 393.708,-18.5251 403.681,-22.1014 403.735,-15.1016"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 6) then begin\n  if (source_obj == dude_obj) then begin\n    if (local_var(2)) then begin\n      call use_door;\n    end\n    if (local_var(3) == 0) then begin\n      set_local_var(3, 1);\n      temp := 100;\n      give_exp_points(temp);\n      display_msg(message_str(96, 200) + temp + message_str(96, 201));\n    end\n    else begin\n      if (local_var(1)) then begin\n        call use_door;\n      end\n      else begin\n        if (local_var(0)) then begin\n          call failure;\n        end\n        else begin\n          call find_iq;\n        end\n      end\n    end\n  end\n  else begin\n    call use_door;\n  end\nend\nelse begin\n  if (script_action == 8) then begin\n    call trap_stuff;\n  end\nend\n","trap_stuff":"use_skill := action_being_used;\nif (local_var(1) == 0) then begin\n  if (local_var(0)) then begin\n    if (use_skill == 11) then begin\n      call disarm_trap;\n    end\n    else begin\n      if (use_skill == 13) then begin\n        call disarm_mech;\n      end\n    end\n  end\nend\nelse begin\n  call find_trap;\nend\n","find_trap":"script_overrides;\ntest := roll_vs_skill(dude_obj, 11, -20);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 100));\n  set_local_var(0, 1);\nend\nelse begin\n  display_msg(message_str(96, 104));\n  call explode;\nend\n","find_iq":"script_overrides;\ntest := do_check(dude_obj, 4, 2);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 100));\n  set_local_var(0, 1);\nend\nelse begin\n  display_msg(message_str(96, 104));\n  call explode;\nend\n","disarm_trap":"script_overrides;\ntest := roll_vs_skill(dude_obj, 11, 0);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 102));\n  set_local_var(1, 1);\nend\nelse begin\n  if (is_critical(test)) then begin\n    display_msg(message_str(96, 104));\n    call explode;\n  end\n  else begin\n    display_msg(message_str(96, 103));\n  end\nend\n","disarm_mech":"script_overrides;\ntest := roll_vs_skill(dude_obj, 13, 20);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 102));\n  set_local_var(1, 1);\nend\nelse begin\n  if (is_critical(test)) then begin\n    display_msg(message_str(96, 104));\n    call explode;\n  end\n  else begin\n    display_msg(message_str(96, 103));\n  end\nend\n","failure":"script_overrides;\ndisplay_msg(message_str(96, 105));\ncall explode;\n","explode":"set_local_var(1, 1);\nexplosion(tile_num(self_obj), elevation(self_obj), 0);\ndamage := random(1, 6) + random(1, 6) + random(1, 6) + random(1, 6) + random(1, 6) + random(1, 6);\ncritter_dmg(dude_obj, damage, 0);\n","use_door":"if (local_var(2)) then begin\n  set_local_var(2, 0);\nend\nelse begin\n  set_local_var(2, 1);\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>