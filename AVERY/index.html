<!DOCTYPE html><html><head><title>AVERY</title><meta charset="utf-8" /></head><body><svg width="1040pt" height="299pt"
 viewBox="0.00 0.00 1039.57 298.95" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 294.953)">
<title>AVERY</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-294.953 1035.57,-294.953 1035.57,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="453.572" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node2" class="node"><title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="126.572" cy="-181.477" rx="126.644" ry="26.7407"/>
<text text-anchor="middle" x="126.572" y="-185.277" font-family="Times,serif" font-size="14.00">You see a guard for the</text>
<text text-anchor="middle" x="126.572" y="-170.277" font-family="Times,serif" font-size="14.00">Friendly Lending Company.</text>
</g>
<!-- start&#45;&gt;look_at_p_proc -->
<g id="edge1" class="edge"><title>start&#45;&gt;look_at_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M428.994,-265.228C383.528,-252.787 284.331,-225.644 211.901,-205.825"/>
<polygon fill="#555555" stroke="#555555" points="212.436,-202.343 201.867,-203.079 210.588,-209.095 212.436,-202.343"/>
</g>
<!-- pickup_p_proc -->
<g id="node3" class="node"><title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="298.572" cy="-181.477" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;pickup_p_proc -->
<g id="edge2" class="edge"><title>start&#45;&gt;pickup_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M429.406,-264.198C404.349,-255.491 364.697,-239.806 334.572,-218.953 328.772,-214.938 323.112,-209.912 318.061,-204.885"/>
<polygon fill="#555555" stroke="#555555" points="320.585,-202.461 311.152,-197.639 315.519,-207.291 320.585,-202.461"/>
</g>
<!-- talk_p_proc -->
<g id="node4" class="node"><title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="453.572" cy="-181.477" rx="109.703" ry="37.4533"/>
<text text-anchor="middle" x="453.572" y="-192.777" font-family="Times,serif" font-size="14.00">What the Hell! Get him!</text>
<text text-anchor="middle" x="453.572" y="-177.777" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="453.572" y="-162.777" font-family="Times,serif" font-size="14.00">What the Hell! Get her!</text>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge3" class="edge"><title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M453.572,-254.701C453.572,-247.396 453.572,-238.494 453.572,-229.469"/>
<polygon fill="#555555" stroke="#555555" points="457.072,-229.306 453.572,-219.306 450.072,-229.306 457.072,-229.306"/>
</g>
<!-- critter_p_proc -->
<g id="node5" class="node"><title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="608.572" cy="-181.477" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;critter_p_proc -->
<g id="edge4" class="edge"><title>start&#45;&gt;critter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M477.738,-264.198C502.796,-255.491 542.447,-239.806 572.572,-218.953 578.372,-214.938 584.032,-209.912 589.083,-204.885"/>
<polygon fill="#555555" stroke="#555555" points="591.625,-207.291 595.993,-197.639 586.559,-202.461 591.625,-207.291"/>
</g>
<!-- destroy_p_proc -->
<g id="node6" class="node"><title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="680.572" cy="-181.477" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge5" class="edge"><title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M479.958,-269.012C518.437,-263.791 591.169,-250.338 644.572,-218.953 650.757,-215.319 656.617,-210.355 661.743,-205.261"/>
<polygon fill="#555555" stroke="#555555" points="664.406,-207.537 668.681,-197.842 659.294,-202.755 664.406,-207.537"/>
</g>
<!-- combat -->
<g id="node7" class="node"><title>combat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="417.572" cy="-90" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;combat -->
<g id="edge7" class="edge"><title>talk_p_proc&#45;&gt;combat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M438.93,-144.083C435.292,-135.042 431.464,-125.528 428.07,-117.093"/>
<polygon fill="#555555" stroke="#555555" points="431.302,-115.748 424.322,-107.777 424.808,-118.361 431.302,-115.748"/>
</g>
<!-- get_reaction -->
<g id="node8" class="node"><title>get_reaction</title>
<ellipse fill="#ffffff" stroke="#000000" cx="489.572" cy="-90" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;get_reaction -->
<g id="edge6" class="edge"><title>talk_p_proc&#45;&gt;get_reaction</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M468.215,-144.083C471.852,-135.042 475.68,-125.528 479.074,-117.093"/>
<polygon fill="#555555" stroke="#555555" points="482.336,-118.361 482.822,-107.777 475.842,-115.748 482.336,-118.361"/>
</g>
<!-- ReactToLevel -->
<g id="node9" class="node"><title>ReactToLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="633.572" cy="-18" rx="27" ry="18"/>
</g>
<!-- get_reaction&#45;&gt;ReactToLevel -->
<g id="edge8" class="edge"><title>get_reaction&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M510.82,-78.6713C535.174,-66.8324 575.291,-47.3312 603,-33.8615"/>
<polygon fill="#555555" stroke="#555555" points="604.774,-36.8909 612.237,-29.3711 601.713,-30.5953 604.774,-36.8909"/>
</g>
<!-- LevelToReact -->
<g id="node10" class="node"><title>LevelToReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="752.572" cy="-181.477" rx="27" ry="18"/>
</g>
<!-- UpReact -->
<g id="node11" class="node"><title>UpReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="561.572" cy="-90" rx="27" ry="18"/>
</g>
<!-- UpReact&#45;&gt;ReactToLevel -->
<g id="edge9" class="edge"><title>UpReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M576.142,-74.8345C586.322,-64.9376 600.096,-51.5462 611.603,-40.3591"/>
<polygon fill="#555555" stroke="#555555" points="614.046,-42.865 618.776,-33.3847 609.167,-37.8461 614.046,-42.865"/>
</g>
<!-- DownReact -->
<g id="node12" class="node"><title>DownReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="633.572" cy="-90" rx="27" ry="18"/>
</g>
<!-- DownReact&#45;&gt;ReactToLevel -->
<g id="edge10" class="edge"><title>DownReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M633.572,-71.6966C633.572,-63.9827 633.572,-54.7125 633.572,-46.1124"/>
<polygon fill="#555555" stroke="#555555" points="637.072,-46.1043 633.572,-36.1043 630.072,-46.1044 637.072,-46.1043"/>
</g>
<!-- BottomReact -->
<g id="node13" class="node"><title>BottomReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="860.572" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- TopReact -->
<g id="node14" class="node"><title>TopReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="932.572" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- BigUpReact -->
<g id="node15" class="node"><title>BigUpReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="705.572" cy="-90" rx="27" ry="18"/>
</g>
<!-- BigUpReact&#45;&gt;ReactToLevel -->
<g id="edge11" class="edge"><title>BigUpReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M691.002,-74.8345C680.822,-64.9376 667.048,-51.5462 655.541,-40.3591"/>
<polygon fill="#555555" stroke="#555555" points="657.978,-37.8461 648.368,-33.3847 653.098,-42.865 657.978,-37.8461"/>
</g>
<!-- BigDownReact -->
<g id="node16" class="node"><title>BigDownReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="777.572" cy="-90" rx="27" ry="18"/>
</g>
<!-- BigDownReact&#45;&gt;ReactToLevel -->
<g id="edge12" class="edge"><title>BigDownReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M756.324,-78.6713C731.97,-66.8324 691.854,-47.3312 664.144,-33.8615"/>
<polygon fill="#555555" stroke="#555555" points="665.431,-30.5953 654.907,-29.3711 662.37,-36.8909 665.431,-30.5953"/>
</g>
<!-- UpReactLevel -->
<g id="node17" class="node"><title>UpReactLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="716.572" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- UpReactLevel&#45;&gt;LevelToReact -->
<g id="edge13" class="edge"><title>UpReactLevel&#45;&gt;LevelToReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M723.343,-255.123C728.657,-241.918 736.143,-223.311 742.209,-208.234"/>
<polygon fill="#555555" stroke="#555555" points="745.467,-209.512 745.953,-198.929 738.973,-206.9 745.467,-209.512"/>
</g>
<!-- DownReactLevel -->
<g id="node18" class="node"><title>DownReactLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="788.572" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- DownReactLevel&#45;&gt;LevelToReact -->
<g id="edge14" class="edge"><title>DownReactLevel&#45;&gt;LevelToReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M781.801,-255.123C776.488,-241.918 769.001,-223.311 762.935,-208.234"/>
<polygon fill="#555555" stroke="#555555" points="766.171,-206.9 759.191,-198.929 759.677,-209.512 766.171,-206.9"/>
</g>
<!-- Goodbyes -->
<g id="node19" class="node"><title>Goodbyes</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1004.57" cy="-272.953" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (Only_Once) then begin\n  Only_Once := 0;\n  critter_add_trait(self_obj, 1, 6, 73);\n  critter_add_trait(self_obj, 1, 5, 4);\nend\nif (script_action == 21) then begin\n  call look_at_p_proc;\nend\nelse begin\n  if (script_action == 4) then begin\n    call pickup_p_proc;\n  end\n  else begin\n    if (script_action == 11) then begin\n      call talk_p_proc;\n    end\n    else begin\n      if (script_action == 12) then begin\n        call critter_p_proc;\n      end\n      else begin\n        if (script_action == 18) then begin\n          call destroy_p_proc;\n        end\n      end\n    end\n  end\nend\n","combat":"hostile := 1;\n","critter_p_proc":"if (hostile) then begin\n  hostile := 0;\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\n","pickup_p_proc":"if (source_obj == dude_obj) then begin\n  hostile := 1;\nend\n","talk_p_proc":"call get_reaction;\nif (get_critter_stat(dude_obj, 34) == 0) then begin\n  float_msg(self_obj, message_str(554, 101), 2);\nend\nelse begin\n  float_msg(self_obj, message_str(554, 102), 2);\nend\ncall combat;\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(160, global_var(160) + 1);\n  if ((global_var(160) % 6) == 0) then begin\n    set_global_var(155, global_var(155) + 1);\n  end\nend\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(554, 100));\n","get_reaction":"if (local_var(2) == 0) then begin\n  set_local_var(0, 50);\n  set_local_var(1, 2);\n  set_local_var(2, 1);\n  set_local_var(0, local_var(0) + (5 * get_critter_stat(dude_obj, 3)) - 25);\n  set_local_var(0, local_var(0) + (10 * has_trait(0, dude_obj, 10)));\n  if (has_trait(0, dude_obj, 39)) then begin\n    if (global_var(155) > 0) then begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n  end\n  else begin\n    if (local_var(3) == 1) then begin\n      set_local_var(0, local_var(0) - global_var(155));\n    end\n    else begin\n      set_local_var(0, local_var(0) + global_var(155));\n    end\n  end\n  if (global_var(158) > 2) then begin\n    set_local_var(0, local_var(0) - 30);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_local_var(0, local_var(0) + 20);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_local_var(0, local_var(0) - 20);\n  end\n  call ReactToLevel;\nend\n","ReactToLevel":"if (local_var(0) <= 25) then begin\n  set_local_var(1, 1);\nend\nelse begin\n  if (local_var(0) <= 75) then begin\n    set_local_var(1, 2);\n  end\n  else begin\n    set_local_var(1, 3);\n  end\nend\n","LevelToReact":"if (local_var(1) == 1) then begin\n  set_local_var(0, random(1, 25));\nend\nelse begin\n  if (local_var(1) == 2) then begin\n    set_local_var(0, random(26, 75));\n  end\n  else begin\n    set_local_var(0, random(76, 100));\n  end\nend\n","UpReact":"set_local_var(0, local_var(0) + 10);\ncall ReactToLevel;\n","DownReact":"set_local_var(0, local_var(0) - 10);\ncall ReactToLevel;\n","BottomReact":"set_local_var(1, 1);\nset_local_var(0, 1);\n","TopReact":"set_local_var(0, 100);\nset_local_var(1, 3);\n","BigUpReact":"set_local_var(0, local_var(0) + 25);\ncall ReactToLevel;\n","BigDownReact":"set_local_var(0, local_var(0) - 25);\ncall ReactToLevel;\n","UpReactLevel":"set_local_var(1, local_var(1) + 1);\nif (local_var(1) > 3) then begin\n  set_local_var(1, 3);\nend\ncall LevelToReact;\n","DownReactLevel":"set_local_var(1, local_var(1) - 1);\nif (local_var(1) < 1) then begin\n  set_local_var(1, 1);\nend\ncall LevelToReact;\n","Goodbyes":"exit_line := message_str(634, random(100, 105));\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>