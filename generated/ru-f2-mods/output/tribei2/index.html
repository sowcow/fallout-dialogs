<!DOCTYPE html><html><head><title>tribei2</title><meta charset="utf-8" /></head><body><svg width="873pt" height="791pt"
 viewBox="0.00 0.00 873.26 791.45" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 787.45)">
<title>tribei2</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-787.45 869.26,-787.45 869.26,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="42.79" cy="-741.2" rx="27" ry="18"/>
</g>
<!-- use_p_proc -->
<g id="node2" class="node">
<title>use_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="114.79" cy="-741.2" rx="27" ry="18"/>
</g>
<!-- Node001 -->
<g id="node3" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="150.79" cy="-595.31" rx="150.79" ry="66.64"/>
<text text-anchor="middle" x="150.79" y="-625.13" font-family="Times,serif" font-size="14.00">[После краткого осмотра</text>
<text text-anchor="middle" x="150.79" y="-607.88" font-family="Times,serif" font-size="14.00">ящика вы определили, что</text>
<text text-anchor="middle" x="150.79" y="-590.63" font-family="Times,serif" font-size="14.00">в нем около 50</text>
<text text-anchor="middle" x="150.79" y="-573.38" font-family="Times,serif" font-size="14.00">стимуляторов, как и</text>
<text text-anchor="middle" x="150.79" y="-556.13" font-family="Times,serif" font-size="14.00">сказал торговец.]</text>
</g>
<!-- use_p_proc&#45;&gt;Node001 -->
<g id="edge1" class="edge">
<title>use_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M119.06,-723.13C122.28,-710.25 126.95,-691.6 131.72,-672.55"/>
<polygon fill="#555555" stroke="#555555" points="135.33,-673.51 134.37,-662.95 128.54,-671.81 135.33,-673.51"/>
</g>
<!-- Node999 -->
<g id="node7" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="312.79" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge6" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#995900" d="M130.38,-528.94C102.48,-426.06 65.32,-224.17 153.79,-89.25 180.67,-48.25 237.47,-31 275.39,-23.86"/>
<polygon fill="#995900" stroke="#995900" points="275.76,-27.18 285.02,-22.03 274.57,-20.28 275.76,-27.18"/>
<text text-anchor="middle" x="135.79" y="-390.86" font-family="Times,serif" font-size="14.00" fill="#995900">[Готово]</text>
</g>
<!-- Node900 -->
<g id="node8" class="node">
<title>Node900</title>
<ellipse fill="#ffffff" stroke="#000000" cx="312.79" cy="-440.16" rx="27" ry="18"/>
</g>
<!-- Node001&#45;&gt;Node900 -->
<g id="edge5" class="edge">
<title>Node001&#45;&gt;Node900</title>
<path fill="none" stroke="#009986" d="M213.89,-534.66C240.63,-509.38 270.11,-481.51 289.87,-462.83"/>
<polygon fill="#009986" stroke="#009986" points="291.84,-465.84 296.7,-456.42 287.03,-460.75 291.84,-465.84"/>
<text text-anchor="middle" x="338.04" y="-497.36" font-family="Times,serif" font-size="14.00" fill="#009986">[Изучить их</text>
<text text-anchor="middle" x="338.04" y="-480.11" font-family="Times,serif" font-size="14.00" fill="#009986">повнимательнее.]</text>
</g>
<!-- pickup_p_proc -->
<g id="node4" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="186.79" cy="-741.2" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc&#45;&gt;Node001 -->
<g id="edge2" class="edge">
<title>pickup_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M182.52,-723.13C179.3,-710.25 174.63,-691.6 169.86,-672.55"/>
<polygon fill="#555555" stroke="#555555" points="173.04,-671.81 167.21,-662.95 166.25,-673.51 173.04,-671.81"/>
</g>
<!-- destroy_p_proc -->
<g id="node5" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="258.79" cy="-741.2" rx="27" ry="18"/>
</g>
<!-- drop_p_proc -->
<g id="node6" class="node">
<title>drop_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="330.79" cy="-741.2" rx="27" ry="18"/>
</g>
<!-- Node003 -->
<g id="node9" class="node">
<title>Node003</title>
<ellipse fill="#ffffff" stroke="#000000" cx="312.79" cy="-229.08" rx="150.26" ry="139.83"/>
<text text-anchor="middle" x="312.79" y="-310.66" font-family="Times,serif" font-size="14.00">При более внимательном</text>
<text text-anchor="middle" x="312.79" y="-293.41" font-family="Times,serif" font-size="14.00">рассмотрении эти</text>
<text text-anchor="middle" x="312.79" y="-276.16" font-family="Times,serif" font-size="14.00">стимуляторы кажутся вам</text>
<text text-anchor="middle" x="312.79" y="-258.91" font-family="Times,serif" font-size="14.00">немного странными. Вы</text>
<text text-anchor="middle" x="312.79" y="-241.66" font-family="Times,serif" font-size="14.00">берете один из них и</text>
<text text-anchor="middle" x="312.79" y="-224.41" font-family="Times,serif" font-size="14.00">выдавливаете немного</text>
<text text-anchor="middle" x="312.79" y="-207.16" font-family="Times,serif" font-size="14.00">жидкости на ладонь.</text>
<text text-anchor="middle" x="312.79" y="-189.91" font-family="Times,serif" font-size="14.00">Понюхав малиновую</text>
<text text-anchor="middle" x="312.79" y="-172.66" font-family="Times,serif" font-size="14.00">жидкость, вы понимаете,</text>
<text text-anchor="middle" x="312.79" y="-155.41" font-family="Times,serif" font-size="14.00">что на самом деле это</text>
<text text-anchor="middle" x="312.79" y="-138.16" font-family="Times,serif" font-size="14.00">кровь брамина.</text>
</g>
<!-- Node900&#45;&gt;Node003 -->
<g id="edge3" class="edge">
<title>Node900&#45;&gt;Node003</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M312.79,-421.69C312.79,-411.05 312.79,-396.31 312.79,-379.69"/>
<polygon fill="#555555" stroke="#555555" points="316.29,-380.12 312.79,-370.12 309.29,-380.12 316.29,-380.12"/>
</g>
<!-- Node002 -->
<g id="node10" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="637.79" cy="-229.08" rx="157.15" ry="42.25"/>
<text text-anchor="middle" x="637.79" y="-241.66" font-family="Times,serif" font-size="14.00">Изучив их повнимательней,</text>
<text text-anchor="middle" x="637.79" y="-224.41" font-family="Times,serif" font-size="14.00">вы не находите в них</text>
<text text-anchor="middle" x="637.79" y="-207.16" font-family="Times,serif" font-size="14.00">ничего необычного.</text>
</g>
<!-- Node900&#45;&gt;Node002 -->
<g id="edge4" class="edge">
<title>Node900&#45;&gt;Node002</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M336.45,-431.08C368.45,-419.64 426.68,-396.96 471.79,-368.91 514.15,-342.58 557.21,-306.22 588.86,-277.32"/>
<polygon fill="#555555" stroke="#555555" points="590.67,-280.49 595.65,-271.14 585.93,-275.34 590.67,-280.49"/>
</g>
<!-- Node003&#45;&gt;Node999 -->
<g id="edge8" class="edge">
<title>Node003&#45;&gt;Node999</title>
<path fill="none" stroke="#009900" d="M312.79,-88.91C312.79,-73.24 312.79,-58.74 312.79,-47.05"/>
<polygon fill="#009900" stroke="#009900" points="316.29,-47.37 312.79,-37.37 309.29,-47.37 316.29,-47.37"/>
<text text-anchor="middle" x="342.79" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#009900">[Готово]</text>
</g>
<!-- Node002&#45;&gt;Node999 -->
<g id="edge7" class="edge">
<title>Node002&#45;&gt;Node999</title>
<path fill="none" stroke="#2d0099" d="M596.65,-188.02C564.51,-158.17 517.73,-117.82 471.79,-89.25 431.09,-63.94 379.7,-43 346.54,-30.74"/>
<polygon fill="#2d0099" stroke="#2d0099" points="348.05,-27.21 337.45,-27.08 345.66,-33.78 348.05,-27.21"/>
<text text-anchor="middle" x="467.79" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#2d0099">[Готово]</text>
</g>
<!-- look_at_p_proc -->
<g id="node11" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="474.79" cy="-741.2" rx="99.08" ry="18"/>
<text text-anchor="middle" x="474.79" y="-736.52" font-family="Times,serif" font-size="14.00">Вы видите ящик.</text>
</g>
<!-- description_p_proc -->
<g id="node12" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="728.79" cy="-741.2" rx="136.47" ry="42.25"/>
<text text-anchor="middle" x="728.79" y="-753.77" font-family="Times,serif" font-size="14.00">Ящик, который, судя по</text>
<text text-anchor="middle" x="728.79" y="-736.52" font-family="Times,serif" font-size="14.00">всему, наполнен</text>
<text text-anchor="middle" x="728.79" y="-719.27" font-family="Times,serif" font-size="14.00">стимуляторами.</text>
</g>
</g>
</svg>
<script>window.Codes = {"start":"[]","use_p_proc":"if (not(combat_is_initialized)) then begin\n  start_gdialog(1517, self_obj, 4, 4294967295, 4294967295);\n  gsay_start;\n  call Node001;\n  gsay_end;\n  end_dialogue;\nend\n","pickup_p_proc":"if (not(combat_is_initialized)) then begin\n  start_gdialog(1517, self_obj, 4, 4294967295, 4294967295);\n  gsay_start;\n  call Node001;\n  gsay_end;\n  end_dialogue;\nend\nscript_overrides;\n","destroy_p_proc":"[]","drop_p_proc":"[]","Node999":"[]","Node900":"if (get_critter_stat(dude_obj, 1) > 6) then begin\n  call Node003;\nend\nelse begin\n  call Node002;\nend\n","Node001":"gsay_reply(1517, 200);\ngiq_option(4, 1517, 201, Node900, 50);\ngiq_option(4, 1517, 202, Node999, 50);\n","Node002":"gsay_reply(1517, 203);\ngiq_option(4, 1517, 204, Node999, 50);\n","Node003":"set_map_var(2, 1);\ngsay_reply(1517, 205);\ngiq_option(4, 1517, 206, Node999, 50);\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(1517, 100));\n","description_p_proc":"script_overrides;\ndisplay_msg(message_str(1517, 101 + map_var(2)));\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>