<!DOCTYPE html><html><head><title>abjohn</title><meta charset="utf-8" /></head><body><svg width="2070pt" height="1707pt"
 viewBox="0.00 0.00 2070.00 1706.96" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1702.96)">
<title>abjohn</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1702.96 2066,-1702.96 2066,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- destroy_p_proc -->
<g id="node2" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="203" cy="-1607.92" rx="130.64" ry="42.25"/>
<text text-anchor="middle" x="203" y="-1620.5" font-family="Times,serif" font-size="14.00">Ты показал Джону,</text>
<text text-anchor="middle" x="203" y="-1603.25" font-family="Times,serif" font-size="14.00">насколько жесток этот</text>
<text text-anchor="middle" x="203" y="-1586" font-family="Times,serif" font-size="14.00">мир.</text>
</g>
<!-- use_p_proc -->
<g id="node3" class="node">
<title>use_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="379" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node4" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="563" cy="-1607.92" rx="139.12" ry="66.64"/>
<text text-anchor="middle" x="563" y="-1637.75" font-family="Times,serif" font-size="14.00">Вы видите брата Джона.</text>
<text text-anchor="middle" x="563" y="-1620.5" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="563" y="-1603.25" font-family="Times,serif" font-size="14.00">Вы видите одного из</text>
<text text-anchor="middle" x="563" y="-1586" font-family="Times,serif" font-size="14.00">старших монахов</text>
<text text-anchor="middle" x="563" y="-1568.75" font-family="Times,serif" font-size="14.00">Аббатства.</text>
</g>
<!-- description_p_proc -->
<g id="node5" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="873" cy="-1607.92" rx="152.38" ry="42.25"/>
<text text-anchor="middle" x="873" y="-1620.5" font-family="Times,serif" font-size="14.00">Вы видите старого монаха.</text>
<text text-anchor="middle" x="873" y="-1603.25" font-family="Times,serif" font-size="14.00">Ему на вид семьдесят с</text>
<text text-anchor="middle" x="873" y="-1586" font-family="Times,serif" font-size="14.00">небольшим.</text>
</g>
<!-- use_skill_on_p_proc -->
<g id="node6" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1070" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- use_obj_on_p_proc -->
<g id="node7" class="node">
<title>use_obj_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1142" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- damage_p_proc -->
<g id="node8" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1214" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node9" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1286" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- map_update_p_proc -->
<g id="node10" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1358" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node11" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1541" cy="-1607.92" rx="138.06" ry="91.04"/>
<text text-anchor="middle" x="1541" y="-1655" font-family="Times,serif" font-size="14.00">Еще раз спасибо за эти</text>
<text text-anchor="middle" x="1541" y="-1637.75" font-family="Times,serif" font-size="14.00">таблетки от сердца, мой</text>
<text text-anchor="middle" x="1541" y="-1620.5" font-family="Times,serif" font-size="14.00">друг. Удачи в ваших</text>
<text text-anchor="middle" x="1541" y="-1603.25" font-family="Times,serif" font-size="14.00">путешествиях!</text>
<text text-anchor="middle" x="1541" y="-1586" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1541" y="-1568.75" font-family="Times,serif" font-size="14.00">Просто уходите,</text>
<text text-anchor="middle" x="1541" y="-1551.5" font-family="Times,serif" font-size="14.00">пожалуйста.</text>
</g>
<!-- Node001 -->
<g id="node12" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1541" cy="-1461.88" rx="94.35" ry="18"/>
<text text-anchor="middle" x="1541" y="-1457.21" font-family="Times,serif" font-size="14.00">Привет, парень.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node001 -->
<g id="edge1" class="edge">
<title>talk_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1541,-1516.52C1541,-1507.47 1541,-1498.83 1541,-1491.24"/>
<polygon fill="#555555" stroke="#555555" points="1544.5,-1491.25 1541,-1481.25 1537.5,-1491.25 1544.5,-1491.25"/>
</g>
<!-- Node002 -->
<g id="node15" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="853" cy="-1301.69" rx="143.9" ry="42.25"/>
<text text-anchor="middle" x="853" y="-1314.26" font-family="Times,serif" font-size="14.00">Меня зовут Джон, я один</text>
<text text-anchor="middle" x="853" y="-1297.01" font-family="Times,serif" font-size="14.00">из старейших монахов</text>
<text text-anchor="middle" x="853" y="-1279.76" font-family="Times,serif" font-size="14.00">здесь.</text>
</g>
<!-- Node001&#45;&gt;Node002 -->
<g id="edge2" class="edge">
<title>Node001&#45;&gt;Node002</title>
<path fill="none" stroke="#480099" d="M1472.59,-1449.1C1436.92,-1442.71 1392.63,-1434.39 1353.25,-1425.88 1221.11,-1397.32 1070.61,-1359.54 969.51,-1333.38"/>
<polygon fill="#480099" stroke="#480099" points="970.52,-1329.77 959.96,-1330.65 968.76,-1336.54 970.52,-1329.77"/>
<text text-anchor="middle" x="1382.88" y="-1395.33" font-family="Times,serif" font-size="14.00" fill="#480099">Кто вы?</text>
</g>
<!-- Node008 -->
<g id="node16" class="node">
<title>Node008</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1542" cy="-1301.69" rx="147.08" ry="54.45"/>
<text text-anchor="middle" x="1542" y="-1322.89" font-family="Times,serif" font-size="14.00">Кх&#45;м, извините, у меня их</text>
<text text-anchor="middle" x="1542" y="-1305.64" font-family="Times,serif" font-size="14.00">нет. Поговорите с</text>
<text text-anchor="middle" x="1542" y="-1288.39" font-family="Times,serif" font-size="14.00">аббатом, может он знает</text>
<text text-anchor="middle" x="1542" y="-1271.14" font-family="Times,serif" font-size="14.00">что&#45;нибудь о таблетках.</text>
</g>
<!-- Node001&#45;&gt;Node008 -->
<g id="edge3" class="edge">
<title>Node001&#45;&gt;Node008</title>
<path fill="none" stroke="#00991c" d="M1461.75,-1451.9C1447.11,-1446.56 1433.54,-1438.36 1424.25,-1425.88 1410.52,-1407.43 1412.97,-1394.18 1424.25,-1374.13 1428.99,-1365.72 1435.16,-1358.18 1442.2,-1351.45"/>
<polygon fill="#00991c" stroke="#00991c" points="1443.95,-1353.69 1449.15,-1344.46 1439.33,-1348.43 1443.95,-1353.69"/>
<text text-anchor="middle" x="1531.88" y="-1403.96" font-family="Times,serif" font-size="14.00" fill="#00991c">Слышали ли вы о ГЭККе или</text>
<text text-anchor="middle" x="1531.88" y="-1386.71" font-family="Times,serif" font-size="14.00" fill="#00991c">Убежище 13?</text>
</g>
<!-- Node999 -->
<g id="node17" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1115" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge4" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#990011" d="M1620.27,-1451.77C1699.39,-1442.55 1810.59,-1429.2 1820,-1425.88 1918.48,-1391.22 2020,-1407.09 2020,-1302.69 2020,-1302.69 2020,-1302.69 2020,-142.7 2020,-15.97 1875.13,-66.28 1749,-54 1523.67,-32.06 1251.85,-22.8 1153.15,-19.99"/>
<polygon fill="#990011" stroke="#990011" points="1153.34,-16.47 1143.25,-19.69 1153.15,-23.46 1153.34,-16.47"/>
<text text-anchor="middle" x="2041" y="-850.93" font-family="Times,serif" font-size="14.00" fill="#990011">Пока.</text>
</g>
<!-- give_items -->
<g id="node13" class="node">
<title>give_items</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1157" cy="-143.7" rx="27" ry="18"/>
</g>
<!-- give_caps -->
<g id="node14" class="node">
<title>give_caps</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1450" cy="-143.7" rx="27" ry="18"/>
</g>
<!-- Node002&#45;&gt;Node999 -->
<g id="edge6" class="edge">
<title>Node002&#45;&gt;Node999</title>
<path fill="none" stroke="#6a9900" d="M739.58,-1275.38C678.28,-1254.29 615,-1216.96 615,-1152.74 615,-1152.74 615,-1152.74 615,-142.7 615,-47.61 960.06,-25.14 1076.87,-20.26"/>
<polygon fill="#6a9900" stroke="#6a9900" points="1076.91,-23.72 1086.76,-19.83 1076.63,-16.73 1076.91,-23.72"/>
<text text-anchor="middle" x="670.5" y="-688.05" font-family="Times,serif" font-size="14.00" fill="#6a9900">Понятно, пока.</text>
</g>
<!-- Node003 -->
<g id="node18" class="node">
<title>Node003</title>
<ellipse fill="#ffffff" stroke="#000000" cx="853" cy="-1151.74" rx="138.59" ry="42.25"/>
<text text-anchor="middle" x="853" y="-1164.31" font-family="Times,serif" font-size="14.00">Ну, я работал на ферме,</text>
<text text-anchor="middle" x="853" y="-1147.06" font-family="Times,serif" font-size="14.00">но это было вредно для</text>
<text text-anchor="middle" x="853" y="-1129.81" font-family="Times,serif" font-size="14.00">сердца.</text>
</g>
<!-- Node002&#45;&gt;Node003 -->
<g id="edge5" class="edge">
<title>Node002&#45;&gt;Node003</title>
<path fill="none" stroke="#003d99" d="M853,-1259.08C853,-1242.31 853,-1222.77 853,-1205.05"/>
<polygon fill="#003d99" stroke="#003d99" points="856.5,-1205.29 853,-1195.29 849.5,-1205.29 856.5,-1205.29"/>
<text text-anchor="middle" x="939.62" y="-1215.94" font-family="Times,serif" font-size="14.00" fill="#003d99">И чем вы занимаетесь?</text>
</g>
<!-- Node008&#45;&gt;Node001 -->
<g id="edge20" class="edge">
<title>Node008&#45;&gt;Node001</title>
<path fill="none" stroke="#990f00" d="M1618.94,-1348.54C1626.57,-1356.13 1633.24,-1364.66 1638,-1374.13 1648.32,-1394.69 1651.22,-1407.06 1638,-1425.88 1632.68,-1433.46 1625.54,-1439.41 1617.54,-1444.07"/>
<polygon fill="#990f00" stroke="#990f00" points="1616.17,-1441.35 1608.82,-1448.98 1619.32,-1447.6 1616.17,-1441.35"/>
<text text-anchor="middle" x="1731.38" y="-1412.58" font-family="Times,serif" font-size="14.00" fill="#990f00">Так и сделаю, спасибо.</text>
<text text-anchor="middle" x="1731.38" y="-1395.33" font-family="Times,serif" font-size="14.00" fill="#990f00">Вернемся к другим</text>
<text text-anchor="middle" x="1731.38" y="-1378.08" font-family="Times,serif" font-size="14.00" fill="#990f00">вопросам.</text>
</g>
<!-- Node003&#45;&gt;Node999 -->
<g id="edge8" class="edge">
<title>Node003&#45;&gt;Node999</title>
<path fill="none" stroke="#00996f" d="M787.2,-1114.26C762.82,-1095.6 741,-1070.24 741,-1039.24 741,-1039.24 741,-1039.24 741,-142.7 741,-72.3 982.89,-35.13 1077.61,-23.27"/>
<polygon fill="#00996f" stroke="#00996f" points="1077.9,-26.64 1087.4,-21.95 1077.05,-19.69 1077.9,-26.64"/>
<text text-anchor="middle" x="815.25" y="-606.98" font-family="Times,serif" font-size="14.00" fill="#00996f">Это очень плохо. До</text>
<text text-anchor="middle" x="815.25" y="-589.73" font-family="Times,serif" font-size="14.00" fill="#00996f">свидания!</text>
</g>
<!-- Node004 -->
<g id="node19" class="node">
<title>Node004</title>
<ellipse fill="#ffffff" stroke="#000000" cx="871" cy="-1038.24" rx="27" ry="18"/>
</g>
<!-- Node003&#45;&gt;Node004 -->
<g id="edge7" class="edge">
<title>Node003&#45;&gt;Node004</title>
<path fill="none" stroke="#990097" d="M859.7,-1109.22C861.95,-1095.28 864.41,-1080.08 866.45,-1067.41"/>
<polygon fill="#990097" stroke="#990097" points="870.06,-1068.03 868.2,-1057.6 863.15,-1066.91 870.06,-1068.03"/>
<text text-anchor="middle" x="967.25" y="-1078.19" font-family="Times,serif" font-size="14.00" fill="#990097">У вас проблемы с сердцем?</text>
</g>
<!-- Node005 -->
<g id="node20" class="node">
<title>Node005</title>
<ellipse fill="#ffffff" stroke="#000000" cx="924" cy="-855.61" rx="154.5" ry="127.63"/>
<text text-anchor="middle" x="924" y="-928.56" font-family="Times,serif" font-size="14.00">Да, у меня слабое сердце.</text>
<text text-anchor="middle" x="924" y="-911.31" font-family="Times,serif" font-size="14.00">Если бы мне повезло</text>
<text text-anchor="middle" x="924" y="-894.06" font-family="Times,serif" font-size="14.00">разжиться таблетками от</text>
<text text-anchor="middle" x="924" y="-876.81" font-family="Times,serif" font-size="14.00">болей в сердце, это</text>
<text text-anchor="middle" x="924" y="-859.56" font-family="Times,serif" font-size="14.00">намного облегчило бы мою</text>
<text text-anchor="middle" x="924" y="-842.31" font-family="Times,serif" font-size="14.00">жизнь. Но, как вы знаете,</text>
<text text-anchor="middle" x="924" y="-825.06" font-family="Times,serif" font-size="14.00">в современном мире очень</text>
<text text-anchor="middle" x="924" y="-807.81" font-family="Times,serif" font-size="14.00">трудно найти лекарство</text>
<text text-anchor="middle" x="924" y="-790.56" font-family="Times,serif" font-size="14.00">для решения этой</text>
<text text-anchor="middle" x="924" y="-773.31" font-family="Times,serif" font-size="14.00">проблемы.</text>
</g>
<!-- Node004&#45;&gt;Node005 -->
<g id="edge9" class="edge">
<title>Node004&#45;&gt;Node005</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M875.99,-1020.25C878.32,-1012.3 881.33,-1002.05 884.7,-990.56"/>
<polygon fill="#555555" stroke="#555555" points="888.29,-991.75 887.75,-981.17 881.57,-989.78 888.29,-991.75"/>
</g>
<!-- Node005&#45;&gt;Node999 -->
<g id="edge11" class="edge">
<title>Node005&#45;&gt;Node999</title>
<path fill="none" stroke="#150099" d="M925.34,-727.81C922.37,-671.45 913.89,-605.19 893,-548.58 873.35,-495.32 837.19,-497.77 820.25,-443.58 799.34,-376.69 794.01,-350.88 820.25,-285.89 871.41,-159.21 1019.63,-68.89 1084.26,-34.42"/>
<polygon fill="#150099" stroke="#150099" points="1085.66,-37.12 1092.89,-29.37 1082.41,-30.92 1085.66,-37.12"/>
<text text-anchor="middle" x="915.88" y="-368.69" font-family="Times,serif" font-size="14.00" fill="#150099">Прискорбно это слышать.</text>
<text text-anchor="middle" x="915.88" y="-351.44" font-family="Times,serif" font-size="14.00" fill="#150099">Пока.</text>
</g>
<!-- Node006 -->
<g id="node21" class="node">
<title>Node006</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1120" cy="-603.03" rx="116.85" ry="54.45"/>
<text text-anchor="middle" x="1120" y="-624.23" font-family="Times,serif" font-size="14.00">Правда? Вы хотите</text>
<text text-anchor="middle" x="1120" y="-606.98" font-family="Times,serif" font-size="14.00">сказать, что у вас</text>
<text text-anchor="middle" x="1120" y="-589.73" font-family="Times,serif" font-size="14.00">действительно есть</text>
<text text-anchor="middle" x="1120" y="-572.48" font-family="Times,serif" font-size="14.00">таблетки от сердца?</text>
</g>
<!-- Node005&#45;&gt;Node006 -->
<g id="edge10" class="edge">
<title>Node005&#45;&gt;Node006</title>
<path fill="none" stroke="#994200" d="M1007.41,-747.97C1030.15,-718.89 1053.97,-688.44 1073.82,-663.07"/>
<polygon fill="#994200" stroke="#994200" points="1076.98,-665.71 1080.38,-655.67 1071.47,-661.39 1076.98,-665.71"/>
<text text-anchor="middle" x="1146.62" y="-696.67" font-family="Times,serif" font-size="14.00" fill="#994200">Я мог бы решить вашу</text>
<text text-anchor="middle" x="1146.62" y="-679.42" font-family="Times,serif" font-size="14.00" fill="#994200">проблему с сердцем...</text>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge14" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#007199" d="M1097.35,-549.4C1084.63,-518.82 1068.96,-479.38 1057,-443.58 1033.99,-374.68 1035.91,-355.15 1014,-285.89 1011.43,-277.78 1008.97,-276.27 1007.5,-267.89 1003.53,-245.24 1001.82,-238.43 1007.5,-216.14 1024.83,-148.18 1070.9,-78.37 1096.75,-42.88"/>
<polygon fill="#007199" stroke="#007199" points="1100.03,-45.33 1103.16,-35.21 1094.4,-41.17 1100.03,-45.33"/>
<text text-anchor="middle" x="1092.75" y="-254.59" font-family="Times,serif" font-size="14.00" fill="#007199">Я пошутил. У меня нет</text>
<text text-anchor="middle" x="1092.75" y="-237.34" font-family="Times,serif" font-size="14.00" fill="#007199">никаких таблеток от</text>
<text text-anchor="middle" x="1092.75" y="-220.09" font-family="Times,serif" font-size="14.00" fill="#007199">сердца.</text>
</g>
<!-- Node007a -->
<g id="node22" class="node">
<title>Node007a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1210" cy="-364.74" rx="143.9" ry="66.64"/>
<text text-anchor="middle" x="1210" y="-394.56" font-family="Times,serif" font-size="14.00">[Вы даете ему таблетки.]</text>
<text text-anchor="middle" x="1210" y="-377.31" font-family="Times,serif" font-size="14.00">Спасибо, мой друг! Вот,</text>
<text text-anchor="middle" x="1210" y="-360.06" font-family="Times,serif" font-size="14.00">пожалуйста, примите эту</text>
<text text-anchor="middle" x="1210" y="-342.81" font-family="Times,serif" font-size="14.00">вещь в качестве жеста</text>
<text text-anchor="middle" x="1210" y="-325.56" font-family="Times,serif" font-size="14.00">благодарности.</text>
</g>
<!-- Node006&#45;&gt;Node007a -->
<g id="edge12" class="edge">
<title>Node006&#45;&gt;Node007a</title>
<path fill="none" stroke="#179900" d="M1140.2,-549C1152.32,-517.17 1167.94,-476.17 1181.32,-441.03"/>
<polygon fill="#179900" stroke="#179900" points="1184.93,-442.4 1185.21,-431.81 1178.38,-439.91 1184.93,-442.4"/>
<text text-anchor="middle" x="1268.88" y="-500.03" font-family="Times,serif" font-size="14.00" fill="#179900">Да, у меня есть немного.</text>
<text text-anchor="middle" x="1268.88" y="-482.78" font-family="Times,serif" font-size="14.00" fill="#179900">С радостью отдам их вам.</text>
</g>
<!-- Node007b -->
<g id="node23" class="node">
<title>Node007b</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1513" cy="-364.74" rx="140.71" ry="78.84"/>
<text text-anchor="middle" x="1513" y="-403.19" font-family="Times,serif" font-size="14.00">[Он очень злится, но</text>
<text text-anchor="middle" x="1513" y="-385.94" font-family="Times,serif" font-size="14.00">потом быстро</text>
<text text-anchor="middle" x="1513" y="-368.69" font-family="Times,serif" font-size="14.00">успокаивается.] Хорошо,</text>
<text text-anchor="middle" x="1513" y="-351.44" font-family="Times,serif" font-size="14.00">хорошо, вот вам деньги!</text>
<text text-anchor="middle" x="1513" y="-334.19" font-family="Times,serif" font-size="14.00">Теперь отдайте мне мои</text>
<text text-anchor="middle" x="1513" y="-316.94" font-family="Times,serif" font-size="14.00">таблетки!</text>
</g>
<!-- Node006&#45;&gt;Node007b -->
<g id="edge13" class="edge">
<title>Node006&#45;&gt;Node007b</title>
<path fill="none" stroke="#990044" d="M1230.29,-584.34C1275.43,-573.64 1326.65,-556.79 1368,-530.58 1401.99,-509.04 1432.6,-477.23 1456.85,-447.28"/>
<polygon fill="#990044" stroke="#990044" points="1460.03,-449.9 1463.51,-439.9 1454.55,-445.55 1460.03,-449.9"/>
<text text-anchor="middle" x="1536.62" y="-517.28" font-family="Times,serif" font-size="14.00" fill="#990044">Да, у меня есть таблетки</text>
<text text-anchor="middle" x="1536.62" y="-500.03" font-family="Times,serif" font-size="14.00" fill="#990044">от сердца. Они могут</text>
<text text-anchor="middle" x="1536.62" y="-482.78" font-family="Times,serif" font-size="14.00" fill="#990044">стать вашими всего за</text>
<text text-anchor="middle" x="1536.62" y="-465.53" font-family="Times,serif" font-size="14.00" fill="#990044">$400.</text>
</g>
<!-- Node007a&#45;&gt;give_items -->
<g id="edge15" class="edge">
<title>Node007a&#45;&gt;give_items</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1198.96,-297.93C1194.16,-272.24 1188.02,-242.65 1181,-216.14 1177.07,-201.32 1171.71,-185.1 1167.05,-171.86"/>
<polygon fill="#555555" stroke="#555555" points="1170.02,-170.77 1163.35,-162.54 1163.43,-173.14 1170.02,-170.77"/>
</g>
<!-- Node007a&#45;&gt;Node999 -->
<g id="edge16" class="edge">
<title>Node007a&#45;&gt;Node999</title>
<path fill="none" stroke="#999500" d="M1219.42,-297.85C1224.66,-239.94 1224.74,-154.91 1193,-89.25 1182.33,-67.17 1161.33,-48.9 1143.8,-36.53"/>
<polygon fill="#999500" stroke="#999500" points="1146.28,-33.3 1136.03,-30.61 1142.36,-39.1 1146.28,-33.3"/>
<text text-anchor="middle" x="1313.25" y="-147.65" font-family="Times,serif" font-size="14.00" fill="#999500">Рад помочь, и спасибо за</text>
<text text-anchor="middle" x="1313.25" y="-130.4" font-family="Times,serif" font-size="14.00" fill="#999500">вещичку. Пока!</text>
</g>
<!-- Node007b&#45;&gt;give_caps -->
<g id="edge17" class="edge">
<title>Node007b&#45;&gt;give_caps</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1490.79,-286.51C1479.34,-246.71 1466.1,-200.67 1457.88,-172.11"/>
<polygon fill="#555555" stroke="#555555" points="1461.02,-171.36 1454.9,-162.72 1454.3,-173.3 1461.02,-171.36"/>
</g>
<!-- Node007b&#45;&gt;Node999 -->
<g id="edge19" class="edge">
<title>Node007b&#45;&gt;Node999</title>
<path fill="none" stroke="#00993b" d="M1515.39,-285.46C1515.8,-214.56 1511.45,-117.07 1486,-89.25 1441.54,-40.64 1238.23,-25.06 1152.89,-20.6"/>
<polygon fill="#00993b" stroke="#00993b" points="1153.29,-17.07 1143.13,-20.07 1152.95,-24.06 1153.29,-17.07"/>
<text text-anchor="middle" x="1595.5" y="-147.65" font-family="Times,serif" font-size="14.00" fill="#00993b">Приятно иметь с вами</text>
<text text-anchor="middle" x="1595.5" y="-130.4" font-family="Times,serif" font-size="14.00" fill="#00993b">дело. Пока.</text>
</g>
<!-- Node012 -->
<g id="node24" class="node">
<title>Node012</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1844" cy="-143.7" rx="148.14" ry="54.45"/>
<text text-anchor="middle" x="1844" y="-164.9" font-family="Times,serif" font-size="14.00">Если бы я не был так</text>
<text text-anchor="middle" x="1844" y="-147.65" font-family="Times,serif" font-size="14.00">болен, я бы выбил из тебя</text>
<text text-anchor="middle" x="1844" y="-130.4" font-family="Times,serif" font-size="14.00">все дерьмо. А теперь</text>
<text text-anchor="middle" x="1844" y="-113.15" font-family="Times,serif" font-size="14.00">убирайся отсюда!</text>
</g>
<!-- Node007b&#45;&gt;Node012 -->
<g id="edge18" class="edge">
<title>Node007b&#45;&gt;Node012</title>
<path fill="none" stroke="#680099" d="M1603.45,-303.88C1653.63,-270.67 1715.5,-229.73 1763.92,-197.69"/>
<polygon fill="#680099" stroke="#680099" points="1765.39,-200.25 1771.8,-191.81 1761.53,-194.41 1765.39,-200.25"/>
<text text-anchor="middle" x="1828.62" y="-254.59" font-family="Times,serif" font-size="14.00" fill="#680099">Я решил оставить таблетки</text>
<text text-anchor="middle" x="1828.62" y="-237.34" font-family="Times,serif" font-size="14.00" fill="#680099">у себя. Спасибо за</text>
<text text-anchor="middle" x="1828.62" y="-220.09" font-family="Times,serif" font-size="14.00" fill="#680099">деньги!</text>
</g>
<!-- Node012&#45;&gt;Node999 -->
<g id="edge21" class="edge">
<title>Node012&#45;&gt;Node999</title>
<path fill="none" stroke="#001e99" d="M1736.82,-105.75C1718.62,-99.93 1699.83,-94.21 1682,-89.25 1613.93,-70.33 1596.81,-64.85 1527,-54 1390.32,-32.76 1225.97,-23.66 1153.05,-20.47"/>
<polygon fill="#001e99" stroke="#001e99" points="1153.29,-16.93 1143.15,-20 1152.99,-23.92 1153.29,-16.93"/>
<text text-anchor="middle" x="1680.5" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#001e99">Хорошо, я ухожу.</text>
</g>
<!-- Node998 -->
<g id="node25" class="node">
<title>Node998</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1724" cy="-1461.88" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node26" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1796" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- timed_event_p_proc -->
<g id="node27" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1868" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node28" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1724" cy="-1607.92" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc&#45;&gt;Node998 -->
<g id="edge22" class="edge">
<title>pickup_p_proc&#45;&gt;Node998</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1724,-1589.55C1724,-1565.11 1724,-1520.3 1724,-1491.06"/>
<polygon fill="#555555" stroke="#555555" points="1727.5,-1491.32 1724,-1481.32 1720.5,-1491.32 1727.5,-1491.32"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"[]","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (source_obj == dude_obj) then begin\n    set_global_var(5, global_var(5) + 1);\n    if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin\n      set_global_var(2, 1);\n      set_global_var(3, 0);\n    end\n    if (metarule(51, self_obj) == 2) then begin\n      if (source_obj == dude_obj) then begin\n        set_global_var(2, 0);\n        set_global_var(1, global_var(1) + 1);\n        set_global_var(0, global_var(0) + 4294967281);\n        debug_msg(\"abjohn\" + \": \" + \"Player gains \" + 4294967281 + \" Karma Points.\" + \"\\n\");\n        set_global_var(37, 0);\n        set_global_var(38, 0);\n        set_global_var(39, 0);\n        set_global_var(40, 0);\n        set_global_var(41, 0);\n        set_global_var(42, 0);\n        set_global_var(43, 0);\n        set_global_var(44, 0);\n        set_global_var(45, 0);\n        tmp_gen_rep := global_var(0);\n        if (has_trait(0, dude_obj, 95)) then begin\n          tmp_gen_rep := global_var(0) * 2;\n        end\n        if (tmp_gen_rep >= 1000) then begin\n          set_global_var(37, 1);\n        end\n        else begin\n          if (tmp_gen_rep >= 750) then begin\n            set_global_var(38, 1);\n          end\n          else begin\n            if (tmp_gen_rep >= 500) then begin\n              set_global_var(39, 1);\n            end\n            else begin\n              if (tmp_gen_rep >= 250) then begin\n                set_global_var(40, 1);\n              end\n              else begin\n                if (tmp_gen_rep > 4294967046) then begin\n                  set_global_var(41, 1);\n                end\n                else begin\n                  if (tmp_gen_rep > 4294966796) then begin\n                    set_global_var(42, 1);\n                  end\n                  else begin\n                    if (tmp_gen_rep > 4294966546) then begin\n                      set_global_var(43, 1);\n                    end\n                    else begin\n                      if (tmp_gen_rep > 4294966296) then begin\n                        set_global_var(44, 1);\n                      end\n                      else begin\n                        set_global_var(45, 1);\n                      end\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n        set_global_var(63, global_var(63) + 4294967288);\n        debug_msg(\"abjohn\" + \": \" + \"Added \" + 4294967288 + \" to Town Rep\" + \"\\n\");\n      end\n    end\n    if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin\n      set_global_var(3, 1);\n      set_global_var(2, 0);\n    end\n    set_global_var(0, global_var(0) + 4294967286);\n    debug_msg(\"abjohn\" + \": \" + \"Player gains \" + 4294967286 + \" Karma Points.\" + \"\\n\");\n    set_global_var(37, 0);\n    set_global_var(38, 0);\n    set_global_var(39, 0);\n    set_global_var(40, 0);\n    set_global_var(41, 0);\n    set_global_var(42, 0);\n    set_global_var(43, 0);\n    set_global_var(44, 0);\n    set_global_var(45, 0);\n    tmp_gen_rep := global_var(0);\n    if (has_trait(0, dude_obj, 95)) then begin\n      tmp_gen_rep := global_var(0) * 2;\n    end\n    if (tmp_gen_rep >= 1000) then begin\n      set_global_var(37, 1);\n    end\n    else begin\n      if (tmp_gen_rep >= 750) then begin\n        set_global_var(38, 1);\n      end\n      else begin\n        if (tmp_gen_rep >= 500) then begin\n          set_global_var(39, 1);\n        end\n        else begin\n          if (tmp_gen_rep >= 250) then begin\n            set_global_var(40, 1);\n          end\n          else begin\n            if (tmp_gen_rep > 4294967046) then begin\n              set_global_var(41, 1);\n            end\n            else begin\n              if (tmp_gen_rep > 4294966796) then begin\n                set_global_var(42, 1);\n              end\n              else begin\n                if (tmp_gen_rep > 4294966546) then begin\n                  set_global_var(43, 1);\n                end\n                else begin\n                  if (tmp_gen_rep > 4294966296) then begin\n                    set_global_var(44, 1);\n                  end\n                  else begin\n                    set_global_var(45, 1);\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n    set_global_var(63, global_var(63) + 4294967291);\n    debug_msg(\"abjohn\" + \": \" + \"Added \" + 4294967291 + \" to Town Rep\" + \"\\n\");\n  end\n  display_msg(message_str(1319, 700));\nend\n","use_p_proc":"[]","look_at_p_proc":"script_overrides;\nif (local_var(4) == 0) then begin\n  display_msg(message_str(1319, 100));\nend\nelse begin\n  display_msg(message_str(1319, 101));\nend\n","description_p_proc":"script_overrides;\ndisplay_msg(message_str(1319, 102));\n","use_skill_on_p_proc":"[]","use_obj_on_p_proc":"[]","damage_p_proc":"if (source_obj == dude_obj) then begin\n  set_local_var(0, local_var(0) bwor 8);\n  set_local_var(0, local_var(0) bwor 2);\n  if (global_var(63) != 4294967266) then begin\n    set_global_var(63, 4294967266);\n  end\nend\n","map_enter_p_proc":"critter_add_trait(self_obj, 1, 6, 211);\n","map_update_p_proc":"[]","talk_p_proc":"if (local_var(7) == 1) then begin\n  float_msg(self_obj, message_str(1319, 500), 3);\nend\nelse begin\n  if (local_var(7) == 2) then begin\n    float_msg(self_obj, message_str(1319, 600), 1);\n  end\n  else begin\n    start_gdialog(1319, self_obj, 4, 4294967295, 4294967295);\n    gsay_start;\n    call Node001;\n    gsay_end;\n    end_dialogue;\n  end\nend\n","give_items":"restock_obj := create_object_sid(86, 0, 0, 4294967295);\nadd_mult_objs_to_inven(dude_obj, restock_obj, 1);\n","give_caps":"restock_obj := create_object_sid(41, 0, 0, 4294967295);\nadd_mult_objs_to_inven(dude_obj, restock_obj, 400);\n","Node001":"gsay_reply(1319, 300);\ngiq_option(4, 1319, 301, Node002, 50);\ngiq_option(4, 1319, 302, Node008, 50);\ngiq_option(4, 1319, 303, Node999, 50);\n","Node002":"gsay_reply(1319, 400);\ngiq_option(4, 1319, 401, Node003, 50);\ngiq_option(4, 1319, 402, Node999, 50);\n","Node003":"gsay_reply(1319, 403);\ngiq_option(4, 1319, 404, Node004, 50);\ngiq_option(4, 1319, 405, Node999, 50);\n","Node004":"call Node005;\n","Node005":"gsay_reply(1319, 406);\nif (obj_is_carrying_obj_pid(dude_obj, 333)) then begin\n  giq_option(4, 1319, 407, Node006, 50);\nend\ngiq_option(4, 1319, 408, Node999, 50);\n","Node006":"gsay_reply(1319, 411);\ngiq_option(4, 1319, 412, Node007a, 49);\ngiq_option(4, 1319, 413, Node007b, 51);\ngiq_option(4, 1319, 414, Node999, 51);\n","Node007a":"variable LVar0 := 0;\nLVar0 := obj_carrying_pid_obj(dude_obj, 333);\nrm_obj_from_inven(dude_obj, LVar0);\nadd_obj_to_inven(self_obj, LVar0);\nset_local_var(7, 1);\nset_global_var(63, global_var(63) + 5);\nset_global_var(0, global_var(0) + 2);\ndebug_msg(\"abjohn\" + \": \" + \"Player gains \" + 2 + \" Karma Points.\" + \"\\n\");\nset_global_var(37, 0);\nset_global_var(38, 0);\nset_global_var(39, 0);\nset_global_var(40, 0);\nset_global_var(41, 0);\nset_global_var(42, 0);\nset_global_var(43, 0);\nset_global_var(44, 0);\nset_global_var(45, 0);\ntmp_gen_rep := global_var(0);\nif (has_trait(0, dude_obj, 95)) then begin\n  tmp_gen_rep := global_var(0) * 2;\nend\nif (tmp_gen_rep >= 1000) then begin\n  set_global_var(37, 1);\nend\nelse begin\n  if (tmp_gen_rep >= 750) then begin\n    set_global_var(38, 1);\n  end\n  else begin\n    if (tmp_gen_rep >= 500) then begin\n      set_global_var(39, 1);\n    end\n    else begin\n      if (tmp_gen_rep >= 250) then begin\n        set_global_var(40, 1);\n      end\n      else begin\n        if (tmp_gen_rep > 4294967046) then begin\n          set_global_var(41, 1);\n        end\n        else begin\n          if (tmp_gen_rep > 4294966796) then begin\n            set_global_var(42, 1);\n          end\n          else begin\n            if (tmp_gen_rep > 4294966546) then begin\n              set_global_var(43, 1);\n            end\n            else begin\n              if (tmp_gen_rep > 4294966296) then begin\n                set_global_var(44, 1);\n              end\n              else begin\n                set_global_var(45, 1);\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend\ncall give_items;\ngsay_reply(1319, 415);\ngiq_option(4, 1319, 416, Node999, 50);\n","Node007b":"variable LVar0 := 0;\nLVar0 := obj_carrying_pid_obj(dude_obj, 333);\nrm_obj_from_inven(dude_obj, LVar0);\nadd_obj_to_inven(self_obj, LVar0);\nset_local_var(7, 2);\ncall give_caps;\ngsay_reply(1319, 417);\ngiq_option(4, 1319, 418, Node012, 50);\ngiq_option(4, 1319, 419, Node999, 50);\n","Node008":"gsay_reply(1319, 420);\ngiq_option(4, 1319, 421, Node001, 50);\n","Node012":"gsay_reply(1319, 422);\ngiq_option(4, 1319, 423, Node999, 50);\n","Node999":"[]","Node998":"set_global_var(63, 4294967266);\n","critter_p_proc":"if ((global_var(63) == 4294967266) and obj_can_see_obj(self_obj, dude_obj)) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\n","timed_event_p_proc":"[]","pickup_p_proc":"if (source_obj == dude_obj) then begin\n  call Node998;\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>