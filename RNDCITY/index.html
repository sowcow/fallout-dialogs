<!DOCTYPE html><html><head><title>RNDCITY</title><meta charset="utf-8" /></head><body><svg width="1397pt" height="299pt"
 viewBox="0.00 0.00 1396.70 298.95" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 294.953)">
<title>RNDCITY</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-294.953 1392.7,-294.953 1392.7,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="942.702" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- City1 -->
<g id="node2" class="node"><title>City1</title>
<ellipse fill="#ffffff" stroke="#000000" cx="99.7021" cy="-181.477" rx="99.9045" ry="37.4533"/>
<text text-anchor="middle" x="99.7021" y="-192.777" font-family="Times,serif" font-size="14.00">You have stumbled in</text>
<text text-anchor="middle" x="99.7021" y="-177.777" font-family="Times,serif" font-size="14.00">to a super mutant am</text>
<text text-anchor="middle" x="99.7021" y="-162.777" font-family="Times,serif" font-size="14.00">bush!</text>
</g>
<!-- start&#45;&gt;City1 -->
<g id="edge1" class="edge"><title>start&#45;&gt;City1</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M915.38,-272.43C818.148,-273.61 480.243,-273.293 208.702,-218.953 198.943,-217 188.849,-214.424 178.922,-211.541"/>
<polygon fill="#555555" stroke="#555555" points="179.653,-208.106 169.068,-208.567 177.63,-214.807 179.653,-208.106"/>
</g>
<!-- City2 -->
<g id="node3" class="node"><title>City2</title>
<ellipse fill="#ffffff" stroke="#000000" cx="316.702" cy="-181.477" rx="98.9899" ry="37.4533"/>
<text text-anchor="middle" x="316.702" y="-192.777" font-family="Times,serif" font-size="14.00">Looks like you&#39;ve st</text>
<text text-anchor="middle" x="316.702" y="-177.777" font-family="Times,serif" font-size="14.00">umbled into a gang w</text>
<text text-anchor="middle" x="316.702" y="-162.777" font-family="Times,serif" font-size="14.00">ar!</text>
</g>
<!-- start&#45;&gt;City2 -->
<g id="edge2" class="edge"><title>start&#45;&gt;City2</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M915.681,-271.313C838.3,-269.025 609.556,-259.096 424.702,-218.953 415.129,-216.874 405.22,-214.236 395.463,-211.331"/>
<polygon fill="#555555" stroke="#555555" points="396.362,-207.946 385.775,-208.349 394.303,-214.636 396.362,-207.946"/>
</g>
<!-- City3 -->
<g id="node4" class="node"><title>City3</title>
<ellipse fill="#ffffff" stroke="#000000" cx="524.702" cy="-181.477" rx="91.4341" ry="26.7407"/>
<text text-anchor="middle" x="524.702" y="-185.277" font-family="Times,serif" font-size="14.00">A group of hostile r</text>
<text text-anchor="middle" x="524.702" y="-170.277" font-family="Times,serif" font-size="14.00">aiders bursts forth!</text>
</g>
<!-- start&#45;&gt;City3 -->
<g id="edge3" class="edge"><title>start&#45;&gt;City3</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M916.06,-269.15C861.114,-263.008 731.5,-246.659 625.702,-218.953 612.983,-215.623 599.607,-211.359 586.901,-206.929"/>
<polygon fill="#555555" stroke="#555555" points="587.932,-203.581 577.337,-203.521 585.582,-210.175 587.932,-203.581"/>
</g>
<!-- City4 -->
<g id="node5" class="node"><title>City4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="732.702" cy="-181.477" rx="98.0761" ry="37.4533"/>
<text text-anchor="middle" x="732.702" y="-192.777" font-family="Times,serif" font-size="14.00">A large group of rat</text>
<text text-anchor="middle" x="732.702" y="-177.777" font-family="Times,serif" font-size="14.00">s comes scurrying do</text>
<text text-anchor="middle" x="732.702" y="-162.777" font-family="Times,serif" font-size="14.00">wn the streets!</text>
</g>
<!-- start&#45;&gt;City4 -->
<g id="edge4" class="edge"><title>start&#45;&gt;City4</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M920.625,-262.547C893.661,-251.058 846.666,-231.034 806.419,-213.886"/>
<polygon fill="#555555" stroke="#555555" points="807.721,-210.636 797.15,-209.936 804.977,-217.076 807.721,-210.636"/>
</g>
<!-- City5 -->
<g id="node6" class="node"><title>City5</title>
<ellipse fill="#ffffff" stroke="#000000" cx="942.702" cy="-181.477" rx="93.1765" ry="26.7407"/>
<text text-anchor="middle" x="942.702" y="-185.277" font-family="Times,serif" font-size="14.00">A group of hostile g</text>
<text text-anchor="middle" x="942.702" y="-170.277" font-family="Times,serif" font-size="14.00">angers bursts forth!</text>
</g>
<!-- start&#45;&gt;City5 -->
<g id="edge5" class="edge"><title>start&#45;&gt;City5</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M942.702,-254.701C942.702,-244.465 942.702,-231.095 942.702,-218.645"/>
<polygon fill="#555555" stroke="#555555" points="946.202,-218.492 942.702,-208.492 939.202,-218.492 946.202,-218.492"/>
</g>
<!-- City6 -->
<g id="node7" class="node"><title>City6</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1149.7" cy="-181.477" rx="95.4188" ry="26.7407"/>
<text text-anchor="middle" x="1149.7" y="-185.277" font-family="Times,serif" font-size="14.00">You are suddenly att</text>
<text text-anchor="middle" x="1149.7" y="-170.277" font-family="Times,serif" font-size="14.00">acked by rats!</text>
</g>
<!-- start&#45;&gt;City6 -->
<g id="edge6" class="edge"><title>start&#45;&gt;City6</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M963.957,-261.743C968.787,-259.471 973.908,-257.1 978.702,-254.953 1014.73,-238.821 1055.4,-221.545 1088.04,-207.907"/>
<polygon fill="#555555" stroke="#555555" points="1089.57,-211.059 1097.46,-203.979 1086.88,-204.598 1089.57,-211.059"/>
</g>
<!-- hunters -->
<g id="node8" class="node"><title>hunters</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1289.7" cy="-181.477" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;hunters -->
<g id="edge7" class="edge"><title>start&#45;&gt;hunters</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M963.21,-260.93C968.167,-258.644 973.529,-256.473 978.702,-254.953 1096.97,-220.217 1143.31,-273.795 1253.7,-218.953 1260.23,-215.709 1266.27,-210.802 1271.47,-205.63"/>
<polygon fill="#555555" stroke="#555555" points="1274.26,-207.766 1278.43,-198.027 1269.09,-203.039 1274.26,-207.766"/>
</g>
<!-- Lighting -->
<g id="node9" class="node"><title>Lighting</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1361.7" cy="-181.477" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge8" class="edge"><title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M959.33,-258.614C962.7,-257.195 966.24,-255.92 969.702,-254.953 1119.04,-213.256 1176.93,-286.07 1316.7,-218.953 1324.26,-215.324 1331.13,-209.426 1337.24,-203.42"/>
<polygon fill="#555555" stroke="#555555" points="1340.09,-205.514 1344.58,-195.917 1335.09,-200.62 1340.09,-205.514"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge9" class="edge"><title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M966.002,-263.49C972.982,-260.3 980.512,-256.961 987.702,-254.953 1137.04,-213.256 1194.93,-286.07 1334.7,-218.953 1340.56,-216.141 1346.01,-211.964 1350.59,-207.431"/>
<polygon fill="#555555" stroke="#555555" points="1353.45,-209.472 1357.41,-199.643 1348.19,-204.861 1353.45,-209.472"/>
</g>
<!-- stranger -->
<g id="node10" class="node"><title>stranger</title>
<ellipse fill="#ffffff" stroke="#000000" cx="787.702" cy="-90" rx="27" ry="18"/>
</g>
<!-- City1&#45;&gt;stranger -->
<g id="edge18" class="edge"><title>City1&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M169.404,-154.499C182.325,-150.445 195.813,-146.708 208.702,-144 409.91,-101.722 657.475,-93.1688 750.254,-91.4387"/>
<polygon fill="#555555" stroke="#555555" points="750.595,-94.9335 760.534,-91.2636 750.476,-87.9345 750.595,-94.9335"/>
</g>
<!-- Place_critter -->
<g id="node11" class="node"><title>Place_critter</title>
<ellipse fill="#ffffff" stroke="#000000" cx="787.702" cy="-18" rx="27" ry="18"/>
</g>
<!-- City1&#45;&gt;Place_critter -->
<g id="edge16" class="edge"><title>City1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M167.298,-153.745C178.061,-150.283 189.125,-146.929 199.702,-144 405.59,-86.9852 658.611,-40.189 751.495,-24.5726"/>
<polygon fill="#555555" stroke="#555555" points="752.218,-28.0005 761.508,-22.9072 751.07,-21.0953 752.218,-28.0005"/>
</g>
<!-- City1&#45;&gt;Place_critter -->
<g id="edge17" class="edge"><title>City1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M175.321,-156.88C189.379,-152.334 203.952,-147.808 217.702,-144 417.662,-88.627 662.078,-42.8926 752.266,-25.9987"/>
<polygon fill="#555555" stroke="#555555" points="753.057,-29.4115 762.24,-24.1289 751.767,-22.5314 753.057,-29.4115"/>
</g>
<!-- City2&#45;&gt;stranger -->
<g id="edge21" class="edge"><title>City2&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M386.46,-154.87C399.073,-150.828 412.193,-147 424.702,-144 542.037,-115.864 684.51,-100.345 750.653,-94.1785"/>
<polygon fill="#555555" stroke="#555555" points="751.333,-97.631 760.973,-93.2349 750.696,-90.6601 751.333,-97.631"/>
</g>
<!-- City2&#45;&gt;Place_critter -->
<g id="edge19" class="edge"><title>City2&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M386.498,-154.801C489.181,-118.692 676.882,-54.5192 753.692,-29.4469"/>
<polygon fill="#555555" stroke="#555555" points="754.919,-32.7286 763.35,-26.3123 752.758,-26.0705 754.919,-32.7286"/>
</g>
<!-- City2&#45;&gt;Place_critter -->
<g id="edge20" class="edge"><title>City2&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M391.155,-156.65C495.302,-121.878 679.934,-58.4508 754.86,-31.5728"/>
<polygon fill="#555555" stroke="#555555" points="756.465,-34.7146 764.684,-28.0295 754.09,-28.1298 756.465,-34.7146"/>
</g>
<!-- City3&#45;&gt;stranger -->
<g id="edge24" class="edge"><title>City3&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M580.161,-160.105C594.929,-154.774 610.894,-149.095 625.702,-144 669.953,-128.775 721.352,-112.135 754.182,-101.639"/>
<polygon fill="#555555" stroke="#555555" points="755.283,-104.961 763.746,-98.5865 753.155,-98.2924 755.283,-104.961"/>
</g>
<!-- City3&#45;&gt;Place_critter -->
<g id="edge22" class="edge"><title>City3&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M558.823,-156.476C610.795,-122.966 708.572,-63.0894 757.882,-34.7267"/>
<polygon fill="#555555" stroke="#555555" points="759.832,-37.6438 766.787,-29.651 756.366,-31.5623 759.832,-37.6438"/>
</g>
<!-- City3&#45;&gt;Place_critter -->
<g id="edge23" class="edge"><title>City3&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M566.991,-157.512C622.116,-125.269 716.549,-67.2087 761.995,-37.5437"/>
<polygon fill="#555555" stroke="#555555" points="763.979,-40.4284 770.406,-32.0054 760.129,-34.5822 763.979,-40.4284"/>
</g>
<!-- City4&#45;&gt;stranger -->
<g id="edge26" class="edge"><title>City4&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M754.598,-144.856C760.556,-135.162 766.881,-124.872 772.389,-115.912"/>
<polygon fill="#555555" stroke="#555555" points="775.528,-117.489 777.783,-107.137 769.564,-113.824 775.528,-117.489"/>
</g>
<!-- City4&#45;&gt;Place_critter -->
<g id="edge25" class="edge"><title>City4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M735.251,-143.751C737.686,-122.224 742.439,-94.8584 751.702,-72 755.901,-61.6395 762.351,-51.2454 768.638,-42.4408"/>
<polygon fill="#555555" stroke="#555555" points="771.595,-44.3306 774.781,-34.2261 765.989,-40.1384 771.595,-44.3306"/>
</g>
<!-- City5&#45;&gt;stranger -->
<g id="edge29" class="edge"><title>City5&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M902.382,-157.201C875.339,-141.59 840.381,-121.41 816.206,-107.454"/>
<polygon fill="#555555" stroke="#555555" points="817.918,-104.401 807.508,-102.433 814.418,-110.464 817.918,-104.401"/>
</g>
<!-- City5&#45;&gt;Place_critter -->
<g id="edge27" class="edge"><title>City5&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M913.787,-155.6C881.977,-124.871 832.184,-72.9675 805.56,-42.7618"/>
<polygon fill="#555555" stroke="#555555" points="807.897,-40.1136 798.7,-34.8532 802.609,-44.7006 807.897,-40.1136"/>
</g>
<!-- City5&#45;&gt;Place_critter -->
<g id="edge28" class="edge"><title>City5&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M923.231,-154.89C894.885,-122.917 842.84,-68.8405 812.025,-39.4687"/>
<polygon fill="#555555" stroke="#555555" points="814.359,-36.8597 804.675,-32.5621 809.565,-41.9608 814.359,-36.8597"/>
</g>
<!-- City6&#45;&gt;stranger -->
<g id="edge31" class="edge"><title>City6&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1094,-159.606C1078.2,-154.101 1060.89,-148.46 1044.7,-144 967,-122.59 873.954,-105.46 823.881,-96.9192"/>
<polygon fill="#555555" stroke="#555555" points="824.313,-93.4426 813.87,-95.2287 823.147,-100.345 824.313,-93.4426"/>
</g>
<!-- City6&#45;&gt;Place_critter -->
<g id="edge30" class="edge"><title>City6&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1100.13,-158.363C1024.4,-124.583 882.079,-61.0987 819.079,-32.9961"/>
<polygon fill="#555555" stroke="#555555" points="820.229,-29.6769 809.671,-28.7995 817.378,-36.0698 820.229,-29.6769"/>
</g>
<!-- hunters&#45;&gt;stranger -->
<g id="edge15" class="edge"><title>hunters&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1278.46,-164.859C1272.1,-157.254 1263.46,-148.747 1253.7,-144 1178.09,-107.233 921.231,-95.2957 824.74,-92.0542"/>
<polygon fill="#555555" stroke="#555555" points="824.691,-88.5509 814.583,-91.7255 824.465,-95.5472 824.691,-88.5509"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge11" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1265.33,-173.322C1251.22,-165.037 1239.7,-151.563 1226.7,-144 1090.73,-64.8734 903.443,-34.5687 823.988,-24.039"/>
<polygon fill="#555555" stroke="#555555" points="824.32,-20.5528 813.953,-22.7377 823.42,-27.4946 824.32,-20.5528"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge12" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1272.28,-167.606C1264.39,-159.71 1255.01,-149.997 1244.7,-144 1103.01,-61.547 905.606,-32.107 824.509,-22.8137"/>
<polygon fill="#555555" stroke="#555555" points="824.629,-19.3057 814.304,-21.6808 823.857,-26.263 824.629,-19.3057"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge13" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1284.77,-163.594C1279.28,-156.621 1271.32,-149.012 1262.7,-144 1115.52,-58.3486 908.207,-29.9028 824.591,-21.8213"/>
<polygon fill="#555555" stroke="#555555" points="824.835,-18.329 814.555,-20.8932 824.19,-25.2993 824.835,-18.329"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge14" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1302.23,-165.445C1298.7,-158 1290.08,-149.46 1280.7,-144 1128.52,-55.4415 912.065,-28.0377 824.546,-21.0673"/>
<polygon fill="#555555" stroke="#555555" points="824.759,-17.5735 814.525,-20.3158 824.235,-24.5539 824.759,-17.5735"/>
</g>
<!-- stranger&#45;&gt;Place_critter -->
<g id="edge10" class="edge"><title>stranger&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M787.702,-71.6966C787.702,-63.9827 787.702,-54.7125 787.702,-46.1124"/>
<polygon fill="#555555" stroke="#555555" points="791.202,-46.1043 787.702,-36.1043 784.202,-46.1044 791.202,-46.1043"/>
</g>
<!-- add_party -->
<g id="node12" class="node"><title>add_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1014.7" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- update_party -->
<g id="node13" class="node"><title>update_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1086.7" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- remove_party -->
<g id="node14" class="node"><title>remove_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1158.7" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- Darkness -->
<g id="node15" class="node"><title>Darkness</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1230.7" cy="-272.953" rx="27" ry="18"/>
</g>
<!-- Invasion -->
<g id="node16" class="node"><title>Invasion</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1302.7" cy="-272.953" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 15) then begin\n  if (metarule(14, 0)) then begin\n    dude_pos := random(0, 2);\n    dude_rot := random(0, 5);\n    if (dude_pos == 0) then begin\n      override_map_start(100, 100, 0, dude_rot);\n    end\n    else begin\n      if (dude_pos == 1) then begin\n        override_map_start(116, 83, 0, dude_rot);\n      end\n      else begin\n        override_map_start(92, 110, 0, dude_rot);\n      end\n    end\n  end\n  if ((global_var(32) != 1) and metarule(14, 0)) then begin\n    Dude_tile := tile_num(dude_obj);\n    Ranger_rerolls := has_trait(0, dude_obj, 47);\n    set_global_var(334, 0);\n    while(Encounter_Num == 0) do begin\n      Encounter_Num := random(1, 6) + random(1, 6) + random(1, 6);\n      if (get_critter_stat(dude_obj, 6) > 8) then begin\n        Encounter_Num := Encounter_Num + 2;\n      end\n      else begin\n        if (get_critter_stat(dude_obj, 6) > 7) then begin\n          Encounter_Num := Encounter_Num + 1;\n        end\n        else begin\n          if (get_critter_stat(dude_obj, 6) < 3) then begin\n            Encounter_Num := Encounter_Num - 1;\n          end\n        end\n      end\n      if ((global_var(123) != 3) and (global_var(158) > 2) and random(0, 1)) then begin\n        Encounter_Num := 7;\n      end\n      else begin\n        if (Encounter_Num <= 3) then begin\n          Encounter_Num := 1;\n        end\n        else begin\n          if (Encounter_Num <= 5) then begin\n            Encounter_Num := 2;\n          end\n          else begin\n            if (Encounter_Num <= 8) then begin\n              Encounter_Num := 3;\n            end\n            else begin\n              if (Encounter_Num <= 12) then begin\n                Encounter_Num := 4;\n              end\n              else begin\n                if (Encounter_Num <= 15) then begin\n                  Encounter_Num := 5;\n                end\n                else begin\n                  Encounter_Num := 6;\n                end\n              end\n            end\n          end\n        end\n      end\n      if (Ranger_rerolls) then begin\n        if ((Encounter_Num == 1) or (Encounter_Num == 2) or (Encounter_Num == 3) or (Encounter_Num == 3) or (Encounter_Num == 5) or (Encounter_Num == 7)) then begin\n          Encounter_Num := 0;\n        end\n        Ranger_rerolls := Ranger_rerolls - 1;\n      end\n    end\n    if (global_var(295)) then begin\n      Encounter_Num := global_var(295);\n      set_global_var(295, 0);\n      display_msg(\"City encounter type: \" + Encounter_Num);\n    end\n    if (Encounter_Num == 1) then begin\n      call City1;\n    end\n    else begin\n      if (Encounter_Num == 2) then begin\n        call City2;\n      end\n      else begin\n        if (Encounter_Num == 3) then begin\n          call City3;\n        end\n        else begin\n          if (Encounter_Num == 4) then begin\n            call City4;\n          end\n          else begin\n            if (Encounter_Num == 5) then begin\n              call City5;\n            end\n            else begin\n              if (Encounter_Num == 6) then begin\n                call City6;\n              end\n              else begin\n                call hunters;\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  call Lighting;\nend\nelse begin\n  if (script_action == 23) then begin\n    call Lighting;\n  end\nend\n","stranger":"if (has_trait(0, dude_obj, 46) and (global_var(601) == 0) and random(0, 1)) then begin\n  Critter_type := 16777520;\n  Critter_script := 856;\n  Critter_direction := random(0, 5);\n  Outer_ring := 7;\n  Inner_ring := 4;\n  call Place_critter;\n  Critter_direction := dude_rot + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  anim(Critter, 1000, Critter_direction);\n  Item := create_object_sid(40, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 2);\n  Item := create_object_sid(25, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := create_object_sid(21, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := item_caps_adjust(Critter, random(7, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  set_global_var(288, 23);\nend\n","Lighting":"variable LVar0 := 0;\nLVar0 := game_time_hour;\nif ((LVar0 >= 600) and (LVar0 < 700)) then begin\n  set_light_level(LVar0 - 600 + 40);\nend\nelse begin\n  if ((LVar0 >= 700) and (LVar0 < 1800)) then begin\n    set_light_level(100);\n  end\n  else begin\n    if ((LVar0 >= 1800) and (LVar0 < 1900)) then begin\n      set_light_level(100 - (LVar0 - 1800));\n    end\n    else begin\n      set_light_level(40);\n    end\n  end\nend\n","Place_critter":"variable LVar0 := 0;\nvariable LVar1 := 0;\nvariable LVar2 := 0;\nCritter := create_object_sid(Critter_type, 0, 0, Critter_script);\nLVar2 := random(Inner_ring, Outer_ring);\nLVar0 := random(0, 5);\nCritter_tile := tile_num_in_direction(Dude_tile, Critter_direction, LVar2);\nLVar1 := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nif ((tile_distance(Dude_tile, LVar1) <= Outer_ring) and (tile_distance(Dude_tile, LVar1) >= Inner_ring)) then begin\n  Critter_tile := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nend\ncritter_attempt_placement(Critter, Critter_tile, 0);\n","hunters":"Inner_ring := 8;\nOuter_ring := 5;\ngroup_angle := random(0, 5);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777349;\nCritter_script := 241;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(23, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(36, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 4 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(17, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nItem := create_object_sid(144, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777467;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(7, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777472;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(143, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(34, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 3 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(14, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 40) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777462;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(18, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(31, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\ncall stranger;\n","City1":"display_msg(message_str(244, 100));\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 8;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nTot_Critter_A := random(2, 3);\ngroup_angle := random(0, 5);\nCritter_type := 16777403;\nCritter_script := 850;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 2 * 2) - 2);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  if (random(0, 2) == 0) then begin\n    if (random(0, 1) == 1) then begin\n      Item := create_object_sid(11, 0, 0, -1);\n    end\n    else begin\n      Item := create_object_sid(12, 0, 0, -1);\n    end\n  end\n  else begin\n    Item := create_object_sid(234, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  Item := create_object_sid(40, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 1);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(5, 20) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Item := create_object_sid(35, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 1 + has_trait(0, dude_obj, 40));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nif (random(0, 2) == 0) then begin\n  Critter_direction := random(0, 5);\n  Critter_script := 854;\n  Critter_type := 16777241;\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Item := create_object_sid(12, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := item_caps_adjust(Critter, random(5, 20) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\ncall stranger;\n","City2":"variable LVar0 := 0;\ndisplay_msg(message_str(244, 101));\ngroup_angle := random(0, 5);\nif ((game_time_hour >= 1900) or (game_time_hour < 600)) then begin\n  Critter := create_object_sid(33554433, 0, 0, -1);\n  Critter_tile := tile_num_in_direction(Dude_tile, group_angle, 4);\n  critter_attempt_placement(Critter, Critter_tile, 0);\n  Critter := create_object_sid(33554433, 0, 0, -1);\n  if (group_angle == 0) then begin\n    Item := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Item := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Item := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Item := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Item := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Item := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  Critter_tile := tile_num_in_direction(Dude_tile, Item, 4);\n  critter_attempt_placement(Critter, Critter_tile, 0);\nend\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 6;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nTot_Critter_A := random(3, 6);\nTot_Critter_B := random(3, 5);\nCritter_type := 16777419;\nCritter_script := 749;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  LVar0 := random(0, 2);\n  if (LVar0 == 0) then begin\n    Item := create_object_sid(18, 0, 0, -1);\n  end\n  else begin\n    if (LVar0 == 1) then begin\n      Item := create_object_sid(21, 0, 0, -1);\n    end\n    else begin\n      Item := create_object_sid(8, 0, 0, -1);\n    end\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(5, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nvictim := Critter;\nCritter_type := 16777472;\nCritter_script := 751;\nif (group_angle == 0) then begin\n  group_angle := 3;\nend\nelse begin\n  if (group_angle == 1) then begin\n    group_angle := 4;\n  end\n  else begin\n    if (group_angle == 2) then begin\n      group_angle := 5;\n    end\n    else begin\n      if (group_angle == 3) then begin\n        group_angle := 0;\n      end\n      else begin\n        if (group_angle == 4) then begin\n          group_angle := 1;\n        end\n        else begin\n          if (group_angle == 5) then begin\n            group_angle := 2;\n          end\n        end\n      end\n    end\n  end\nend\nwhile(Tot_Critter_B) do begin\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  if (random(0, 1)) then begin\n    Item := create_object_sid(4, 0, 0, -1);\n  end\n  else begin\n    Item := create_object_sid(7, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(4, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_B := Tot_Critter_B - 1;\nend\nattack_setup(Critter, victim);\ncall stranger;\n","City3":"display_msg(message_str(244, 102));\nTot_Critter_A := random(2, 4);\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 3;\ngroup_angle := random(0, 5);\nCritter_type := 16777419;\nCritter_script := 749;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + random(0, 2 * 2) - 2;\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (Critter_direction == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (Critter_direction == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (Critter_direction == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (Critter_direction == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (Critter_direction == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (Critter_direction == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  if (random(0, 1)) then begin\n    Item := create_object_sid(8, 0, 0, -1);\n  end\n  else begin\n    Item := create_object_sid(9, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(4, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_direction := group_angle + random(0, 2 * 2) - 2;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nif (Critter_direction == 0) then begin\n  Critter_direction := 3;\nend\nelse begin\n  if (Critter_direction == 1) then begin\n    Critter_direction := 4;\n  end\n  else begin\n    if (Critter_direction == 2) then begin\n      Critter_direction := 5;\n    end\n    else begin\n      if (Critter_direction == 3) then begin\n        Critter_direction := 0;\n      end\n      else begin\n        if (Critter_direction == 4) then begin\n          Critter_direction := 1;\n        end\n        else begin\n          if (Critter_direction == 5) then begin\n            Critter_direction := 2;\n          end\n        end\n      end\n    end\n  end\nend\nanim(Critter, 1000, Critter_direction);\nItem := create_object_sid(47, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(18, 150) * (has_trait(0, dude_obj, 20) + 1));\nif (random(0, 1)) then begin\n  Item := create_object_sid(38, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  if (has_trait(0, dude_obj, 40)) then begin\n    Item := create_object_sid(38, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(6, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(31, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  if (has_trait(0, dude_obj, 40)) then begin\n    Item := create_object_sid(31, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(4, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","City4":"display_msg(message_str(244, 103));\nTot_Critter_A := random(5, 15);\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 1;\ngroup_angle := random(0, 5);\nItem := random(0, 1);\nCritter_type := 16777264;\nCritter_script := 222;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (Item) then begin\n    if (random(0, 1)) then begin\n      Critter_direction := 3;\n    end\n    else begin\n      Critter_direction := 4;\n    end\n    anim(Critter, 1000, Critter_direction);\n  end\n  else begin\n    if (random(0, 1)) then begin\n      Critter_direction := 1;\n    end\n    else begin\n      Critter_direction := 2;\n    end\n    anim(Critter, 1000, Critter_direction);\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","City5":"display_msg(message_str(244, 104));\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 6;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 2;\nTot_Critter_A := random(3, 5);\ngroup_angle := random(0, 5);\nCritter_type := 16777419;\nCritter_script := 749;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  if (random(0, 1)) then begin\n    Item := create_object_sid(8, 0, 0, -1);\n  end\n  else begin\n    Item := create_object_sid(10, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(4, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_type := 16777254;\nCritter_script := 749;\nCritter_direction := group_angle + random(0, 1 * 2) - 1;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(47, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(19, 135) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nif (random(0, 1)) then begin\n  Item := create_object_sid(38, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, has_trait(0, dude_obj, 40) + 1);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(6, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(31, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, has_trait(0, dude_obj, 40) + 1);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(4, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","City6":"display_msg(message_str(244, 105));\nTot_Critter_A := random(3, 4);\nif ((game_time_hour >= 700) and (game_time_hour < 1800)) then begin\n  Outer_ring := 4;\n  Inner_ring := 2;\nend\nelse begin\n  Outer_ring := 3;\n  Inner_ring := 2;\nend\nCritter_type := 16777264;\nCritter_script := 222;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := random(0, 5);\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","add_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nparty_elevation := elevation(dude_obj);\nif (global_var(26) == 5) then begin\n  if (Tandi_ptr == 0) then begin\n  end\n  critter_add_trait(Tandi_ptr, 1, 6, 0);\nend\n","update_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nif (elevation(dude_obj) != party_elevation) then begin\n  party_elevation := elevation(dude_obj);\n  if (global_var(118) == 2) then begin\n    if (Ian_ptr == 0) then begin\n    end\n    else begin\n      move_to(Ian_ptr, tile_num_in_direction(tile_num(dude_obj), 1, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(5)) then begin\n    if (Dog_ptr == 0) then begin\n    end\n    else begin\n      move_to(Dog_ptr, tile_num_in_direction(tile_num(dude_obj), 2, 1), elevation(dude_obj));\n    end\n  end\n  if (global_var(121) == 2) then begin\n    if (Tycho_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tycho_ptr, tile_num_in_direction(tile_num(dude_obj), 3, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(244) == 2) then begin\n    if (Katja_ptr == 0) then begin\n    end\n    else begin\n      move_to(Katja_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(26) == 5) then begin\n    if (Tandi_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tandi_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 4), elevation(dude_obj));\n    end\n  end\nend\n","remove_party":"if (global_var(118) == 2) then begin\n  set_global_var(118, 2);\nend\nif (global_var(5)) then begin\n  set_global_var(5, 1);\nend\nif (global_var(121) == 2) then begin\n  set_global_var(121, 2);\nend\nif (global_var(244) == 2) then begin\n  set_global_var(244, 2);\nend\nif (global_var(26) == 5) then begin\nend\n","Darkness":"set_light_level(40);\n","Invasion":"if (not(global_var(18) == 2)) then begin\n  if (global_var(149) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(13, 1);\n  end\n  if (global_var(150) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(14, 1);\n  end\n  if (global_var(151) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(16, 1);\n  end\n  if (global_var(152) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(15, 1);\n  end\n  if (global_var(153) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(12, 1);\n  end\n  if (global_var(154) <= 0) then begin\n    set_global_var(11, 1);\n  end\n  if (global_var(148) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(7, 1);\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>