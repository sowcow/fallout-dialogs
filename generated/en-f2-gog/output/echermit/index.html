<!DOCTYPE html><html><head><title>echermit</title><meta charset="utf-8" /></head><body><svg width="1761pt" height="802pt"
 viewBox="0.00 0.00 1761.23 801.85" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 797.85)">
<title>echermit</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-797.85 1757.23,-797.85 1757.23,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- checkPartyMembersNearDoor -->
<g id="node2" class="node">
<title>checkPartyMembersNearDoor</title>
<ellipse fill="#ffffff" stroke="#000000" cx="99" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node3" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node4" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="243" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- destroy_p_proc -->
<g id="node5" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="315" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- damage_p_proc -->
<g id="node6" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="387" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node7" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="459" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- description_p_proc -->
<g id="node8" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="626" cy="-763.8" rx="122.15" ry="30.05"/>
<text text-anchor="middle" x="626" y="-767.75" font-family="Times,serif" font-size="14.00">It looks as if he hasn&#39;t</text>
<text text-anchor="middle" x="626" y="-750.5" font-family="Times,serif" font-size="14.00">washed in years.</text>
</g>
<!-- look_at_p_proc -->
<g id="node9" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="864" cy="-763.8" rx="98.03" ry="18"/>
<text text-anchor="middle" x="864" y="-759.12" font-family="Times,serif" font-size="14.00">You see a hermit.</text>
</g>
<!-- timed_event_p_proc -->
<g id="node10" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1007" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- combat_p_proc -->
<g id="node11" class="node">
<title>combat_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1079" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- NodeFleeing -->
<g id="node12" class="node">
<title>NodeFleeing</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1043" cy="-642.3" rx="27" ry="18"/>
</g>
<!-- combat_p_proc&#45;&gt;NodeFleeing -->
<g id="edge1" class="edge">
<title>combat_p_proc&#45;&gt;NodeFleeing</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1073.84,-745.68C1067.96,-726.16 1058.26,-693.97 1051.31,-670.89"/>
<polygon fill="#555555" stroke="#555555" points="1054.38,-669.96 1048.15,-661.39 1047.68,-671.97 1054.38,-669.96"/>
</g>
<!-- NodeFighting -->
<g id="node13" class="node">
<title>NodeFighting</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1115" cy="-642.3" rx="27" ry="18"/>
</g>
<!-- combat_p_proc&#45;&gt;NodeFighting -->
<g id="edge2" class="edge">
<title>combat_p_proc&#45;&gt;NodeFighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1084.16,-745.68C1090.04,-726.16 1099.74,-693.97 1106.69,-670.89"/>
<polygon fill="#555555" stroke="#555555" points="1110.32,-671.97 1109.85,-661.39 1103.62,-669.96 1110.32,-671.97"/>
</g>
<!-- talk_p_proc -->
<g id="node14" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1426" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- Node001 -->
<g id="node15" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1293" cy="-642.3" rx="133.29" ry="54.45"/>
<text text-anchor="middle" x="1293" y="-663.5" font-family="Times,serif" font-size="14.00">Can guess you why I</text>
<text text-anchor="middle" x="1293" y="-646.25" font-family="Times,serif" font-size="14.00">hermit? [It seems he</text>
<text text-anchor="middle" x="1293" y="-629" font-family="Times,serif" font-size="14.00">hasn&#39;t spoken to anyone</text>
<text text-anchor="middle" x="1293" y="-611.75" font-family="Times,serif" font-size="14.00">in years.]</text>
</g>
<!-- talk_p_proc&#45;&gt;Node001 -->
<g id="edge3" class="edge">
<title>talk_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1410.48,-748.86C1396.81,-736.57 1375.96,-717.84 1355.59,-699.54"/>
<polygon fill="#555555" stroke="#555555" points="1358.3,-697.37 1348.52,-693.29 1353.62,-702.58 1358.3,-697.37"/>
</g>
<!-- Node007 -->
<g id="node16" class="node">
<title>Node007</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1471" cy="-642.3" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;Node007 -->
<g id="edge4" class="edge">
<title>talk_p_proc&#45;&gt;Node007</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1432.35,-745.93C1439.76,-726.27 1452.09,-693.52 1460.83,-670.3"/>
<polygon fill="#555555" stroke="#555555" points="1464.43,-671.67 1464.68,-661.08 1457.88,-669.21 1464.43,-671.67"/>
</g>
<!-- Node002 -->
<g id="node18" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1072" cy="-516.6" rx="108.03" ry="18"/>
<text text-anchor="middle" x="1072" y="-511.93" font-family="Times,serif" font-size="14.00">Me want left alone.</text>
</g>
<!-- Node001&#45;&gt;Node002 -->
<g id="edge5" class="edge">
<title>Node001&#45;&gt;Node002</title>
<path fill="none" stroke="#00995b" d="M1215.08,-597.69C1179.91,-578 1139.91,-555.61 1111.16,-539.52"/>
<polygon fill="#00995b" stroke="#00995b" points="1113.3,-536.15 1102.86,-534.32 1109.88,-542.26 1113.3,-536.15"/>
<text text-anchor="middle" x="1182.5" y="-556.55" font-family="Times,serif" font-size="14.00" fill="#00995b">Why?</text>
</g>
<!-- Node999 -->
<g id="node19" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1225" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge6" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#992f00" d="M1293,-587.42C1293,-565.72 1293,-540.47 1293,-517.6 1293,-517.6 1293,-517.6 1293,-118.3 1293,-89.05 1295.64,-78.06 1279,-54 1273.37,-45.86 1265.16,-39.15 1256.84,-33.87"/>
<polygon fill="#992f00" stroke="#992f00" points="1258.94,-30.47 1248.52,-28.52 1255.45,-36.54 1258.94,-30.47"/>
<text text-anchor="middle" x="1369.5" y="-269.18" font-family="Times,serif" font-size="14.00" fill="#992f00">Just passing through.</text>
</g>
<!-- Node005 -->
<g id="node20" class="node">
<title>Node005</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1461" cy="-351.35" rx="134.88" ry="42.25"/>
<text text-anchor="middle" x="1461" y="-363.93" font-family="Times,serif" font-size="14.00">Hmm...I like you. No ear</text>
<text text-anchor="middle" x="1461" y="-346.68" font-family="Times,serif" font-size="14.00">talk off. Stay, trade me</text>
<text text-anchor="middle" x="1461" y="-329.43" font-family="Times,serif" font-size="14.00">and you.</text>
</g>
<!-- Node001&#45;&gt;Node005 -->
<g id="edge7" class="edge">
<title>Node001&#45;&gt;Node005</title>
<path fill="none" stroke="#020099" d="M1323.42,-588.97C1354.22,-536 1401.52,-454.66 1431.85,-402.49"/>
<polygon fill="#020099" stroke="#020099" points="1435.31,-404.5 1437.31,-394.1 1429.26,-400.99 1435.31,-404.5"/>
<text text-anchor="middle" x="1387.75" y="-511.93" font-family="Times,serif" font-size="14.00" fill="#020099">Ug.</text>
</g>
<!-- use_obj_on_p_proc -->
<g id="node17" class="node">
<title>use_obj_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1498" cy="-763.8" rx="27" ry="18"/>
</g>
<!-- Node002&#45;&gt;Node999 -->
<g id="edge9" class="edge">
<title>Node002&#45;&gt;Node999</title>
<path fill="none" stroke="#990057" d="M1031.39,-499.5C979.14,-475.78 895,-426.14 895,-352.35 895,-352.35 895,-352.35 895,-118.3 895,-57.89 1100.33,-31 1187.06,-22.33"/>
<polygon fill="#990057" stroke="#990057" points="1187.38,-25.72 1196.99,-21.28 1186.7,-18.75 1187.38,-25.72"/>
<text text-anchor="middle" x="961.38" y="-224.55" font-family="Times,serif" font-size="14.00" fill="#990057">I&#39;ll leave you alone</text>
<text text-anchor="middle" x="961.38" y="-207.3" font-family="Times,serif" font-size="14.00" fill="#990057">then.</text>
</g>
<!-- Node003 -->
<g id="node21" class="node">
<title>Node003</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1072" cy="-351.35" rx="122.68" ry="30.05"/>
<text text-anchor="middle" x="1072" y="-355.3" font-family="Times,serif" font-size="14.00">Trade. Then leave you</text>
<text text-anchor="middle" x="1072" y="-338.05" font-family="Times,serif" font-size="14.00">will.</text>
</g>
<!-- Node002&#45;&gt;Node003 -->
<g id="edge8" class="edge">
<title>Node002&#45;&gt;Node003</title>
<path fill="none" stroke="#2b9900" d="M1072,-498.13C1072,-473.15 1072,-426.52 1072,-392.71"/>
<polygon fill="#2b9900" stroke="#2b9900" points="1075.5,-392.79 1072,-382.79 1068.5,-392.79 1075.5,-392.79"/>
<text text-anchor="middle" x="1166.88" y="-467.3" font-family="Times,serif" font-size="14.00" fill="#2b9900">Since I&#39;m here, maybe we</text>
<text text-anchor="middle" x="1166.88" y="-450.05" font-family="Times,serif" font-size="14.00" fill="#2b9900">can barter. I&#39;m sure I</text>
<text text-anchor="middle" x="1166.88" y="-432.8" font-family="Times,serif" font-size="14.00" fill="#2b9900">have something you might</text>
<text text-anchor="middle" x="1166.88" y="-415.55" font-family="Times,serif" font-size="14.00" fill="#2b9900">want.</text>
</g>
<!-- Node005&#45;&gt;Node999 -->
<g id="edge14" class="edge">
<title>Node005&#45;&gt;Node999</title>
<path fill="none" stroke="#990004" d="M1458.87,-308.69C1456.98,-292.04 1453.47,-272.98 1447,-256.6 1406.76,-154.82 1391.78,-123.23 1307,-54 1293.36,-42.86 1275.65,-34.71 1260.19,-29.09"/>
<polygon fill="#990004" stroke="#990004" points="1261.51,-25.51 1250.91,-25.6 1259.25,-32.14 1261.51,-25.51"/>
<text text-anchor="middle" x="1441.38" y="-171.3" font-family="Times,serif" font-size="14.00" fill="#990004">Me go.</text>
</g>
<!-- NodeBarter6 -->
<g id="node24" class="node">
<title>NodeBarter6</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1553" cy="-220.6" rx="27" ry="18"/>
</g>
<!-- Node005&#45;&gt;NodeBarter6 -->
<g id="edge13" class="edge">
<title>Node005&#45;&gt;NodeBarter6</title>
<path fill="none" stroke="#009928" d="M1490.11,-309.62C1505.08,-288.66 1522.83,-263.83 1535.64,-245.89"/>
<polygon fill="#009928" stroke="#009928" points="1538.89,-248.37 1541.86,-238.2 1533.2,-244.3 1538.89,-248.37"/>
<text text-anchor="middle" x="1533.12" y="-269.18" font-family="Times,serif" font-size="14.00" fill="#009928">K&#39;</text>
</g>
<!-- Node003&#45;&gt;Node999 -->
<g id="edge11" class="edge">
<title>Node003&#45;&gt;Node999</title>
<path fill="none" stroke="#998200" d="M1062.67,-320.96C1047.74,-267.58 1025.63,-154.2 1083,-89.25 1111.3,-57.21 1157.58,-38.18 1189.58,-28.17"/>
<polygon fill="#998200" stroke="#998200" points="1190.25,-31.33 1198.83,-25.12 1188.25,-24.62 1190.25,-31.33"/>
<text text-anchor="middle" x="1092.5" y="-171.3" font-family="Times,serif" font-size="14.00" fill="#998200">I best leave.</text>
</g>
<!-- NodeBarter4 -->
<g id="node22" class="node">
<title>NodeBarter4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1135" cy="-220.6" rx="27" ry="18"/>
</g>
<!-- Node003&#45;&gt;NodeBarter4 -->
<g id="edge10" class="edge">
<title>Node003&#45;&gt;NodeBarter4</title>
<path fill="none" stroke="#008499" d="M1072.47,-320.97C1073.99,-301.46 1078.38,-275.97 1090.25,-256.6 1094.36,-249.9 1100.25,-243.97 1106.42,-238.99"/>
<polygon fill="#008499" stroke="#008499" points="1107.86,-241.54 1113.85,-232.8 1103.72,-235.9 1107.86,-241.54"/>
<text text-anchor="middle" x="1181.38" y="-277.8" font-family="Times,serif" font-size="14.00" fill="#008499">OK, here&#39;s what I have to</text>
<text text-anchor="middle" x="1181.38" y="-260.55" font-family="Times,serif" font-size="14.00" fill="#008499">trade.</text>
</g>
<!-- Node004 -->
<g id="node23" class="node">
<title>Node004</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1158" cy="-119.3" rx="66.47" ry="18"/>
<text text-anchor="middle" x="1158" y="-114.63" font-family="Times,serif" font-size="14.00">Leave now.</text>
</g>
<!-- NodeBarter4&#45;&gt;Node004 -->
<g id="edge16" class="edge">
<title>NodeBarter4&#45;&gt;Node004</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1139.52,-202.55C1141,-196.85 1142.61,-190.46 1144,-184.6 1146.83,-172.68 1149.75,-159.46 1152.18,-148.13"/>
<polygon fill="#555555" stroke="#555555" points="1155.77,-149.04 1154.43,-138.54 1148.93,-147.59 1155.77,-149.04"/>
</g>
<!-- Node004&#45;&gt;Node999 -->
<g id="edge12" class="edge">
<title>Node004&#45;&gt;Node999</title>
<path fill="none" stroke="#550099" d="M1153.46,-100.89C1150.91,-87.15 1149.73,-68.03 1158.25,-54 1165.31,-42.38 1177.63,-34.43 1189.79,-29.08"/>
<polygon fill="#550099" stroke="#550099" points="1190.78,-32.06 1198.84,-25.17 1188.25,-25.53 1190.78,-32.06"/>
<text text-anchor="middle" x="1219.38" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#550099">I&#39;ll be going now.</text>
</g>
<!-- Node006 -->
<g id="node25" class="node">
<title>Node006</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1621" cy="-119.3" rx="132.23" ry="30.05"/>
<text text-anchor="middle" x="1621" y="-123.25" font-family="Times,serif" font-size="14.00">Nice talk. Go now. Tired</text>
<text text-anchor="middle" x="1621" y="-106" font-family="Times,serif" font-size="14.00">am I.</text>
</g>
<!-- NodeBarter6&#45;&gt;Node006 -->
<g id="edge17" class="edge">
<title>NodeBarter6&#45;&gt;Node006</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1563.93,-203.65C1572.27,-191.46 1584.14,-174.14 1594.88,-158.44"/>
<polygon fill="#555555" stroke="#555555" points="1598.29,-160.66 1601.05,-150.44 1592.51,-156.71 1598.29,-160.66"/>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge15" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#003199" d="M1569.25,-91.32C1541.9,-78.15 1507.37,-63.2 1475,-54 1401.67,-33.15 1312.57,-24.48 1262.98,-21.06"/>
<polygon fill="#003199" stroke="#003199" points="1263.35,-17.51 1253.14,-20.35 1262.89,-24.49 1263.35,-17.51"/>
<text text-anchor="middle" x="1543.12" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#003199">[END]</text>
</g>
</g>
</svg>
<script>window.Codes = {"start":"[]","checkPartyMembersNearDoor":"if (party_member_obj(16777278) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777278)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777376) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777376)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777377) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777377)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777305) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777305)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777313) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777313)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777323) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777323)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777352) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777352)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777378) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777378)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777368) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777368)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777379) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777379)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777380) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777380)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777295) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777295)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777381) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777381)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777407) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777407)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777411) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777411)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777412) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777412)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777413) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777413)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777481) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777481)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777558) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777558)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777600) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777600)) <= 5) then begin\n    return 1;\n  end\nend\nreturn 0;\n","critter_p_proc":"if ((local_var(1) == 2) and obj_can_see_obj(self_obj, dude_obj)) then begin\n  set_local_var(1, 1);\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\n","pickup_p_proc":"if (source_obj == dude_obj) then begin\n  set_local_var(1, 2);\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(5, global_var(5) + 1);\n  if (metarule(51, self_obj) == 2) then begin\n    if (source_obj == dude_obj) then begin\n      set_global_var(2, 0);\n      set_global_var(1, global_var(1) + 1);\n      set_global_var(0, global_var(0) - -15);\n      set_global_var(37, 0);\n      set_global_var(38, 0);\n      set_global_var(39, 0);\n      set_global_var(40, 0);\n      set_global_var(41, 0);\n      set_global_var(42, 0);\n      set_global_var(43, 0);\n      set_global_var(44, 0);\n      set_global_var(45, 0);\n      if (global_var(0) >= 1000) then begin\n        set_global_var(37, 1);\n      end\n      else begin\n        if (global_var(0) >= 750) then begin\n          set_global_var(38, 1);\n        end\n        else begin\n          if (global_var(0) >= 500) then begin\n            set_global_var(39, 1);\n          end\n          else begin\n            if (global_var(0) >= 250) then begin\n              set_global_var(40, 1);\n            end\n            else begin\n              if (global_var(0) > -250) then begin\n                set_global_var(41, 1);\n              end\n              else begin\n                if (global_var(0) > -500) then begin\n                  set_global_var(42, 1);\n                end\n                else begin\n                  if (global_var(0) > -750) then begin\n                    set_global_var(43, 1);\n                  end\n                  else begin\n                    if (global_var(0) > -1000) then begin\n                      set_global_var(44, 1);\n                    end\n                    else begin\n                      set_global_var(45, 1);\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin\n    set_global_var(2, 1);\n    set_global_var(3, 0);\n  end\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin\n    set_global_var(3, 1);\n    set_global_var(2, 0);\n  end\n  set_global_var(0, global_var(0) + -10);\n  debug_msg(\"Player gains \" + -10 + \" Karma Points.\");\n  set_global_var(37, 0);\n  set_global_var(38, 0);\n  set_global_var(39, 0);\n  set_global_var(40, 0);\n  set_global_var(41, 0);\n  set_global_var(42, 0);\n  set_global_var(43, 0);\n  set_global_var(44, 0);\n  set_global_var(45, 0);\n  if (global_var(0) >= 1000) then begin\n    set_global_var(37, 1);\n  end\n  else begin\n    if (global_var(0) >= 750) then begin\n      set_global_var(38, 1);\n    end\n    else begin\n      if (global_var(0) >= 500) then begin\n        set_global_var(39, 1);\n      end\n      else begin\n        if (global_var(0) >= 250) then begin\n          set_global_var(40, 1);\n        end\n        else begin\n          if (global_var(0) > -250) then begin\n            set_global_var(41, 1);\n          end\n          else begin\n            if (global_var(0) > -500) then begin\n              set_global_var(42, 1);\n            end\n            else begin\n              if (global_var(0) > -750) then begin\n                set_global_var(43, 1);\n              end\n              else begin\n                if (global_var(0) > -1000) then begin\n                  set_global_var(44, 1);\n                end\n                else begin\n                  set_global_var(45, 1);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend\n","damage_p_proc":"if (source_obj == dude_obj) then begin\n  set_local_var(1, 2);\nend\n","map_enter_p_proc":"Only_Once := 0;\ncritter_add_trait(self_obj, 1, 6, 180);\ncritter_add_trait(self_obj, 1, 5, 14);\n","description_p_proc":"script_overrides;\ndisplay_msg(message_str(773, 102));\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(773, 100));\n","timed_event_p_proc":"[]","combat_p_proc":"if (critter_is_fleeing(self_obj)) then begin\n  if (random(1, 100) <= 50) then begin\n    call NodeFleeing;\n  end\nend\nelse begin\n  if (random(1, 100) <= 50) then begin\n    call NodeFighting;\n  end\nend\n","talk_p_proc":"if (local_var(0) == 0) then begin\n  start_gdialog(773, self_obj, 4, -1, -1);\n  gsay_start;\n  call Node001;\n  gsay_end;\n  end_dialogue;\nend\nelse begin\n  call Node007;\nend\n","use_obj_on_p_proc":"[]","Node001":"gsay_reply(773, 103);\ngiq_option(4, 773, 104, Node002, 50);\ngiq_option(4, 773, 105, Node999, 50);\ngiq_option(-3, 773, 106, Node005, 50);\n","Node002":"gsay_reply(773, 107);\ngiq_option(4, 773, 108, Node003, 50);\ngiq_option(4, 773, 109, Node999, 50);\n","Node003":"gsay_reply(773, 110);\ngiq_option(4, 773, 111, NodeBarter4, 50);\ngiq_option(4, 773, 112, Node999, 50);\n","Node004":"gsay_reply(773, 113);\ngiq_option(4, 773, 114, Node999, 50);\n","Node005":"gsay_reply(773, 115);\ngiq_option(-3, 773, 116, NodeBarter6, 50);\ngiq_option(-3, 773, 117, Node999, 50);\n","Node006":"gsay_reply(773, 118);\ngiq_option(-3, 773, 119, Node999, 50);\n","Node007":"float_msg(self_obj, message_str(773, random(120, 122)), 0);\n","NodeFleeing":"float_msg(self_obj, message_str(773, random(126, 127)), 8);\n","NodeFighting":"float_msg(self_obj, message_str(773, random(123, 125)), 2);\n","Node999":"[]","NodeBarter4":"gdialog_mod_barter(-20);\ncall Node004;\n","NodeBarter6":"gdialog_mod_barter(-20);\ncall Node006;\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>