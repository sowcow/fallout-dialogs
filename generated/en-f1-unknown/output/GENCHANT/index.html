<!DOCTYPE html><html><head><title>GENCHANT</title><meta charset="utf-8" /></head><body><svg width="1428pt" height="655pt"
 viewBox="0.00 0.00 1427.75 654.59" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 650.59)">
<title>GENCHANT</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-650.59 1423.75,-650.59 1423.75,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="707.99" cy="-543.36" rx="135.94" ry="103.24"/>
<text text-anchor="middle" x="707.99" y="-599.06" font-family="Times,serif" font-size="14.00">You see a chanter from</text>
<text text-anchor="middle" x="707.99" y="-581.81" font-family="Times,serif" font-size="14.00">the Children</text>
<text text-anchor="middle" x="707.99" y="-564.56" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="707.99" y="-547.31" font-family="Times,serif" font-size="14.00">The Master will forgive</text>
<text text-anchor="middle" x="707.99" y="-530.06" font-family="Times,serif" font-size="14.00">your sins! Join us and be</text>
<text text-anchor="middle" x="707.99" y="-512.81" font-family="Times,serif" font-size="14.00">free! Praise</text>
<text text-anchor="middle" x="707.99" y="-495.56" font-family="Times,serif" font-size="14.00">to the Master and his</text>
<text text-anchor="middle" x="707.99" y="-478.31" font-family="Times,serif" font-size="14.00">mercy!</text>
</g>
<!-- Chant01 -->
<g id="node2" class="node">
<title>Chant01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="707.99" cy="-324.28" rx="140.71" ry="78.84"/>
<text text-anchor="middle" x="707.99" y="-362.73" font-family="Times,serif" font-size="14.00">Hello friend! Will you</text>
<text text-anchor="middle" x="707.99" y="-345.48" font-family="Times,serif" font-size="14.00">sing a song of Praise</text>
<text text-anchor="middle" x="707.99" y="-328.23" font-family="Times,serif" font-size="14.00">with me? . . . Once I</text>
<text text-anchor="middle" x="707.99" y="-310.98" font-family="Times,serif" font-size="14.00">was wandering blind, In</text>
<text text-anchor="middle" x="707.99" y="-293.73" font-family="Times,serif" font-size="14.00">a land that was so unkind</text>
<text text-anchor="middle" x="707.99" y="-276.48" font-family="Times,serif" font-size="14.00">. . .</text>
</g>
<!-- start&#45;&gt;Chant01 -->
<g id="edge1" class="edge">
<title>start&#45;&gt;Chant01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M707.99,-439.86C707.99,-431.38 707.99,-422.86 707.99,-414.5"/>
<polygon fill="#555555" stroke="#555555" points="711.49,-414.61 707.99,-404.61 704.49,-414.61 711.49,-414.61"/>
</g>
<!-- Chant02 -->
<g id="node3" class="node">
<title>Chant02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="127.99" cy="-78.84" rx="127.99" ry="66.64"/>
<text text-anchor="middle" x="127.99" y="-108.67" font-family="Times,serif" font-size="14.00">He finds you when and</text>
<text text-anchor="middle" x="127.99" y="-91.42" font-family="Times,serif" font-size="14.00">where you least expect</text>
<text text-anchor="middle" x="127.99" y="-74.17" font-family="Times,serif" font-size="14.00">it! Praise the Master!</text>
<text text-anchor="middle" x="127.99" y="-56.92" font-family="Times,serif" font-size="14.00">Praise the Holy Flame!</text>
<text text-anchor="middle" x="127.99" y="-39.67" font-family="Times,serif" font-size="14.00">Praise the world!</text>
</g>
<!-- Chant01&#45;&gt;Chant02 -->
<g id="edge2" class="edge">
<title>Chant01&#45;&gt;Chant02</title>
<path fill="none" stroke="#00996a" d="M570.57,-306.41C490.37,-292.75 389,-268.74 306.24,-227.43 264.81,-206.76 224.56,-174.79 192.82,-145.89"/>
<polygon fill="#00996a" stroke="#00996a" points="195.67,-143.83 185.94,-139.62 190.92,-148.97 195.67,-143.83"/>
<text text-anchor="middle" x="395.86" y="-214.13" font-family="Times,serif" font-size="14.00" fill="#00996a">I hate to interrupt your</text>
<text text-anchor="middle" x="395.86" y="-196.88" font-family="Times,serif" font-size="14.00" fill="#00996a">hymn, but where might I</text>
<text text-anchor="middle" x="395.86" y="-179.63" font-family="Times,serif" font-size="14.00" fill="#00996a">meet the Master?</text>
</g>
<!-- Chant03 -->
<g id="node4" class="node">
<title>Chant03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="415.99" cy="-78.84" rx="141.77" ry="78.84"/>
<text text-anchor="middle" x="415.99" y="-117.29" font-family="Times,serif" font-size="14.00">What a wonderful joke! I</text>
<text text-anchor="middle" x="415.99" y="-100.04" font-family="Times,serif" font-size="14.00">used to have no sense of</text>
<text text-anchor="middle" x="415.99" y="-82.79" font-family="Times,serif" font-size="14.00">humor,</text>
<text text-anchor="middle" x="415.99" y="-65.54" font-family="Times,serif" font-size="14.00">but thanks to the</text>
<text text-anchor="middle" x="415.99" y="-48.29" font-family="Times,serif" font-size="14.00">Master, I am full of</text>
<text text-anchor="middle" x="415.99" y="-31.04" font-family="Times,serif" font-size="14.00">mirth! Praise the Master!</text>
</g>
<!-- Chant01&#45;&gt;Chant03 -->
<g id="edge3" class="edge">
<title>Chant01&#45;&gt;Chant03</title>
<path fill="none" stroke="#993d00" d="M601.47,-272.63C578.52,-259.46 555.19,-244.2 535.24,-227.43 512.44,-208.28 490.87,-184.24 472.51,-161.17"/>
<polygon fill="#993d00" stroke="#993d00" points="474.81,-159.44 465.89,-153.72 469.3,-163.75 474.81,-159.44"/>
<text text-anchor="middle" x="620.36" y="-196.88" font-family="Times,serif" font-size="14.00" fill="#993d00">Don&#39;t quit your day job.</text>
</g>
<!-- Chant04 -->
<g id="node5" class="node">
<title>Chant04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="707.99" cy="-78.84" rx="132.23" ry="78.84"/>
<text text-anchor="middle" x="707.99" y="-117.29" font-family="Times,serif" font-size="14.00">The one who sits above.</text>
<text text-anchor="middle" x="707.99" y="-100.04" font-family="Times,serif" font-size="14.00">The one who sits below.</text>
<text text-anchor="middle" x="707.99" y="-82.79" font-family="Times,serif" font-size="14.00">The one who rests</text>
<text text-anchor="middle" x="707.99" y="-65.54" font-family="Times,serif" font-size="14.00">within. Praise the</text>
<text text-anchor="middle" x="707.99" y="-48.29" font-family="Times,serif" font-size="14.00">Master for such clarity</text>
<text text-anchor="middle" x="707.99" y="-31.04" font-family="Times,serif" font-size="14.00">of vision!</text>
</g>
<!-- Chant01&#45;&gt;Chant04 -->
<g id="edge4" class="edge">
<title>Chant01&#45;&gt;Chant04</title>
<path fill="none" stroke="#100099" d="M707.99,-245.25C707.99,-220.9 707.99,-193.86 707.99,-168.82"/>
<polygon fill="#100099" stroke="#100099" points="711.49,-168.85 707.99,-158.85 704.49,-168.85 711.49,-168.85"/>
<text text-anchor="middle" x="787.11" y="-196.88" font-family="Times,serif" font-size="14.00" fill="#100099">Who&#39;s in charge here?</text>
</g>
<!-- Chant05 -->
<g id="node6" class="node">
<title>Chant05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="996.99" cy="-78.84" rx="139.12" ry="78.84"/>
<text text-anchor="middle" x="996.99" y="-117.29" font-family="Times,serif" font-size="14.00">Oh, if only I were so</text>
<text text-anchor="middle" x="996.99" y="-100.04" font-family="Times,serif" font-size="14.00">fortunate! Perhaps one</text>
<text text-anchor="middle" x="996.99" y="-82.79" font-family="Times,serif" font-size="14.00">day the Master will</text>
<text text-anchor="middle" x="996.99" y="-65.54" font-family="Times,serif" font-size="14.00">let me kiss his body</text>
<text text-anchor="middle" x="996.99" y="-48.29" font-family="Times,serif" font-size="14.00">parts. Praise the Master!</text>
<text text-anchor="middle" x="996.99" y="-31.04" font-family="Times,serif" font-size="14.00">Praise the Holy Flame!</text>
</g>
<!-- Chant01&#45;&gt;Chant05 -->
<g id="edge5" class="edge">
<title>Chant01&#45;&gt;Chant05</title>
<path fill="none" stroke="#1c9900" d="M809.95,-269.85C830.67,-257.13 851.7,-242.75 869.99,-227.43 893.63,-207.63 916.55,-183.19 936.27,-159.94"/>
<polygon fill="#1c9900" stroke="#1c9900" points="939.37,-162.69 943.1,-152.78 934,-158.2 939.37,-162.69"/>
<text text-anchor="middle" x="997.24" y="-205.51" font-family="Times,serif" font-size="14.00" fill="#1c9900">. . . but now I kiss the</text>
<text text-anchor="middle" x="997.24" y="-188.26" font-family="Times,serif" font-size="14.00" fill="#1c9900">Master&#39;s behind . . .</text>
</g>
<!-- Chant06 -->
<g id="node7" class="node">
<title>Chant06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1286.99" cy="-78.84" rx="132.76" ry="78.84"/>
<text text-anchor="middle" x="1286.99" y="-117.29" font-family="Times,serif" font-size="14.00">Hmm, that&#39;s not what I</text>
<text text-anchor="middle" x="1286.99" y="-100.04" font-family="Times,serif" font-size="14.00">had in mind. You had</text>
<text text-anchor="middle" x="1286.99" y="-82.79" font-family="Times,serif" font-size="14.00">better practice, my</text>
<text text-anchor="middle" x="1286.99" y="-65.54" font-family="Times,serif" font-size="14.00">friend. Praise to the</text>
<text text-anchor="middle" x="1286.99" y="-48.29" font-family="Times,serif" font-size="14.00">Master! Praise the Holy</text>
<text text-anchor="middle" x="1286.99" y="-31.04" font-family="Times,serif" font-size="14.00">Flame!</text>
</g>
<!-- Chant01&#45;&gt;Chant06 -->
<g id="edge6" class="edge">
<title>Chant01&#45;&gt;Chant06</title>
<path fill="none" stroke="#990049" d="M842.55,-300.63C914.56,-285.52 1003.49,-261.98 1077.99,-227.43 1121.64,-207.2 1165.77,-177.66 1202.15,-150.32"/>
<polygon fill="#990049" stroke="#990049" points="1203.9,-152.63 1209.75,-143.79 1199.67,-147.05 1203.9,-152.63"/>
<text text-anchor="middle" x="1257.99" y="-205.51" font-family="Times,serif" font-size="14.00" fill="#990049">Happy! Happy! I sing song</text>
<text text-anchor="middle" x="1257.99" y="-188.26" font-family="Times,serif" font-size="14.00" fill="#990049">good!</text>
</g>
<!-- ChantEnd -->
<g id="node8" class="node">
<title>ChantEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="888.99" cy="-543.36" rx="27" ry="18"/>
</g>
<!-- Combat -->
<g id="node9" class="node">
<title>Combat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="960.99" cy="-543.36" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (Only_Once) then begin\n  critter_add_trait(self_obj, 1, 6, 20);\n  critter_add_trait(self_obj, 1, 5, 69);\n  Only_Once := 0;\nend\nif ((script_action == 21) or (script_action == 3)) then begin\n  script_overrides;\n  display_msg(message_str(396, 100));\nend\nelse begin\n  if (script_action == 18) then begin\n    if (source_obj == dude_obj) then begin\n      if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n        set_global_var(156, 1);\n        set_global_var(157, 0);\n      end\n      if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n        set_global_var(157, 1);\n        set_global_var(156, 0);\n      end\n      set_global_var(159, global_var(159) + 1);\n      if ((global_var(159) % 2) == 0) then begin\n        set_global_var(155, global_var(155) - 1);\n      end\n    end\n  end\n  else begin\n    if (script_action == 4) then begin\n      Hostile := 1;\n    end\n    else begin\n      if (script_action == 12) then begin\n        if (Hostile) then begin\n          Hostile := 0;\n          attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n        end\n      end\n    end\n  end\nend\nif (script_action == 11) then begin\n  script_overrides;\n  if (global_var(195) == 1) then begin\n    float_msg(self_obj, message_str(396, 101), 0);\n  end\n  else begin\n    start_gdialog(396, self_obj, 4, -1, -1);\n    gsay_start;\n    call Chant01;\n    gsay_end;\n    end_dialogue;\n  end\nend\n","Chant01":"gsay_reply(396, 102);\ngiq_option(7, 396, 103, Chant02, 50);\ngiq_option(4, 396, 104, Chant03, 50);\ngiq_option(4, 396, 105, Chant04, 50);\nif (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n  giq_option(4, 396, 106, Chant05, 50);\nend\ngiq_option(-3, 396, 107, Chant06, 50);\n","Chant02":"gsay_reply(396, 108);\ngsay_option(396, 113, ChantEnd, 50);\n","Chant03":"gsay_reply(396, 109);\ngsay_option(396, 113, ChantEnd, 50);\n","Chant04":"gsay_reply(396, 110);\ngsay_option(396, 113, ChantEnd, 50);\n","Chant05":"gsay_reply(396, 111);\ngsay_option(396, 113, ChantEnd, 50);\n","Chant06":"gsay_reply(396, 112);\ngsay_option(396, 113, ChantEnd, 50);\n","ChantEnd":"[]","Combat":"Hostile := 1;\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(name, code, x, y) {
    $('#thecode').show();
    $('#thecode').text("# " + name + "\n" + code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(nodeName, Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>