<!DOCTYPE html><html><head><title>SETSCTDR</title><meta charset="utf-8" /></head><body><svg width="1153pt" height="601pt"
 viewBox="0.00 0.00 1153.03 600.66" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 596.66)">
<title>SETSCTDR</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-596.66 1149.03,-596.66 1149.03,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="129.05" cy="-538.21" rx="129.05" ry="54.45"/>
<text text-anchor="middle" x="129.05" y="-559.41" font-family="Times,serif" font-size="14.00">You gain </text>
<text text-anchor="middle" x="129.05" y="-542.16" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="129.05" y="-524.91" font-family="Times,serif" font-size="14.00">experience points for</text>
<text text-anchor="middle" x="129.05" y="-507.66" font-family="Times,serif" font-size="14.00">finding the secret door.</text>
</g>
<!-- use_door -->
<g id="node2" class="node">
<title>use_door</title>
<ellipse fill="#ffffff" stroke="#000000" cx="102.05" cy="-368.92" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;use_door -->
<g id="edge1" class="edge">
<title>start&#45;&gt;use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M107.85,-484.28C101.58,-455.62 96.81,-421.37 96.18,-397.87"/>
<polygon fill="#555555" stroke="#555555" points="99.69,-397.98 96.23,-387.96 92.69,-397.95 99.69,-397.98"/>
</g>
<!-- start&#45;&gt;use_door -->
<g id="edge2" class="edge">
<title>start&#45;&gt;use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M120.43,-483.82C115.81,-455.22 110.32,-421.17 106.55,-397.8"/>
<polygon fill="#555555" stroke="#555555" points="109.89,-397.57 104.84,-388.25 102.98,-398.68 109.89,-397.57"/>
</g>
<!-- start&#45;&gt;use_door -->
<g id="edge5" class="edge">
<title>start&#45;&gt;use_door</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M133.06,-483.36C129.95,-454.01 123.43,-419.02 116.29,-395.74"/>
<polygon fill="#555555" stroke="#555555" points="119.39,-394.98 112.87,-386.63 112.76,-397.22 119.39,-394.98"/>
</g>
<!-- failure -->
<g id="node3" class="node">
<title>failure</title>
<ellipse fill="#ffffff" stroke="#000000" cx="150.05" cy="-163.04" rx="134.88" ry="78.84"/>
<text text-anchor="middle" x="150.05" y="-201.49" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="150.05" y="-184.24" font-family="Times,serif" font-size="14.00">the explosive, because</text>
<text text-anchor="middle" x="150.05" y="-166.99" font-family="Times,serif" font-size="14.00">you were smart enough</text>
<text text-anchor="middle" x="150.05" y="-149.74" font-family="Times,serif" font-size="14.00">to find it, but not</text>
<text text-anchor="middle" x="150.05" y="-132.49" font-family="Times,serif" font-size="14.00">smart enough to leave it</text>
<text text-anchor="middle" x="150.05" y="-115.24" font-family="Times,serif" font-size="14.00">alone.</text>
</g>
<!-- start&#45;&gt;failure -->
<g id="edge3" class="edge">
<title>start&#45;&gt;failure</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M134.98,-483.33C136.13,-471.62 137.22,-459.28 138.05,-447.76 142.7,-382.64 145.75,-308.98 147.61,-253.03"/>
<polygon fill="#555555" stroke="#555555" points="151.14,-253.19 147.96,-243.08 144.14,-252.97 151.14,-253.19"/>
</g>
<!-- find_iq -->
<g id="node4" class="node">
<title>find_iq</title>
<ellipse fill="#ffffff" stroke="#000000" cx="313.05" cy="-368.92" rx="127.99" ry="78.84"/>
<text text-anchor="middle" x="313.05" y="-407.37" font-family="Times,serif" font-size="14.00">You find a crude</text>
<text text-anchor="middle" x="313.05" y="-390.12" font-family="Times,serif" font-size="14.00">explosive device in the</text>
<text text-anchor="middle" x="313.05" y="-372.87" font-family="Times,serif" font-size="14.00">doorframe.</text>
<text text-anchor="middle" x="313.05" y="-355.62" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="313.05" y="-338.37" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="313.05" y="-321.12" font-family="Times,serif" font-size="14.00">the explosive!</text>
</g>
<!-- start&#45;&gt;find_iq -->
<g id="edge4" class="edge">
<title>start&#45;&gt;find_iq</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M182.76,-488.38C198.77,-473.82 216.65,-457.56 233.92,-441.86"/>
<polygon fill="#555555" stroke="#555555" points="235.76,-445.01 240.81,-435.69 231.05,-439.83 235.76,-445.01"/>
</g>
<!-- trap_stuff -->
<g id="node5" class="node">
<title>trap_stuff</title>
<ellipse fill="#ffffff" stroke="#000000" cx="614.05" cy="-368.92" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;trap_stuff -->
<g id="edge6" class="edge">
<title>start&#45;&gt;trap_stuff</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M241.23,-510.98C303.56,-495.16 382.03,-473.17 450.05,-447.76 498.34,-429.73 551.88,-402.96 584.24,-385.98"/>
<polygon fill="#555555" stroke="#555555" points="585.37,-388.81 592.57,-381.05 582.1,-382.63 585.37,-388.81"/>
</g>
<!-- explode -->
<g id="node9" class="node">
<title>explode</title>
<ellipse fill="#ffffff" stroke="#000000" cx="469.05" cy="-18" rx="27" ry="18"/>
</g>
<!-- failure&#45;&gt;explode -->
<g id="edge14" class="edge">
<title>failure&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M239.16,-103.44C258.45,-92.11 279.06,-80.99 299.05,-72 343.56,-51.97 397.84,-36.48 432.91,-27.56"/>
<polygon fill="#555555" stroke="#555555" points="433.72,-30.71 442.58,-24.89 432.03,-23.92 433.72,-30.71"/>
</g>
<!-- find_iq&#45;&gt;explode -->
<g id="edge11" class="edge">
<title>find_iq&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M308.83,-289.72C306.34,-213.84 307.53,-105.42 332.05,-72 355.05,-40.64 399.27,-27.83 431.27,-22.61"/>
<polygon fill="#555555" stroke="#555555" points="431.62,-25.95 441.02,-21.05 430.62,-19.02 431.62,-25.95"/>
</g>
<!-- disarm_trap -->
<g id="node6" class="node">
<title>disarm_trap</title>
<ellipse fill="#ffffff" stroke="#000000" cx="469.05" cy="-163.04" rx="127.99" ry="91.04"/>
<text text-anchor="middle" x="469.05" y="-210.11" font-family="Times,serif" font-size="14.00">You disarm the trap.</text>
<text text-anchor="middle" x="469.05" y="-192.86" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="469.05" y="-175.61" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="469.05" y="-158.36" font-family="Times,serif" font-size="14.00">the explosive!</text>
<text text-anchor="middle" x="469.05" y="-141.11" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="469.05" y="-123.86" font-family="Times,serif" font-size="14.00">You did not disarm the</text>
<text text-anchor="middle" x="469.05" y="-106.61" font-family="Times,serif" font-size="14.00">trap.</text>
</g>
<!-- trap_stuff&#45;&gt;disarm_trap -->
<g id="edge7" class="edge">
<title>trap_stuff&#45;&gt;disarm_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M602.91,-352.26C587.68,-330.85 559.19,-290.78 532.39,-253.1"/>
<polygon fill="#555555" stroke="#555555" points="534.99,-251.72 526.34,-245.6 529.29,-255.78 534.99,-251.72"/>
</g>
<!-- disarm_mech -->
<g id="node7" class="node">
<title>disarm_mech</title>
<ellipse fill="#ffffff" stroke="#000000" cx="743.05" cy="-163.04" rx="127.99" ry="91.04"/>
<text text-anchor="middle" x="743.05" y="-210.11" font-family="Times,serif" font-size="14.00">You disarm the trap.</text>
<text text-anchor="middle" x="743.05" y="-192.86" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="743.05" y="-175.61" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="743.05" y="-158.36" font-family="Times,serif" font-size="14.00">the explosive!</text>
<text text-anchor="middle" x="743.05" y="-141.11" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="743.05" y="-123.86" font-family="Times,serif" font-size="14.00">You did not disarm the</text>
<text text-anchor="middle" x="743.05" y="-106.61" font-family="Times,serif" font-size="14.00">trap.</text>
</g>
<!-- trap_stuff&#45;&gt;disarm_mech -->
<g id="edge8" class="edge">
<title>trap_stuff&#45;&gt;disarm_mech</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M624.17,-351.92C637.47,-330.89 661.89,-292.3 685.16,-255.54"/>
<polygon fill="#555555" stroke="#555555" points="688.65,-257.56 691.04,-247.24 682.73,-253.82 688.65,-257.56"/>
</g>
<!-- find_trap -->
<g id="node8" class="node">
<title>find_trap</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1017.05" cy="-163.04" rx="127.99" ry="78.84"/>
<text text-anchor="middle" x="1017.05" y="-201.49" font-family="Times,serif" font-size="14.00">You find a crude</text>
<text text-anchor="middle" x="1017.05" y="-184.24" font-family="Times,serif" font-size="14.00">explosive device in the</text>
<text text-anchor="middle" x="1017.05" y="-166.99" font-family="Times,serif" font-size="14.00">doorframe.</text>
<text text-anchor="middle" x="1017.05" y="-149.74" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1017.05" y="-132.49" font-family="Times,serif" font-size="14.00">You accidentally set off</text>
<text text-anchor="middle" x="1017.05" y="-115.24" font-family="Times,serif" font-size="14.00">the explosive!</text>
</g>
<!-- trap_stuff&#45;&gt;find_trap -->
<g id="edge9" class="edge">
<title>trap_stuff&#45;&gt;find_trap</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M637.46,-359.51C684.59,-342.22 793.75,-300.43 880.05,-254.08 894.58,-246.27 909.56,-237.38 924.03,-228.31"/>
<polygon fill="#555555" stroke="#555555" points="925.4,-230.95 931.97,-222.64 921.65,-225.04 925.4,-230.95"/>
</g>
<!-- disarm_trap&#45;&gt;explode -->
<g id="edge12" class="edge">
<title>disarm_trap&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M469.05,-71.86C469.05,-62.92 469.05,-54.41 469.05,-46.92"/>
<polygon fill="#555555" stroke="#555555" points="472.55,-47.1 469.05,-37.1 465.55,-47.1 472.55,-47.1"/>
</g>
<!-- disarm_mech&#45;&gt;explode -->
<g id="edge13" class="edge">
<title>disarm_mech&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M652.17,-98.5C637.08,-89.06 621.36,-79.88 606.05,-72 572.37,-54.67 531.65,-39.61 503.4,-30.02"/>
<polygon fill="#555555" stroke="#555555" points="504.82,-26.47 494.23,-26.61 502.6,-33.1 504.82,-26.47"/>
</g>
<!-- find_trap&#45;&gt;explode -->
<g id="edge10" class="edge">
<title>find_trap&#45;&gt;explode</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M937.35,-101.09C919.31,-89.79 899.66,-79.27 880.05,-72 749.46,-23.62 581.38,-18.1 507.16,-18.29"/>
<polygon fill="#555555" stroke="#555555" points="507.47,-14.79 497.49,-18.35 507.51,-21.79 507.47,-14.79"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 6) then begin\n  if (source_obj == dude_obj) then begin\n    if (local_var(2)) then begin\n      call use_door;\n    end\n    if (local_var(3) == 0) then begin\n      set_local_var(3, 1);\n      temp := 100;\n      give_exp_points(temp);\n      display_msg(message_str(96, 200) + temp + message_str(96, 201));\n    end\n    else begin\n      if (local_var(1)) then begin\n        call use_door;\n      end\n      else begin\n        if (local_var(0)) then begin\n          call failure;\n        end\n        else begin\n          call find_iq;\n        end\n      end\n    end\n  end\n  else begin\n    call use_door;\n  end\nend\nelse begin\n  if (script_action == 8) then begin\n    call trap_stuff;\n  end\nend\n","trap_stuff":"use_skill := action_being_used;\nif (local_var(1) == 0) then begin\n  if (local_var(0)) then begin\n    if (use_skill == 11) then begin\n      call disarm_trap;\n    end\n    else begin\n      if (use_skill == 13) then begin\n        call disarm_mech;\n      end\n    end\n  end\nend\nelse begin\n  call find_trap;\nend\n","find_trap":"script_overrides;\ntest := roll_vs_skill(dude_obj, 11, -20);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 100));\n  set_local_var(0, 1);\nend\nelse begin\n  display_msg(message_str(96, 104));\n  call explode;\nend\n","find_iq":"script_overrides;\ntest := do_check(dude_obj, 4, 2);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 100));\n  set_local_var(0, 1);\nend\nelse begin\n  display_msg(message_str(96, 104));\n  call explode;\nend\n","disarm_trap":"script_overrides;\ntest := roll_vs_skill(dude_obj, 11, 0);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 102));\n  set_local_var(1, 1);\nend\nelse begin\n  if (is_critical(test)) then begin\n    display_msg(message_str(96, 104));\n    call explode;\n  end\n  else begin\n    display_msg(message_str(96, 103));\n  end\nend\n","disarm_mech":"script_overrides;\ntest := roll_vs_skill(dude_obj, 13, 20);\nif (is_success(test)) then begin\n  display_msg(message_str(96, 102));\n  set_local_var(1, 1);\nend\nelse begin\n  if (is_critical(test)) then begin\n    display_msg(message_str(96, 104));\n    call explode;\n  end\n  else begin\n    display_msg(message_str(96, 103));\n  end\nend\n","failure":"script_overrides;\ndisplay_msg(message_str(96, 105));\ncall explode;\n","explode":"set_local_var(1, 1);\nexplosion(tile_num(self_obj), elevation(self_obj), 0);\ndamage := random(1, 6) + random(1, 6) + random(1, 6) + random(1, 6) + random(1, 6) + random(1, 6);\ncritter_dmg(dude_obj, damage, 0);\n","use_door":"if (local_var(2)) then begin\n  set_local_var(2, 0);\nend\nelse begin\n  set_local_var(2, 1);\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>