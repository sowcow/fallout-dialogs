<!DOCTYPE html><html><head><title>PRISONR</title><meta charset="utf-8" /></head><body><svg width="1300pt" height="1160pt"
 viewBox="0.00 0.00 1299.80 1159.86" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1155.86)">
<title>PRISONR</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1155.86 1295.8,-1155.86 1295.8,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="442.3" cy="-1109.61" rx="137.53" ry="42.25"/>
<text text-anchor="middle" x="442.3" y="-1122.19" font-family="Times,serif" font-size="14.00">Thanks again.</text>
<text text-anchor="middle" x="442.3" y="-1104.94" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="442.3" y="-1087.69" font-family="Times,serif" font-size="14.00">You see a ghoul prisoner.</text>
</g>
<!-- timeforwhat -->
<g id="node2" class="node">
<title>timeforwhat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="370.3" cy="-1012.36" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;timeforwhat -->
<g id="edge1" class="edge">
<title>start&#45;&gt;timeforwhat</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M411.55,-1067.94C403.75,-1057.63 395.62,-1046.87 388.66,-1037.65"/>
<polygon fill="#555555" stroke="#555555" points="390.96,-1035.9 382.14,-1030.03 385.38,-1040.12 390.96,-1035.9"/>
</g>
<!-- do_dialogue -->
<g id="node3" class="node">
<title>do_dialogue</title>
<ellipse fill="#ffffff" stroke="#000000" cx="442.3" cy="-1012.36" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;do_dialogue -->
<g id="edge2" class="edge">
<title>start&#45;&gt;do_dialogue</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M442.3,-1067.11C442.3,-1058.49 442.3,-1049.59 442.3,-1041.58"/>
<polygon fill="#555555" stroke="#555555" points="445.8,-1041.61 442.3,-1031.61 438.8,-1041.61 445.8,-1041.61"/>
</g>
<!-- leave_map -->
<g id="node4" class="node">
<title>leave_map</title>
<ellipse fill="#ffffff" stroke="#000000" cx="514.3" cy="-1012.36" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;leave_map -->
<g id="edge3" class="edge">
<title>start&#45;&gt;leave_map</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M473.04,-1067.94C480.84,-1057.63 488.97,-1046.87 495.93,-1037.65"/>
<polygon fill="#555555" stroke="#555555" points="499.21,-1040.12 502.45,-1030.03 493.63,-1035.9 499.21,-1040.12"/>
</g>
<!-- prisonr06 -->
<g id="node5" class="node">
<title>prisonr06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="150.3" cy="-854.12" rx="120.03" ry="103.24"/>
<text text-anchor="middle" x="150.3" y="-909.82" font-family="Times,serif" font-size="14.00">Thanks for letting me</text>
<text text-anchor="middle" x="150.3" y="-892.57" font-family="Times,serif" font-size="14.00">out.</text>
<text text-anchor="middle" x="150.3" y="-875.32" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="150.3" y="-858.07" font-family="Times,serif" font-size="14.00">You gained </text>
<text text-anchor="middle" x="150.3" y="-840.82" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="150.3" y="-823.57" font-family="Times,serif" font-size="14.00">experience points for</text>
<text text-anchor="middle" x="150.3" y="-806.32" font-family="Times,serif" font-size="14.00">freeing the ghoul</text>
<text text-anchor="middle" x="150.3" y="-789.07" font-family="Times,serif" font-size="14.00">prisoner.</text>
</g>
<!-- do_dialogue&#45;&gt;prisonr06 -->
<g id="edge4" class="edge">
<title>do_dialogue&#45;&gt;prisonr06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M421.08,-1000.8C399.61,-990.05 365.5,-972.82 336.3,-957.36 311.61,-944.29 285.23,-930 260.32,-916.35"/>
<polygon fill="#555555" stroke="#555555" points="262.31,-912.89 251.86,-911.15 258.94,-919.03 262.31,-912.89"/>
</g>
<!-- prisonr05 -->
<g id="node6" class="node">
<title>prisonr05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="442.3" cy="-854.12" rx="96.98" ry="18"/>
<text text-anchor="middle" x="442.3" y="-849.45" font-family="Times,serif" font-size="14.00">Please let me go.</text>
</g>
<!-- do_dialogue&#45;&gt;prisonr05 -->
<g id="edge5" class="edge">
<title>do_dialogue&#45;&gt;prisonr05</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M442.3,-994.04C442.3,-967.3 442.3,-915.66 442.3,-883.43"/>
<polygon fill="#555555" stroke="#555555" points="445.8,-883.52 442.3,-873.52 438.8,-883.52 445.8,-883.52"/>
</g>
<!-- prisonr00 -->
<g id="node7" class="node">
<title>prisonr00</title>
<ellipse fill="#ffffff" stroke="#000000" cx="715.3" cy="-854.12" rx="128.55" ry="18"/>
<text text-anchor="middle" x="715.3" y="-849.45" font-family="Times,serif" font-size="14.00">Wha&#45;what do you want.</text>
</g>
<!-- do_dialogue&#45;&gt;prisonr00 -->
<g id="edge6" class="edge">
<title>do_dialogue&#45;&gt;prisonr00</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M463.67,-1001.08C485.26,-990.56 519.46,-973.5 548.3,-957.36 594.66,-931.41 646.67,-899.04 680.14,-877.76"/>
<polygon fill="#555555" stroke="#555555" points="681.52,-880.39 688.07,-872.06 677.75,-874.49 681.52,-880.39"/>
</g>
<!-- prisonrend -->
<g id="node9" class="node">
<title>prisonrend</title>
<ellipse fill="#ffffff" stroke="#000000" cx="408.3" cy="-18" rx="27" ry="18"/>
</g>
<!-- prisonr06&#45;&gt;prisonrend -->
<g id="edge15" class="edge">
<title>prisonr06&#45;&gt;prisonrend</title>
<path fill="none" stroke="#006099" d="M104.87,-758.14C30.77,-587.78 -89.22,-231.56 107.3,-54 145.09,-19.85 297.93,-17.34 370.14,-18.14"/>
<polygon fill="#006099" stroke="#006099" points="369.96,-21.65 380.01,-18.29 370.06,-14.65 369.96,-21.65"/>
<text text-anchor="middle" x="35.42" y="-385.2" font-family="Times,serif" font-size="14.00" fill="#006099">No prob.</text>
</g>
<!-- prisonr06&#45;&gt;prisonrend -->
<g id="edge17" class="edge">
<title>prisonr06&#45;&gt;prisonrend</title>
<path fill="none" stroke="#790099" d="M135.04,-751.5C110.84,-575.47 72.92,-223.13 140.3,-123.75 192.41,-46.87 310.19,-26.41 370.76,-20.97"/>
<polygon fill="#790099" stroke="#790099" points="370.69,-24.4 380.38,-20.12 370.13,-17.43 370.69,-24.4"/>
<text text-anchor="middle" x="113.8" y="-385.2" font-family="Times,serif" font-size="14.00" fill="#790099">Ya.</text>
</g>
<!-- prisonr07 -->
<g id="node14" class="node">
<title>prisonr07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="292.3" cy="-552.75" rx="140.71" ry="127.63"/>
<text text-anchor="middle" x="292.3" y="-625.7" font-family="Times,serif" font-size="14.00">They pump it up from the</text>
<text text-anchor="middle" x="292.3" y="-608.45" font-family="Times,serif" font-size="14.00">wells below. There is a</text>
<text text-anchor="middle" x="292.3" y="-591.2" font-family="Times,serif" font-size="14.00">manhole</text>
<text text-anchor="middle" x="292.3" y="-573.95" font-family="Times,serif" font-size="14.00">in the cell next door</text>
<text text-anchor="middle" x="292.3" y="-556.7" font-family="Times,serif" font-size="14.00">that leads to the old</text>
<text text-anchor="middle" x="292.3" y="-539.45" font-family="Times,serif" font-size="14.00">vault. This is</text>
<text text-anchor="middle" x="292.3" y="-522.2" font-family="Times,serif" font-size="14.00">the source of the water.</text>
<text text-anchor="middle" x="292.3" y="-504.95" font-family="Times,serif" font-size="14.00">If it wasn&#39;t for those</text>
<text text-anchor="middle" x="292.3" y="-487.7" font-family="Times,serif" font-size="14.00">ones below, we would be</text>
<text text-anchor="middle" x="292.3" y="-470.45" font-family="Times,serif" font-size="14.00">a lot better off.</text>
</g>
<!-- prisonr06&#45;&gt;prisonr07 -->
<g id="edge16" class="edge">
<title>prisonr06&#45;&gt;prisonr07</title>
<path fill="none" stroke="#8c9900" d="M195.42,-757.99C207.12,-733.32 219.91,-706.36 232.25,-680.35"/>
<polygon fill="#8c9900" stroke="#8c9900" points="235.83,-681.97 236.95,-671.44 229.5,-678.97 235.83,-681.97"/>
<text text-anchor="middle" x="321.05" y="-719.59" font-family="Times,serif" font-size="14.00" fill="#8c9900">Where does the water come</text>
<text text-anchor="middle" x="321.05" y="-702.34" font-family="Times,serif" font-size="14.00" fill="#8c9900">from?</text>
</g>
<!-- prisonr00&#45;&gt;prisonrend -->
<g id="edge7" class="edge">
<title>prisonr00&#45;&gt;prisonrend</title>
<path fill="none" stroke="#002d99" d="M694.86,-836C662.56,-807.53 600.68,-746.97 574.3,-680.39 482.94,-449.83 626.72,-354.28 535.3,-123.75 520.54,-86.53 509.56,-79.01 478.3,-54 467.27,-45.18 453.66,-37.76 441.39,-32.04"/>
<polygon fill="#002d99" stroke="#002d99" points="443.03,-28.5 432.47,-27.66 440.2,-34.91 443.03,-28.5"/>
<text text-anchor="middle" x="603.92" y="-385.2" font-family="Times,serif" font-size="14.00" fill="#002d99">Uh, nothing.</text>
</g>
<!-- prisonr01 -->
<g id="node10" class="node">
<title>prisonr01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="990.3" cy="-552.75" rx="125.33" ry="42.25"/>
<text text-anchor="middle" x="990.3" y="-565.33" font-family="Times,serif" font-size="14.00">Hey, I don&#39;t care about</text>
<text text-anchor="middle" x="990.3" y="-548.08" font-family="Times,serif" font-size="14.00">that, just get me outta</text>
<text text-anchor="middle" x="990.3" y="-530.83" font-family="Times,serif" font-size="14.00">here!</text>
</g>
<!-- prisonr00&#45;&gt;prisonr01 -->
<g id="edge8" class="edge">
<title>prisonr00&#45;&gt;prisonr01</title>
<path fill="none" stroke="#599900" d="M738.39,-836.01C767.51,-813.88 818.33,-773.36 856.3,-732.89 894.67,-691.98 932.4,-640.22 957.99,-602.86"/>
<polygon fill="#599900" stroke="#599900" points="961.17,-605.41 963.9,-595.17 955.38,-601.47 961.17,-605.41"/>
<text text-anchor="middle" x="901.55" y="-710.96" font-family="Times,serif" font-size="14.00" fill="#599900">Hng.</text>
</g>
<!-- prisonr02 -->
<g id="node11" class="node">
<title>prisonr02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="936.3" cy="-18" rx="75.41" ry="18"/>
<text text-anchor="middle" x="936.3" y="-13.32" font-family="Times,serif" font-size="14.00">Great! Do it!</text>
</g>
<!-- prisonr00&#45;&gt;prisonr02 -->
<g id="edge9" class="edge">
<title>prisonr00&#45;&gt;prisonr02</title>
<path fill="none" stroke="#990086" d="M813.67,-842.22C911.17,-825.6 1055.6,-783.97 1124.3,-680.39 1145.48,-648.44 1116.82,-131.34 1112.3,-123.75 1086.06,-79.67 1033.49,-52 992.61,-36.25"/>
<polygon fill="#990086" stroke="#990086" points="994.09,-32.69 983.49,-32.5 991.65,-39.26 994.09,-32.69"/>
<text text-anchor="middle" x="1210.05" y="-385.2" font-family="Times,serif" font-size="14.00" fill="#990086">I&#39;m here to let you out.</text>
</g>
<!-- prisonr03 -->
<g id="node12" class="node">
<title>prisonr03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="715.3" cy="-552.75" rx="131.7" ry="42.25"/>
<text text-anchor="middle" x="715.3" y="-565.33" font-family="Times,serif" font-size="14.00">I stole some water. Hey,</text>
<text text-anchor="middle" x="715.3" y="-548.08" font-family="Times,serif" font-size="14.00">I was thirsty! It wasn&#39;t</text>
<text text-anchor="middle" x="715.3" y="-530.83" font-family="Times,serif" font-size="14.00">like I hurt somebody.</text>
</g>
<!-- prisonr00&#45;&gt;prisonr03 -->
<g id="edge10" class="edge">
<title>prisonr00&#45;&gt;prisonr03</title>
<path fill="none" stroke="#00997f" d="M715.3,-835.73C715.3,-791.73 715.3,-674.58 715.3,-605.91"/>
<polygon fill="#00997f" stroke="#00997f" points="718.8,-606.33 715.3,-596.33 711.8,-606.33 718.8,-606.33"/>
<text text-anchor="middle" x="783.55" y="-710.96" font-family="Times,serif" font-size="14.00" fill="#00997f">What&#39;d you expect.</text>
</g>
<!-- prisonrcbt -->
<g id="node8" class="node">
<title>prisonrcbt</title>
<ellipse fill="#ffffff" stroke="#000000" cx="625.3" cy="-1109.61" rx="27" ry="18"/>
</g>
<!-- prisonr03&#45;&gt;prisonr02 -->
<g id="edge12" class="edge">
<title>prisonr03&#45;&gt;prisonr02</title>
<path fill="none" stroke="#260099" d="M753.08,-512.04C780.08,-485.18 818.23,-450.17 856.3,-425.12 872.24,-414.63 884.17,-422.64 895.3,-407.12 975.7,-294.93 954.1,-115.52 941.93,-46.92"/>
<polygon fill="#260099" stroke="#260099" points="945.19,-46.35 939.93,-37.16 938.31,-47.63 945.19,-46.35"/>
<text text-anchor="middle" x="1030.55" y="-243.14" font-family="Times,serif" font-size="14.00" fill="#260099">Ah, that&#39;s nothing. I&#39;ll</text>
<text text-anchor="middle" x="1030.55" y="-225.89" font-family="Times,serif" font-size="14.00" fill="#260099">get you out.</text>
</g>
<!-- prisonr04 -->
<g id="node13" class="node">
<title>prisonr04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="715.3" cy="-239.19" rx="130.11" ry="91.04"/>
<text text-anchor="middle" x="715.3" y="-286.26" font-family="Times,serif" font-size="14.00">I would&#39;ve died without</text>
<text text-anchor="middle" x="715.3" y="-269.01" font-family="Times,serif" font-size="14.00">the water. It was only a</text>
<text text-anchor="middle" x="715.3" y="-251.76" font-family="Times,serif" font-size="14.00">cupful.</text>
<text text-anchor="middle" x="715.3" y="-234.51" font-family="Times,serif" font-size="14.00">Just enough to keep me</text>
<text text-anchor="middle" x="715.3" y="-217.26" font-family="Times,serif" font-size="14.00">alive. You gotta get me</text>
<text text-anchor="middle" x="715.3" y="-200.01" font-family="Times,serif" font-size="14.00">out of here!</text>
<text text-anchor="middle" x="715.3" y="-182.76" font-family="Times,serif" font-size="14.00"> I&#39;m going insane.</text>
</g>
<!-- prisonr03&#45;&gt;prisonr04 -->
<g id="edge11" class="edge">
<title>prisonr03&#45;&gt;prisonr04</title>
<path fill="none" stroke="#995300" d="M715.3,-510.06C715.3,-467.14 715.3,-398.65 715.3,-341.41"/>
<polygon fill="#995300" stroke="#995300" points="718.8,-341.49 715.3,-331.49 711.8,-341.49 718.8,-341.49"/>
<text text-anchor="middle" x="803.05" y="-393.82" font-family="Times,serif" font-size="14.00" fill="#995300">You took more than your</text>
<text text-anchor="middle" x="803.05" y="-376.57" font-family="Times,serif" font-size="14.00" fill="#995300">rightful share.</text>
</g>
<!-- prisonr04&#45;&gt;prisonrend -->
<g id="edge14" class="edge">
<title>prisonr04&#45;&gt;prisonrend</title>
<path fill="none" stroke="#990033" d="M638.31,-165.57C621.07,-147.07 603.77,-126.51 589.8,-105.75 575.69,-84.79 585.92,-69.91 566.3,-54 548.09,-39.24 486.52,-28.86 445.83,-23.41"/>
<polygon fill="#990033" stroke="#990033" points="446.33,-19.82 435.96,-22.01 445.43,-26.76 446.33,-19.82"/>
<text text-anchor="middle" x="663.55" y="-92.45" font-family="Times,serif" font-size="14.00" fill="#990033">I think I&#39;ll let the</text>
<text text-anchor="middle" x="663.55" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#990033">authorities deal with</text>
<text text-anchor="middle" x="663.55" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#990033">you.</text>
</g>
<!-- prisonr04&#45;&gt;prisonr02 -->
<g id="edge13" class="edge">
<title>prisonr04&#45;&gt;prisonr02</title>
<path fill="none" stroke="#069900" d="M733.07,-148.7C742.47,-105.37 753.58,-61.12 761.05,-54 775.02,-40.65 816.9,-32.01 856.21,-26.65"/>
<polygon fill="#069900" stroke="#069900" points="856.47,-30.02 865.93,-25.26 855.57,-23.07 856.47,-30.02"/>
<text text-anchor="middle" x="840.92" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#069900">Ok, hold on a moment.</text>
</g>
<!-- prisonr07&#45;&gt;prisonrend -->
<g id="edge19" class="edge">
<title>prisonr07&#45;&gt;prisonrend</title>
<path fill="none" stroke="#992000" d="M395.11,-465.51C411.09,-447.73 425.76,-428 436.3,-407.12 471.7,-336.94 493.27,-123.9 457.3,-54 453.29,-46.22 446.67,-39.79 439.57,-34.65"/>
<polygon fill="#992000" stroke="#992000" points="441.79,-31.28 431.48,-28.84 438.02,-37.18 441.79,-31.28"/>
<text text-anchor="middle" x="504.05" y="-234.51" font-family="Times,serif" font-size="14.00" fill="#992000">Thanks.</text>
</g>
<!-- prisonr08 -->
<g id="node15" class="node">
<title>prisonr08</title>
<ellipse fill="#ffffff" stroke="#000000" cx="292.3" cy="-239.19" rx="143.37" ry="115.44"/>
<text text-anchor="middle" x="292.3" y="-303.51" font-family="Times,serif" font-size="14.00">It&#39;s difficult to make</text>
<text text-anchor="middle" x="292.3" y="-286.26" font-family="Times,serif" font-size="14.00">the old tech work</text>
<text text-anchor="middle" x="292.3" y="-269.01" font-family="Times,serif" font-size="14.00">properly, sometimes.</text>
<text text-anchor="middle" x="292.3" y="-251.76" font-family="Times,serif" font-size="14.00">The glowing ones lash</text>
<text text-anchor="middle" x="292.3" y="-234.51" font-family="Times,serif" font-size="14.00">out whenever we go down</text>
<text text-anchor="middle" x="292.3" y="-217.26" font-family="Times,serif" font-size="14.00">there. Us ghouls</text>
<text text-anchor="middle" x="292.3" y="-200.01" font-family="Times,serif" font-size="14.00">just leave them alone.</text>
<text text-anchor="middle" x="292.3" y="-182.76" font-family="Times,serif" font-size="14.00">And the big mutants don&#39;t</text>
<text text-anchor="middle" x="292.3" y="-165.51" font-family="Times,serif" font-size="14.00">seem to care one bit.</text>
</g>
<!-- prisonr07&#45;&gt;prisonr08 -->
<g id="edge18" class="edge">
<title>prisonr07&#45;&gt;prisonr08</title>
<path fill="none" stroke="#00994c" d="M292.3,-425.03C292.3,-405.41 292.3,-385.16 292.3,-365.57"/>
<polygon fill="#00994c" stroke="#00994c" points="295.8,-365.76 292.3,-355.76 288.8,-365.76 295.8,-365.76"/>
<text text-anchor="middle" x="362.42" y="-385.2" font-family="Times,serif" font-size="14.00" fill="#00994c">What do you mean?</text>
</g>
<!-- prisonr08&#45;&gt;prisonrend -->
<g id="edge20" class="edge">
<title>prisonr08&#45;&gt;prisonrend</title>
<path fill="none" stroke="#000d99" d="M310.87,-124.4C318.81,-99.41 330.13,-74.36 346.3,-54 353.75,-44.61 364.46,-37.31 374.88,-31.87"/>
<polygon fill="#000d99" stroke="#000d99" points="376.15,-34.66 383.67,-27.21 373.14,-28.34 376.15,-34.66"/>
<text text-anchor="middle" x="401.8" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#000d99">Good luck. Bye.</text>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (not(init_teams)) then begin\n  init_teams := 1;\n  if (local_var(3) > 9) then begin\n    set_obj_visibility(self_obj, 1);\n  end\n  critter_add_trait(self_obj, 1, 6, 30);\n  critter_add_trait(self_obj, 1, 5, 40);\nend\nif (local_var(3) < 10) then begin\n  if (script_action == 22) then begin\n    call timeforwhat;\n  end\n  else begin\n    if (script_action == 11) then begin\n      if (local_var(1) == 0) then begin\n        call do_dialogue;\n      end\n      else begin\n        float_msg(self_obj, message_str(89, 126), 2);\n      end\n    end\n    else begin\n      if ((script_action == 21) or (script_action == 3)) then begin\n        script_overrides;\n        display_msg(message_str(89, 100));\n      end\n      else begin\n        if (script_action == 4) then begin\n          Hostile := 1;\n        end\n        else begin\n          if (script_action == 12) then begin\n            if (map_var(6) != 0) then begin\n              if (local_var(1) == 1) then begin\n                call leave_map;\n              end\n              else begin\n                if (obj_can_see_obj(self_obj, dude_obj) and (tile_distance_objs(self_obj, dude_obj) < 5)) then begin\n                  dialogue_system_enter;\n                end\n              end\n            end\n            else begin\n              if (Hostile) then begin\n                Hostile := 0;\n                attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n              end\n            end\n          end\n          else begin\n            if (script_action == 18) then begin\n              if (source_obj == dude_obj) then begin\n                if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n                  set_global_var(156, 1);\n                  set_global_var(157, 0);\n                end\n                if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n                  set_global_var(157, 1);\n                  set_global_var(156, 0);\n                end\n                set_global_var(159, global_var(159) + 1);\n                if ((global_var(159) % 2) == 0) then begin\n                  set_global_var(155, global_var(155) - 1);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend\n","timeforwhat":"if (fixed_param == 1) then begin\n  Hostile := 1;\nend\n","do_dialogue":"start_gdialog(89, self_obj, 4, -1, -1);\ngsay_start;\nif (map_var(6) != 0) then begin\n  call prisonr06;\nend\nelse begin\n  if (local_var(0)) then begin\n    call prisonr05;\n  end\n  else begin\n    set_local_var(0, 1);\n    call prisonr00;\n  end\nend\ngsay_end;\nend_dialogue;\n","prisonrcbt":"add_timer_event(self_obj, game_ticks(2), 1);\n","prisonrend":"[]","prisonr00":"gsay_reply(89, 101);\ngiq_option(4, 89, 102, prisonrend, 50);\ngiq_option(-3, 89, 103, prisonr01, 50);\ngiq_option(4, 89, 104, prisonr02, 50);\ngiq_option(6, 89, 105, prisonr03, 50);\n","prisonr01":"gsay_message(89, 106, 50);\n","prisonr02":"gsay_message(89, 107, 50);\n","prisonr03":"gsay_reply(89, 108);\ngiq_option(6, 89, 109, prisonr04, 50);\ngiq_option(6, 89, 110, prisonr02, 50);\n","prisonr04":"gsay_reply(89, 111);\ngiq_option(6, 89, 112, prisonr02, 50);\ngiq_option(6, 89, 113, prisonrend, 50);\n","prisonr05":"gsay_message(89, 114, 50);\n","prisonr06":"set_local_var(2, 15863);\nset_local_var(3, 0);\nset_local_var(1, 1);\ngive_exp_points(500);\ndisplay_msg(message_str(89, 124) + 500 + message_str(89, 125));\ngsay_reply(89, 115);\ngiq_option(4, 89, 116, prisonrend, 50);\ngiq_option(5, 89, 117, prisonr07, 50);\ngiq_option(-3, 89, 118, prisonrend, 50);\n","prisonr07":"gsay_reply(89, 119);\ngiq_option(5, 89, 120, prisonr08, 50);\ngiq_option(5, 89, 121, prisonrend, 50);\n","prisonr08":"gsay_reply(89, 122);\ngiq_option(5, 89, 123, prisonrend, 50);\n","leave_map":"my_hex := tile_num(self_obj);\nif (my_hex == local_var(2)) then begin\n  set_local_var(3, local_var(3) + 1);\n  if (local_var(3) > 7) then begin\n    set_global_var(155, global_var(155) + 1);\n    set_local_var(3, 10);\n    set_obj_visibility(self_obj, 1);\n    move_to(self_obj, 0, 0);\n  end\n  else begin\n    if (local_var(3) == 1) then begin\n      set_local_var(2, 15863);\n    end\n    else begin\n      if (local_var(3) == 2) then begin\n        set_local_var(2, 13065);\n      end\n      else begin\n        if (local_var(3) == 3) then begin\n          set_local_var(2, 13081);\n        end\n        else begin\n          if (local_var(3) == 4) then begin\n            set_local_var(2, 14496);\n          end\n          else begin\n            if (local_var(3) == 5) then begin\n              set_local_var(2, 11900);\n            end\n            else begin\n              if (local_var(3) == 6) then begin\n                set_local_var(2, 8700);\n              end\n              else begin\n                if (local_var(3) == 7) then begin\n                  set_local_var(2, 5900);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n    animate_move_obj_to_tile(self_obj, local_var(2), 0);\n  end\nend\nanimate_move_obj_to_tile(self_obj, local_var(2), 0);\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>