<!DOCTYPE html><html><head><title>amonk4</title><meta charset="utf-8" /></head><body><svg width="1361pt" height="962pt"
 viewBox="0.00 0.00 1361.00 961.63" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 957.63)">
<title>amonk4</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-957.63 1357,-957.63 1357,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-923.58" rx="27" ry="18"/>
</g>
<!-- description_p_proc -->
<g id="node2" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="190" cy="-923.58" rx="118.44" ry="30.05"/>
<text text-anchor="middle" x="190" y="-927.53" font-family="Times,serif" font-size="14.00">Этот монах, похоже,</text>
<text text-anchor="middle" x="190" y="-910.28" font-family="Times,serif" font-size="14.00">торгует чем&#45;то.</text>
</g>
<!-- destroy_p_proc -->
<g id="node3" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="353" cy="-923.58" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node4" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="425" cy="-923.58" rx="27" ry="18"/>
</g>
<!-- Make_Ainven -->
<g id="node5" class="node">
<title>Make_Ainven</title>
<ellipse fill="#ffffff" stroke="#000000" cx="425" cy="-826.48" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc&#45;&gt;Make_Ainven -->
<g id="edge1" class="edge">
<title>map_enter_p_proc&#45;&gt;Make_Ainven</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M425,-905.14C425,-891.33 425,-871.77 425,-855.73"/>
<polygon fill="#555555" stroke="#555555" points="428.5,-855.81 425,-845.81 421.5,-855.81 428.5,-855.81"/>
</g>
<!-- look_at_p_proc -->
<g id="node6" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="579" cy="-923.58" rx="108.55" ry="18"/>
<text text-anchor="middle" x="579" y="-918.91" font-family="Times,serif" font-size="14.00">Вы видите монаха.</text>
</g>
<!-- pickup_p_proc -->
<g id="node7" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="771" cy="-923.58" rx="65.94" ry="18"/>
<text text-anchor="middle" x="771" y="-918.91" font-family="Times,serif" font-size="14.00">Прекрати!</text>
</g>
<!-- timed_event_p_proc -->
<g id="node8" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="882" cy="-923.58" rx="27" ry="18"/>
</g>
<!-- Node001 -->
<g id="node9" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="975" cy="-826.48" rx="136.47" ry="30.05"/>
<text text-anchor="middle" x="975" y="-830.43" font-family="Times,serif" font-size="14.00">Привет, чем я могу вам</text>
<text text-anchor="middle" x="975" y="-813.18" font-family="Times,serif" font-size="14.00">помочь?</text>
</g>
<!-- timed_event_p_proc&#45;&gt;Node001 -->
<g id="edge2" class="edge">
<title>timed_event_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M896.12,-908.14C907.55,-896.46 924.15,-879.48 939.17,-864.11"/>
<polygon fill="#555555" stroke="#555555" points="941.36,-866.86 945.85,-857.26 936.36,-861.96 941.36,-866.86"/>
</g>
<!-- Node002 -->
<g id="node11" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="637" cy="-634.89" rx="161.4" ry="91.04"/>
<text text-anchor="middle" x="637" y="-681.96" font-family="Times,serif" font-size="14.00">Наша святая миссия —</text>
<text text-anchor="middle" x="637" y="-664.71" font-family="Times,serif" font-size="14.00">собирать и хранить</text>
<text text-anchor="middle" x="637" y="-647.46" font-family="Times,serif" font-size="14.00">священные реликвии</text>
<text text-anchor="middle" x="637" y="-630.21" font-family="Times,serif" font-size="14.00">забытого прошлого. Любому</text>
<text text-anchor="middle" x="637" y="-612.96" font-family="Times,serif" font-size="14.00">здесь рады до тех пор,</text>
<text text-anchor="middle" x="637" y="-595.71" font-family="Times,serif" font-size="14.00">пока он не доставляет</text>
<text text-anchor="middle" x="637" y="-578.46" font-family="Times,serif" font-size="14.00">неприятностей.</text>
</g>
<!-- Node001&#45;&gt;Node002 -->
<g id="edge4" class="edge">
<title>Node001&#45;&gt;Node002</title>
<path fill="none" stroke="#998300" d="M839.21,-822.73C761.08,-818.05 673.36,-806.45 647.25,-778.43 636.46,-766.85 630.42,-752.19 627.41,-736.71"/>
<polygon fill="#998300" stroke="#998300" points="630.74,-736.26 625.8,-726.88 623.81,-737.29 630.74,-736.26"/>
<text text-anchor="middle" x="745.88" y="-765.13" font-family="Times,serif" font-size="14.00" fill="#998300">Что вы можете рассказать</text>
<text text-anchor="middle" x="745.88" y="-747.88" font-family="Times,serif" font-size="14.00" fill="#998300">мне о вашем ордене?</text>
</g>
<!-- NodeBarter -->
<g id="node12" class="node">
<title>NodeBarter</title>
<ellipse fill="#ffffff" stroke="#000000" cx="887" cy="-634.89" rx="27" ry="18"/>
</g>
<!-- Node001&#45;&gt;NodeBarter -->
<g id="edge5" class="edge">
<title>Node001&#45;&gt;NodeBarter</title>
<path fill="none" stroke="#560099" d="M885.49,-803.55C874.37,-797.19 864.41,-789 857.25,-778.43 833.18,-742.88 854.13,-691.78 870.97,-661.39"/>
<polygon fill="#560099" stroke="#560099" points="874.46,-663.34 876.45,-652.94 868.4,-659.83 874.46,-663.34"/>
<text text-anchor="middle" x="901.88" y="-756.5" font-family="Times,serif" font-size="14.00" fill="#560099">Поторгуем?</text>
</g>
<!-- Node999 -->
<g id="node13" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="990" cy="-634.89" rx="27" ry="18"/>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge6" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#00992a" d="M977.31,-796.27C980.17,-760.18 984.99,-699.23 987.79,-663.77"/>
<polygon fill="#00992a" stroke="#00992a" points="991.33,-664.46 988.63,-654.21 984.35,-663.91 991.33,-664.46"/>
<text text-anchor="middle" x="1003.75" y="-756.5" font-family="Times,serif" font-size="14.00" fill="#00992a">Пока!</text>
</g>
<!-- talk_p_proc -->
<g id="node10" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1068" cy="-923.58" rx="140.65" ry="18"/>
<text text-anchor="middle" x="1068" y="-918.91" font-family="Times,serif" font-size="14.00">Поиграй в другом месте.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node001 -->
<g id="edge3" class="edge">
<title>talk_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1051.37,-905.58C1040.09,-894.04 1024.73,-878.33 1010.75,-864.03"/>
<polygon fill="#555555" stroke="#555555" points="1013.65,-861.97 1004.16,-857.27 1008.64,-866.87 1013.65,-861.97"/>
</g>
<!-- Node005 -->
<g id="node14" class="node">
<title>Node005</title>
<ellipse fill="#ffffff" stroke="#000000" cx="952" cy="-423.95" rx="150.79" ry="66.64"/>
<text text-anchor="middle" x="952" y="-453.78" font-family="Times,serif" font-size="14.00">Его можно найти на</text>
<text text-anchor="middle" x="952" y="-436.53" font-family="Times,serif" font-size="14.00">третьем этаже. Если вы</text>
<text text-anchor="middle" x="952" y="-419.28" font-family="Times,serif" font-size="14.00">хотите узнать больше о</text>
<text text-anchor="middle" x="952" y="-402.03" font-family="Times,serif" font-size="14.00">нашем ордене, поговорите</text>
<text text-anchor="middle" x="952" y="-384.78" font-family="Times,serif" font-size="14.00">с ним.</text>
</g>
<!-- Node002&#45;&gt;Node005 -->
<g id="edge7" class="edge">
<title>Node002&#45;&gt;Node005</title>
<path fill="none" stroke="#990003" d="M741.02,-564.89C779.51,-539.36 822.83,-510.63 860.16,-485.87"/>
<polygon fill="#990003" stroke="#990003" points="861.62,-488.44 868.02,-479.99 857.75,-482.6 861.62,-488.44"/>
<text text-anchor="middle" x="918.25" y="-512.55" font-family="Times,serif" font-size="14.00" fill="#990003">Кто ваш духовный лидер?</text>
</g>
<!-- Node006 -->
<g id="node15" class="node">
<title>Node006</title>
<ellipse fill="#ffffff" stroke="#000000" cx="840" cy="-152.03" rx="152.38" ry="152.03"/>
<text text-anchor="middle" x="840" y="-242.23" font-family="Times,serif" font-size="14.00">Да всякие, но большая</text>
<text text-anchor="middle" x="840" y="-224.98" font-family="Times,serif" font-size="14.00">часть нашего Реликвария</text>
<text text-anchor="middle" x="840" y="-207.73" font-family="Times,serif" font-size="14.00">состоит из древних</text>
<text text-anchor="middle" x="840" y="-190.48" font-family="Times,serif" font-size="14.00">фолиантов. Из их текстов</text>
<text text-anchor="middle" x="840" y="-173.23" font-family="Times,serif" font-size="14.00">можно получить так много</text>
<text text-anchor="middle" x="840" y="-155.98" font-family="Times,serif" font-size="14.00">информации! Это наша</text>
<text text-anchor="middle" x="840" y="-138.73" font-family="Times,serif" font-size="14.00">миссия — сохранить эти</text>
<text text-anchor="middle" x="840" y="-121.48" font-family="Times,serif" font-size="14.00">знания, чтобы будущие</text>
<text text-anchor="middle" x="840" y="-104.23" font-family="Times,serif" font-size="14.00">поколения могли</text>
<text text-anchor="middle" x="840" y="-86.98" font-family="Times,serif" font-size="14.00">воспользоваться ими для</text>
<text text-anchor="middle" x="840" y="-69.73" font-family="Times,serif" font-size="14.00">создания нового мира,</text>
<text text-anchor="middle" x="840" y="-52.48" font-family="Times,serif" font-size="14.00">мира чистоты и радости.</text>
</g>
<!-- Node002&#45;&gt;Node006 -->
<g id="edge8" class="edge">
<title>Node002&#45;&gt;Node006</title>
<path fill="none" stroke="#003099" d="M611.09,-544.62C599.63,-488.58 593.84,-416.06 619.5,-357.31 638.34,-314.18 671.26,-276.09 706.02,-244.84"/>
<polygon fill="#003099" stroke="#003099" points="707.74,-248.1 712.93,-238.86 703.11,-242.85 707.74,-248.1"/>
<text text-anchor="middle" x="706.25" y="-419.28" font-family="Times,serif" font-size="14.00" fill="#003099">Какого рода реликвии?</text>
</g>
<!-- NodeBarter&#45;&gt;Node001 -->
<g id="edge9" class="edge">
<title>NodeBarter&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M896.57,-652C908.72,-672.8 929.9,-710.34 945,-743.93 951.06,-757.41 956.88,-772.53 961.75,-786.04"/>
<polygon fill="#555555" stroke="#555555" points="958.65,-786.76 965.28,-795.02 965.25,-784.42 958.65,-786.76"/>
</g>
<!-- Node005&#45;&gt;Node001 -->
<g id="edge11" class="edge">
<title>Node005&#45;&gt;Node001</title>
<path fill="none" stroke="#990089" d="M1004.26,-486.6C1008.99,-493.76 1013.36,-501.16 1017,-508.6 1024.11,-523.12 1023.86,-527.82 1026,-543.85 1076.63,-923.8 1038.46,-757.64 1029,-778.43 1027.25,-782.26 1025.02,-785.91 1022.47,-789.35"/>
<polygon fill="#990089" stroke="#990089" points="1019.37,-786.58 1015.53,-796.46 1024.69,-791.13 1019.37,-786.58"/>
<text text-anchor="middle" x="1073.12" y="-630.21" font-family="Times,serif" font-size="14.00" fill="#990089">Ладно.</text>
</g>
<!-- Node005&#45;&gt;Node006 -->
<g id="edge10" class="edge">
<title>Node005&#45;&gt;Node006</title>
<path fill="none" stroke="#5c9900" d="M840.77,-378.7C791.29,-358.95 743.92,-339.92 743.5,-339.31 730.38,-319.9 729.94,-298.49 736.64,-277.31"/>
<polygon fill="#5c9900" stroke="#5c9900" points="740.17,-278.86 740.34,-268.27 733.6,-276.44 740.17,-278.86"/>
<text text-anchor="middle" x="830.25" y="-326.01" font-family="Times,serif" font-size="14.00" fill="#5c9900">Какого рода реликвии?</text>
</g>
<!-- Node006&#45;&gt;Node001 -->
<g id="edge13" class="edge">
<title>Node006&#45;&gt;Node001</title>
<path fill="none" stroke="#995000" d="M983.16,-204.8C1035.2,-231.38 1088.45,-269.5 1118,-322.06 1206.05,-478.64 1169.69,-559.53 1102,-725.93 1090.39,-754.47 1065.31,-776.86 1040.48,-793.12"/>
<polygon fill="#995000" stroke="#995000" points="1038.98,-790.56 1032.37,-798.83 1042.7,-796.49 1038.98,-790.56"/>
<text text-anchor="middle" x="1199.38" y="-512.55" font-family="Times,serif" font-size="14.00" fill="#995000">Хорошо.</text>
</g>
<!-- Node006&#45;&gt;Node005 -->
<g id="edge12" class="edge">
<title>Node006&#45;&gt;Node005</title>
<path fill="none" stroke="#00997c" d="M902.92,-290.55C907.45,-301.17 911.86,-311.76 916,-322.06 919.32,-330.3 922.65,-338.99 925.88,-347.66"/>
<polygon fill="#00997c" stroke="#00997c" points="922.88,-348.63 929.62,-356.8 929.45,-346.21 922.88,-348.63"/>
<text text-anchor="middle" x="1018.25" y="-326.01" font-family="Times,serif" font-size="14.00" fill="#00997c">Кто ваш духовный лидер?</text>
</g>
<!-- critter_p_proc -->
<g id="node16" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1254" cy="-923.58" rx="27" ry="18"/>
</g>
<!-- damage_p_proc -->
<g id="node17" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1326" cy="-923.58" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"[]","description_p_proc":"script_overrides;\ndisplay_msg(message_str(1337, 101));\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(5, global_var(5) + 1);\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin\n    set_global_var(2, 1);\n    set_global_var(3, 0);\n  end\n  if (metarule(51, self_obj) == 2) then begin\n    if (source_obj == dude_obj) then begin\n      set_global_var(2, 0);\n      set_global_var(1, global_var(1) + 1);\n      set_global_var(0, global_var(0) + 4294967281);\n      debug_msg(\"amonk4\" + \": \" + \"Player gains \" + 4294967281 + \" Karma Points.\" + \"\\n\");\n      set_global_var(37, 0);\n      set_global_var(38, 0);\n      set_global_var(39, 0);\n      set_global_var(40, 0);\n      set_global_var(41, 0);\n      set_global_var(42, 0);\n      set_global_var(43, 0);\n      set_global_var(44, 0);\n      set_global_var(45, 0);\n      tmp_gen_rep := global_var(0);\n      if (has_trait(0, dude_obj, 95)) then begin\n        tmp_gen_rep := global_var(0) * 2;\n      end\n      if (tmp_gen_rep >= 1000) then begin\n        set_global_var(37, 1);\n      end\n      else begin\n        if (tmp_gen_rep >= 750) then begin\n          set_global_var(38, 1);\n        end\n        else begin\n          if (tmp_gen_rep >= 500) then begin\n            set_global_var(39, 1);\n          end\n          else begin\n            if (tmp_gen_rep >= 250) then begin\n              set_global_var(40, 1);\n            end\n            else begin\n              if (tmp_gen_rep > 4294967046) then begin\n                set_global_var(41, 1);\n              end\n              else begin\n                if (tmp_gen_rep > 4294966796) then begin\n                  set_global_var(42, 1);\n                end\n                else begin\n                  if (tmp_gen_rep > 4294966546) then begin\n                    set_global_var(43, 1);\n                  end\n                  else begin\n                    if (tmp_gen_rep > 4294966296) then begin\n                      set_global_var(44, 1);\n                    end\n                    else begin\n                      set_global_var(45, 1);\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n      set_global_var(63, global_var(63) + 4294967288);\n      debug_msg(\"amonk4\" + \": \" + \"Added \" + 4294967288 + \" to Town Rep\" + \"\\n\");\n    end\n  end\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin\n    set_global_var(3, 1);\n    set_global_var(2, 0);\n  end\n  set_global_var(0, global_var(0) + 4294967286);\n  debug_msg(\"amonk4\" + \": \" + \"Player gains \" + 4294967286 + \" Karma Points.\" + \"\\n\");\n  set_global_var(37, 0);\n  set_global_var(38, 0);\n  set_global_var(39, 0);\n  set_global_var(40, 0);\n  set_global_var(41, 0);\n  set_global_var(42, 0);\n  set_global_var(43, 0);\n  set_global_var(44, 0);\n  set_global_var(45, 0);\n  tmp_gen_rep := global_var(0);\n  if (has_trait(0, dude_obj, 95)) then begin\n    tmp_gen_rep := global_var(0) * 2;\n  end\n  if (tmp_gen_rep >= 1000) then begin\n    set_global_var(37, 1);\n  end\n  else begin\n    if (tmp_gen_rep >= 750) then begin\n      set_global_var(38, 1);\n    end\n    else begin\n      if (tmp_gen_rep >= 500) then begin\n        set_global_var(39, 1);\n      end\n      else begin\n        if (tmp_gen_rep >= 250) then begin\n          set_global_var(40, 1);\n        end\n        else begin\n          if (tmp_gen_rep > 4294967046) then begin\n            set_global_var(41, 1);\n          end\n          else begin\n            if (tmp_gen_rep > 4294966796) then begin\n              set_global_var(42, 1);\n            end\n            else begin\n              if (tmp_gen_rep > 4294966546) then begin\n                set_global_var(43, 1);\n              end\n              else begin\n                if (tmp_gen_rep > 4294966296) then begin\n                  set_global_var(44, 1);\n                end\n                else begin\n                  set_global_var(45, 1);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  set_global_var(63, global_var(63) + 4294967291);\n  debug_msg(\"amonk4\" + \": \" + \"Added \" + 4294967291 + \" to Town Rep\" + \"\\n\");\nend\n","map_enter_p_proc":"Only_Once := 0;\ncritter_add_trait(self_obj, 1, 5, 17);\nif (local_var(7) == 0) then begin\n  set_local_var(7, 1);\n  call Make_Ainven;\nend\nadd_timer_event(self_obj, random(5, 10) * 10, 1);\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(1337, 100));\n","pickup_p_proc":"variable LVar0 := 0;\nif (source_obj == dude_obj) then begin\n  if (local_var(8) == 1) then begin\n    set_global_var(63, 4294967266);\n    attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n  end\n  else begin\n    float_msg(self_obj, message_str(1337, 500), 2);\n    set_local_var(8, 1);\n    LVar0 := create_object_sid(236, 0, 0, 4294967295);\n    add_obj_to_inven(self_obj, LVar0);\n    wield_obj_critter(self_obj, LVar0);\n  end\nend\n","timed_event_p_proc":"if ((fixed_param == 1) and not(combat_is_initialized) and obj_can_see_obj(self_obj, dude_obj) and (tile_distance(tile_num(self_obj), tile_num(dude_obj)) <= 4)) then begin\n  call Node001;\nend\nadd_timer_event(self_obj, random(5, 10) * 10, 1);\n","talk_p_proc":"if (not(get_critter_stat(dude_obj, 4) <= 3)) then begin\n  start_gdialog(1337, self_obj, 4, 4294967295, 4294967295);\n  gsay_start;\n  call Node001;\n  gsay_end;\n  end_dialogue;\nend\nelse begin\n  float_msg(self_obj, message_str(1337, 203), 7);\nend\n","Make_Ainven":"variable LVar0 := 0;\nif (random(1, 20) <= 15) then begin\n  LVar0 := create_object_sid(71, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, LVar0, random(2, 3));\nend\nif (random(1, 20) <= 10) then begin\n  LVar0 := create_object_sid(379, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, LVar0, 1);\nend\nif (random(1, 20) <= 3) then begin\n  LVar0 := create_object_sid(40, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, LVar0, random(1, 2));\nend\nif (random(1, 20) <= 5) then begin\n  LVar0 := create_object_sid(300, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, LVar0, random(1, 2));\nend\nif (random(1, 20) <= 7) then begin\n  LVar0 := create_object_sid(121, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, LVar0, random(1, 2));\nend\nif (random(1, 20) <= 1) then begin\n  LVar0 := create_object_sid(1, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, LVar0, 1);\nend\nif (random(1, 20) <= 2) then begin\n  LVar0 := create_object_sid(122, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, LVar0, 1);\nend\nif (random(1, 20) <= 3) then begin\n  LVar0 := create_object_sid(360, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, LVar0, random(1, 2));\nend\nif (random(1, 20) <= 5) then begin\n  LVar0 := create_object_sid(159, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, LVar0, random(1, 2));\nend\n","Node001":"gsay_reply(1337, 300);\ngiq_option(4, 1337, 301, Node002, 50);\ngiq_option(4, 1337, 302, NodeBarter, 50);\ngiq_option(4, 1337, 303, Node999, 50);\n","Node002":"gsay_reply(1337, 400);\ngiq_option(4, 1337, 401, Node005, 50);\ngiq_option(4, 1337, 402, Node006, 50);\n","NodeBarter":"gdialog_mod_barter(0);\ncall Node001;\n","Node005":"gsay_reply(1337, 403);\ngiq_option(4, 1337, 402, Node006, 50);\ngiq_option(4, 1337, 405, Node001, 50);\n","Node006":"gsay_reply(1337, 404);\ngiq_option(4, 1337, 401, Node005, 50);\ngiq_option(4, 1337, 406, Node001, 50);\n","Node999":"[]","critter_p_proc":"if ((global_var(63) == 4294967266) and obj_can_see_obj(self_obj, dude_obj)) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\n","damage_p_proc":"if (source_obj == dude_obj) then begin\n  set_local_var(0, local_var(0) bwor 8);\n  set_local_var(0, local_var(0) bwor 2);\n  if (global_var(63) != 4294967266) then begin\n    set_global_var(63, 4294967266);\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(name, code, x, y) {
    $('#thecode').show();
    $('#thecode').text("# " + name + "\n" + code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(nodeName, Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>