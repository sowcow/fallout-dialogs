<!DOCTYPE html><html><head><title>ziBlkJck</title><meta charset="utf-8" /></head><body><svg width="1568pt" height="1668pt"
 viewBox="0.00 0.00 1567.50 1667.72" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1663.72)">
<title>ziBlkJck</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1663.72 1563.5,-1663.72 1563.5,4 -4,4"/>
<!-- checkPartyMembersNearDoor -->
<g id="node1" class="node">
<title>checkPartyMembersNearDoor</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-1397.92" rx="27" ry="18"/>
</g>
<!-- start -->
<g id="node2" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="99" cy="-1397.92" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node3" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="257" cy="-1397.92" rx="113.14" ry="66.64"/>
<text text-anchor="middle" x="257" y="-1427.74" font-family="Times,serif" font-size="14.00">You see a Black Jack</text>
<text text-anchor="middle" x="257" y="-1410.49" font-family="Times,serif" font-size="14.00">dealer.</text>
<text text-anchor="middle" x="257" y="-1393.24" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="257" y="-1375.99" font-family="Times,serif" font-size="14.00">You see a Black Jack</text>
<text text-anchor="middle" x="257" y="-1358.74" font-family="Times,serif" font-size="14.00">table.</text>
</g>
<!-- description_p_proc -->
<g id="node4" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="520" cy="-1397.92" rx="132.23" ry="91.04"/>
<text text-anchor="middle" x="520" y="-1444.99" font-family="Times,serif" font-size="14.00">You see a Black Jack</text>
<text text-anchor="middle" x="520" y="-1427.74" font-family="Times,serif" font-size="14.00">dealer.</text>
<text text-anchor="middle" x="520" y="-1410.49" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="520" y="-1393.24" font-family="Times,serif" font-size="14.00">This is a Black Jack</text>
<text text-anchor="middle" x="520" y="-1375.99" font-family="Times,serif" font-size="14.00">table. Minimum bet is $</text>
<text text-anchor="middle" x="520" y="-1358.74" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="520" y="-1341.49" font-family="Times,serif" font-size="14.00">.</text>
</g>
<!-- talk_p_proc -->
<g id="node5" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="697" cy="-1397.92" rx="27" ry="18"/>
</g>
<!-- Node000 -->
<g id="node6" class="node">
<title>Node000</title>
<ellipse fill="#ffffff" stroke="#000000" cx="697" cy="-947.08" rx="144.96" ry="152.03"/>
<text text-anchor="middle" x="697" y="-1037.28" font-family="Times,serif" font-size="14.00">You&#39;re not allowed to</text>
<text text-anchor="middle" x="697" y="-1020.03" font-family="Times,serif" font-size="14.00">play here anymore. Please</text>
<text text-anchor="middle" x="697" y="-1002.78" font-family="Times,serif" font-size="14.00">leave.</text>
<text text-anchor="middle" x="697" y="-985.53" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="697" y="-968.28" font-family="Times,serif" font-size="14.00">Care to play some Black</text>
<text text-anchor="middle" x="697" y="-951.03" font-family="Times,serif" font-size="14.00">Jack? Minimum bet is $</text>
<text text-anchor="middle" x="697" y="-933.78" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="697" y="-916.53" font-family="Times,serif" font-size="14.00">.</text>
<text text-anchor="middle" x="697" y="-899.28" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="697" y="-882.03" font-family="Times,serif" font-size="14.00">You&#39;re not allowed to</text>
<text text-anchor="middle" x="697" y="-864.78" font-family="Times,serif" font-size="14.00">play here anymore. Please</text>
<text text-anchor="middle" x="697" y="-847.53" font-family="Times,serif" font-size="14.00">leave.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node000 -->
<g id="edge1" class="edge">
<title>talk_p_proc&#45;&gt;Node000</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M697,-1379.6C697,-1335.13 697,-1213.23 697,-1110.28"/>
<polygon fill="#555555" stroke="#555555" points="700.5,-1110.43 697,-1100.43 693.5,-1110.43 700.5,-1110.43"/>
</g>
<!-- Node001 -->
<g id="node9" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="974" cy="-687.36" rx="141.24" ry="54.45"/>
<text text-anchor="middle" x="974" y="-708.56" font-family="Times,serif" font-size="14.00">Sorry, you don&#39;t seem to</text>
<text text-anchor="middle" x="974" y="-691.31" font-family="Times,serif" font-size="14.00">have the minimum bet</text>
<text text-anchor="middle" x="974" y="-674.06" font-family="Times,serif" font-size="14.00">amount. Come back when</text>
<text text-anchor="middle" x="974" y="-656.81" font-family="Times,serif" font-size="14.00"> you have more money.</text>
</g>
<!-- Node000&#45;&gt;Node001 -->
<g id="edge2" class="edge">
<title>Node000&#45;&gt;Node001</title>
<path fill="none" stroke="#002199" d="M805.29,-845.33C841.8,-811.36 881.25,-774.65 912.82,-745.28"/>
<polygon fill="#002199" stroke="#002199" points="914.73,-748.35 919.67,-738.98 909.96,-743.23 914.73,-748.35"/>
<text text-anchor="middle" x="912.12" y="-763.75" font-family="Times,serif" font-size="14.00" fill="#002199">Sure.</text>
</g>
<!-- Node999 -->
<g id="node10" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="697" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node000&#45;&gt;Node999 -->
<g id="edge3" class="edge">
<title>Node000&#45;&gt;Node999</title>
<path fill="none" stroke="#4e9900" d="M574.51,-865.39C522.22,-820.57 473,-759.5 473,-688.36 473,-688.36 473,-688.36 473,-179.29 473,-111.75 503.6,-92.63 559,-54 588.67,-33.32 629.5,-24.84 659.04,-21.38"/>
<polygon fill="#4e9900" stroke="#4e9900" points="659.18,-24.78 668.77,-20.28 658.46,-17.82 659.18,-24.78"/>
<text text-anchor="middle" x="511.62" y="-528.61" font-family="Times,serif" font-size="14.00" fill="#4e9900">No thanks.</text>
</g>
<!-- Node000&#45;&gt;Node999 -->
<g id="edge4" class="edge">
<title>Node000&#45;&gt;Node999</title>
<path fill="none" stroke="#99007b" d="M611.39,-824.14C589.99,-782.93 573,-735.4 573,-688.36 573,-688.36 573,-688.36 573,-179.29 573,-116.85 632.59,-63.95 669.15,-37.37"/>
<polygon fill="#99007b" stroke="#99007b" points="670.75,-39.82 676.9,-31.19 666.71,-34.1 670.75,-39.82"/>
<text text-anchor="middle" x="623.25" y="-528.61" font-family="Times,serif" font-size="14.00" fill="#99007b">Wuh blak juk?</text>
</g>
<!-- Node000&#45;&gt;Node999 -->
<g id="edge5" class="edge">
<title>Node000&#45;&gt;Node999</title>
<path fill="none" stroke="#00998b" d="M697,-794.81C697,-759.85 697,-722.81 697,-688.36 697,-688.36 697,-688.36 697,-179.29 697,-132.94 697,-79.06 697,-47.06"/>
<polygon fill="#00998b" stroke="#00998b" points="700.5,-47.32 697,-37.32 693.5,-47.32 700.5,-47.32"/>
<text text-anchor="middle" x="761.12" y="-528.61" font-family="Times,serif" font-size="14.00" fill="#00998b">Sure, no problem.</text>
</g>
<!-- Node998 -->
<g id="node11" class="node">
<title>Node998</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1306" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node000&#45;&gt;Node998 -->
<g id="edge6" class="edge">
<title>Node000&#45;&gt;Node998</title>
<path fill="none" stroke="#995e00" d="M840.52,-923.5C1046.65,-886.96 1402,-806.78 1402,-688.36 1402,-688.36 1402,-688.36 1402,-179.29 1402,-123.26 1421.43,-98.96 1388,-54 1377.17,-39.43 1359.04,-30.86 1342.59,-25.86"/>
<polygon fill="#995e00" stroke="#995e00" points="1343.67,-22.26 1333.11,-23.06 1341.86,-29.02 1343.67,-22.26"/>
<text text-anchor="middle" x="1480.75" y="-528.61" font-family="Times,serif" font-size="14.00" fill="#995e00">I&#39;ll show you my limit.</text>
</g>
<!-- pickup_p_proc -->
<g id="node7" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="769" cy="-1397.92" rx="27" ry="18"/>
</g>
<!-- timed_event_p_proc -->
<g id="node8" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="841" cy="-1397.92" rx="27" ry="18"/>
</g>
<!-- Node002 -->
<g id="node12" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="974" cy="-577.91" rx="27" ry="18"/>
</g>
<!-- Node001&#45;&gt;Node002 -->
<g id="edge7" class="edge">
<title>Node001&#45;&gt;Node002</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M974,-632.63C974,-623.75 974,-614.87 974,-606.96"/>
<polygon fill="#555555" stroke="#555555" points="977.5,-607.17 974,-597.17 970.5,-607.17 977.5,-607.17"/>
</g>
<!-- GiveCards(0) -->
<g id="node13" class="node">
<title>GiveCards(0)</title>
<ellipse fill="none" stroke="black" cx="974" cy="-415.62" rx="76.99" ry="18"/>
<text text-anchor="middle" x="974" y="-410.94" font-family="Times,serif" font-size="14.00">GiveCards(0)</text>
</g>
<!-- Node002&#45;&gt;GiveCards(0) -->
<g id="edge8" class="edge">
<title>Node002&#45;&gt;GiveCards(0)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M974,-559.45C974,-531.87 974,-477.95 974,-444.83"/>
<polygon fill="#555555" stroke="#555555" points="977.5,-445.06 974,-435.06 970.5,-445.06 977.5,-445.06"/>
</g>
<!-- GiveCards(1) -->
<g id="node14" class="node">
<title>GiveCards(1)</title>
<ellipse fill="none" stroke="black" cx="802" cy="-415.62" rx="76.99" ry="18"/>
<text text-anchor="middle" x="802" y="-410.94" font-family="Times,serif" font-size="14.00">GiveCards(1)</text>
</g>
<!-- Node002&#45;&gt;GiveCards(1) -->
<g id="edge9" class="edge">
<title>Node002&#45;&gt;GiveCards(1)</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M956.67,-563.78C938.92,-550.09 910.78,-527.74 888,-506.66 865.3,-485.65 841.11,-460 824.18,-441.46"/>
<polygon fill="#555555" stroke="#555555" points="827.26,-439.54 817.95,-434.48 822.08,-444.24 827.26,-439.54"/>
</g>
<!-- Node005 -->
<g id="node15" class="node">
<title>Node005</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1191" cy="-415.62" rx="122.15" ry="91.04"/>
<text text-anchor="middle" x="1191" y="-462.69" font-family="Times,serif" font-size="14.00">Game is a push.</text>
<text text-anchor="middle" x="1191" y="-445.44" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1191" y="-428.19" font-family="Times,serif" font-size="14.00">You win $</text>
<text text-anchor="middle" x="1191" y="-410.94" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1191" y="-393.69" font-family="Times,serif" font-size="14.00">.</text>
<text text-anchor="middle" x="1191" y="-376.44" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1191" y="-359.19" font-family="Times,serif" font-size="14.00">Dealer wins the hand.</text>
</g>
<!-- Node002&#45;&gt;Node005 -->
<g id="edge10" class="edge">
<title>Node002&#45;&gt;Node005</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M991.76,-563.79C1014.82,-546.76 1056.8,-515.75 1096.3,-486.57"/>
<polygon fill="#555555" stroke="#555555" points="1097.72,-489.14 1103.68,-480.38 1093.56,-483.51 1097.72,-489.14"/>
</g>
<!-- Node006 -->
<g id="node16" class="node">
<title>Node006</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1191" cy="-180.29" rx="142.84" ry="91.04"/>
<text text-anchor="middle" x="1191" y="-227.36" font-family="Times,serif" font-size="14.00">[while reshuffling] Care</text>
<text text-anchor="middle" x="1191" y="-210.11" font-family="Times,serif" font-size="14.00">to play again?</text>
<text text-anchor="middle" x="1191" y="-192.86" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1191" y="-175.61" font-family="Times,serif" font-size="14.00">Sorry, I think you&#39;ve</text>
<text text-anchor="middle" x="1191" y="-158.36" font-family="Times,serif" font-size="14.00">reached your limit here.</text>
<text text-anchor="middle" x="1191" y="-141.11" font-family="Times,serif" font-size="14.00">I&#39;m gonna have to ask you</text>
<text text-anchor="middle" x="1191" y="-123.86" font-family="Times,serif" font-size="14.00">to leave.</text>
</g>
<!-- Node005&#45;&gt;Node006 -->
<g id="edge11" class="edge">
<title>Node005&#45;&gt;Node006</title>
<path fill="none" stroke="#320099" d="M1191,-324.41C1191,-310.61 1191,-296.3 1191,-282.29"/>
<polygon fill="#320099" stroke="#320099" points="1194.5,-282.65 1191,-272.65 1187.5,-282.65 1194.5,-282.65"/>
<text text-anchor="middle" x="1214.62" y="-293.28" font-family="Times,serif" font-size="14.00" fill="#320099">[more]</text>
</g>
<!-- Node006&#45;&gt;Node001 -->
<g id="edge12" class="edge">
<title>Node006&#45;&gt;Node001</title>
<path fill="none" stroke="#009905" d="M1276.09,-253.81C1294.75,-274.56 1311.94,-298.66 1322,-324.58 1351.29,-400.02 1364.1,-437.55 1322,-506.66 1274.95,-583.91 1182.83,-629.4 1105.18,-655.28"/>
<polygon fill="#009905" stroke="#009905" points="1104.25,-652.23 1095.82,-658.64 1106.41,-658.88 1104.25,-652.23"/>
<text text-anchor="middle" x="1329.12" y="-528.61" font-family="Times,serif" font-size="14.00" fill="#009905">Sure.</text>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge13" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#990028" d="M1082.31,-120.63C1033.85,-96.7 975.31,-70.77 920,-54 856.56,-34.77 779.59,-25.67 734.67,-21.71"/>
<polygon fill="#990028" stroke="#990028" points="735.23,-18.16 724.97,-20.81 734.64,-25.14 735.23,-18.16"/>
<text text-anchor="middle" x="1005.62" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#990028">No thanks.</text>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge14" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#005499" d="M1055.07,-152.18C975.48,-134.03 873.98,-106.91 787.75,-71.25 765.49,-62.05 741.97,-48.38 724.45,-37.33"/>
<polygon fill="#005499" stroke="#005499" points="726.69,-33.96 716.38,-31.51 722.91,-39.85 726.69,-33.96"/>
<text text-anchor="middle" x="852.12" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#005499">Sure, no problem.</text>
</g>
<!-- Node006&#45;&gt;Node998 -->
<g id="edge15" class="edge">
<title>Node006&#45;&gt;Node998</title>
<path fill="none" stroke="#819900" d="M1209.12,-89.5C1214.5,-76.62 1221.47,-64.28 1230.5,-54 1241.01,-42.04 1256.47,-33.89 1270.67,-28.48"/>
<polygon fill="#819900" stroke="#819900" points="1271.39,-31.59 1279.7,-25.02 1269.1,-24.98 1271.39,-31.59"/>
<text text-anchor="middle" x="1309.75" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#819900">I&#39;ll show you my limit.</text>
</g>
<!-- DrawCard -->
<g id="node17" class="node">
<title>DrawCard</title>
<ellipse fill="#ffffff" stroke="#000000" cx="913" cy="-1397.92" rx="27" ry="18"/>
</g>
<!-- GetCardValue -->
<g id="node18" class="node">
<title>GetCardValue</title>
<ellipse fill="#ffffff" stroke="#000000" cx="985" cy="-1397.92" rx="27" ry="18"/>
</g>
<!-- TotalCards -->
<g id="node19" class="node">
<title>TotalCards</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1057" cy="-1397.92" rx="27" ry="18"/>
</g>
<!-- GiveCards -->
<g id="node20" class="node">
<title>GiveCards</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1129" cy="-1397.92" rx="27" ry="18"/>
</g>
<!-- PrintDrawCardMessages -->
<g id="node21" class="node">
<title>PrintDrawCardMessages</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1272" cy="-1397.92" rx="97.76" ry="261.81"/>
<text text-anchor="middle" x="1272" y="-1565.74" font-family="Times,serif" font-size="14.00"> of </text>
<text text-anchor="middle" x="1272" y="-1548.49" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1531.24" font-family="Times,serif" font-size="14.00">, a </text>
<text text-anchor="middle" x="1272" y="-1513.99" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1496.74" font-family="Times,serif" font-size="14.00"> of </text>
<text text-anchor="middle" x="1272" y="-1479.49" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1462.24" font-family="Times,serif" font-size="14.00"> and a </text>
<text text-anchor="middle" x="1272" y="-1444.99" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1427.74" font-family="Times,serif" font-size="14.00"> of </text>
<text text-anchor="middle" x="1272" y="-1410.49" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1393.24" font-family="Times,serif" font-size="14.00"> for </text>
<text text-anchor="middle" x="1272" y="-1375.99" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1358.74" font-family="Times,serif" font-size="14.00">. Black Jack</text>
<text text-anchor="middle" x="1272" y="-1341.49" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1324.24" font-family="Times,serif" font-size="14.00">. Bust</text>
<text text-anchor="middle" x="1272" y="-1306.99" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1289.74" font-family="Times,serif" font-size="14.00">.</text>
<text text-anchor="middle" x="1272" y="-1272.49" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1255.24" font-family="Times,serif" font-size="14.00">You draw a </text>
<text text-anchor="middle" x="1272" y="-1237.99" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="1272" y="-1220.74" font-family="Times,serif" font-size="14.00">The dealer has a </text>
</g>
</g>
</svg>
<script>window.Codes = {"checkPartyMembersNearDoor":"if (party_member_obj(16777278) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777278)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777376) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777376)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777377) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777377)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777305) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777305)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777313) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777313)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777323) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777323)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777352) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777352)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777378) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777378)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777368) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777368)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777379) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777379)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777380) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777380)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777295) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777295)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777381) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777381)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777407) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777407)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777411) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777411)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777412) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777412)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777413) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777413)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777481) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777481)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777558) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777558)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777600) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777600)) <= 5) then begin\n    return 1;\n  end\nend\nreturn 0;\n","start":"[]","look_at_p_proc":"script_overrides;\nif (obj_type(self_obj) == 1) then begin\n  display_msg(message_str(70, 101));\nend\nelse begin\n  display_msg(message_str(70, 100));\nend\n","description_p_proc":"script_overrides;\nif (obj_type(self_obj) == 1) then begin\n  display_msg(message_str(70, 101));\nend\nelse begin\n  display_msg(message_str(70, 110) + 20 + message_str(70, 111));\nend\n","talk_p_proc":"call Node000;\n","pickup_p_proc":"if (obj_type(self_obj) == 1) then begin\n  if (critter_is_fleeing(self_obj)) then begin\n    if (anim_busy(self_obj) == 0) then begin\n      if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin\n        if (anim_busy(self_obj) == 0) then begin\n          global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));\n          animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n          global_temp := (global_temp + 1) % 6;\n          while((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin\n            debug_msg(\"flee loop: rot == \" + global_temp);\n            animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n            global_temp := (global_temp + 1) % 6;\n          end\n        end\n      end\n    end\n  end\n  else begin\n    attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n  end\nend\n","timed_event_p_proc":"if (obj_type(self_obj) == 1) then begin\n  if (tile_distance_objs(self_obj, dude_obj) <= 4) then begin\n    if (random(0, 4) != 3) then begin\n      play_sfx(\"shuffle\");\n    end\n  end\nend\n","Node000":"if (local_var(0) == 0) then begin\n  start_gdialog(70, self_obj, 4, -1, -1);\n  gsay_start;\n  if (((local_var(1) > 0) or (0 == 0)) == 0) then begin\n    gsay_reply(70, message_str(70, 102) + 20 + message_str(70, 103));\n    giq_option(4, 70, 104, Node001, 50);\n    giq_option(4, 70, 105, Node999, 50);\n    giq_option(-3, 70, 106, Node999, 50);\n  end\n  else begin\n    gsay_reply(70, 129);\n    giq_option(1, 70, 127, Node999, 50);\n    if ((local_var(1) > 0) or (0 == 0)) then begin\n      giq_option(1, 70, 128, Node998, 50);\n    end\n  end\n  gsay_end;\n  end_dialogue;\nend\nelse begin\n  if (obj_type(self_obj) == 1) then begin\n    float_msg(self_obj, message_str(70, message_str(70, 129)), 8);\n  end\nend\n","Node001":"if (item_caps_total(dude_obj) >= 20) then begin\n  player_1_card := 0;\n  player_2_card := 0;\n  player_3_card := 0;\n  player_hand_total := TotalCards(0, 0, 0);\n  dealer_1_card := 0;\n  dealer_2_card := 0;\n  dealer_3_card := 0;\n  dealer_hand_total := TotalCards(0, 0, 0);\n  call Node002;\nend\nelse begin\n  gsay_reply(70, 107);\nend\n","Node002":"call GiveCards(0);\ncall GiveCards(1);\ncall Node005;\n","Node005":"variable LVar0 := 0;\nvariable LVar1 := 0;\nLVar0 := PrintDrawCardMessages(0, player_1_card, player_2_card, player_3_card, player_hand_total) + \"  \" + PrintDrawCardMessages(1, dealer_1_card, dealer_2_card, dealer_3_card, dealer_hand_total) + \"  \";\nif ((player_hand_total == dealer_hand_total) or ((player_hand_total > 21) and (dealer_hand_total > 21))) then begin\n  gsay_reply(70, LVar0 + message_str(70, 126));\nend\nelse begin\n  if ((player_hand_total > dealer_hand_total) or (dealer_hand_total > 21) and (player_hand_total <= 21)) then begin\n    if ((player_hand_total == 21) and (player_3_card == 0)) then begin\n      LVar1 := 3 * 20 / 2;\n    end\n    else begin\n      LVar1 := 20;\n    end\n    set_local_var(1, local_var(1) + LVar1);\n    item_caps_adjust(dude_obj, LVar1);\n    gsay_reply(70, LVar0 + message_str(70, 131) + LVar1 + message_str(70, 132));\n  end\n  else begin\n    set_local_var(1, local_var(1) + -20);\n    item_caps_adjust(dude_obj, -20);\n    gsay_reply(70, LVar0 + message_str(70, 125));\n  end\nend\ngiq_option(1, 70, 121, Node006, 50);\n","Node006":"if ((local_var(1) > 0) or (0 == 0)) then begin\n  play_sfx(\"shuffle\");\n  gsay_reply(70, 122);\n  giq_option(1, 70, 104, Node001, 50);\n  giq_option(1, 70, 105, Node999, 50);\nend\nelse begin\n  gsay_reply(70, 123);\n  giq_option(1, 70, 127, Node999, 50);\n  giq_option(1, 70, 128, Node998, 50);\nend\n","DrawCard":"variable LVar1 := 0;\nvariable LVar2 := 0;\nif (arg0 > 0) then begin\n  if (arg0 == 11) then begin\n    LVar1 := 1;\n  end\n  else begin\n    if (arg0 >= 10) then begin\n      LVar1 := random(10, 13);\n    end\n    else begin\n      LVar1 := arg0;\n    end\n  end\n  while((player_1_card == (LVar1 + ((1 - 1) * 13))) or (player_2_card == (LVar1 + ((1 - 1) * 13))) or (player_3_card == (LVar1 + ((1 - 1) * 13))) or ((dealer_1_card == (LVar1 + ((1 - 1) * 13))) or (dealer_2_card == (LVar1 + ((1 - 1) * 13))) or (dealer_3_card == (LVar1 + ((1 - 1) * 13)))) or ((player_1_card == (LVar1 + ((2 - 1) * 13))) or (player_2_card == (LVar1 + ((2 - 1) * 13))) or (player_3_card == (LVar1 + ((2 - 1) * 13))) or ((dealer_1_card == (LVar1 + ((2 - 1) * 13))) or (dealer_2_card == (LVar1 + ((2 - 1) * 13))) or (dealer_3_card == (LVar1 + ((2 - 1) * 13))))) or ((player_1_card == (LVar1 + ((3 - 1) * 13))) or (player_2_card == (LVar1 + ((3 - 1) * 13))) or (player_3_card == (LVar1 + ((3 - 1) * 13))) or ((dealer_1_card == (LVar1 + ((3 - 1) * 13))) or (dealer_2_card == (LVar1 + ((3 - 1) * 13))) or (dealer_3_card == (LVar1 + ((3 - 1) * 13))))) or ((player_1_card == (LVar1 + ((4 - 1) * 13))) or (player_2_card == (LVar1 + ((4 - 1) * 13))) or (player_3_card == (LVar1 + ((4 - 1) * 13))) or ((dealer_1_card == (LVar1 + ((4 - 1) * 13))) or (dealer_2_card == (LVar1 + ((4 - 1) * 13))) or (dealer_3_card == (LVar1 + ((4 - 1) * 13)))))) do begin\n    if (LVar1 == 1) then begin\n      LVar1 := 13;\n    end\n    else begin\n      LVar1 := LVar1 - 1;\n    end\n  end\n  LVar2 := random(1, 4);\n  while((player_1_card == (LVar1 + ((LVar2 - 1) * 13))) or (player_2_card == (LVar1 + ((LVar2 - 1) * 13))) or (player_3_card == (LVar1 + ((LVar2 - 1) * 13))) or ((dealer_1_card == (LVar1 + ((LVar2 - 1) * 13))) or (dealer_2_card == (LVar1 + ((LVar2 - 1) * 13))) or (dealer_3_card == (LVar1 + ((LVar2 - 1) * 13))))) do begin\n    LVar2 := LVar2 + 1;\n    if (LVar2 > 4) then begin\n      LVar2 := 1;\n    end\n  end\n  return LVar1 + ((LVar2 - 1) * 13);\nend\nelse begin\n  return 0;\nend\n","GetCardValue":"variable LVar1 := 0;\nLVar1 := arg0 - (((((arg0 > ((13 * 1) - 13)) and (arg0 <= (13 * 1))) * 1) + (((arg0 > ((13 * 2) - 13)) and (arg0 <= (13 * 2))) * 2) + (((arg0 > ((13 * 3) - 13)) and (arg0 <= (13 * 3))) * 3) + (((arg0 > ((13 * 4) - 13)) and (arg0 <= (13 * 4))) * 4) - 1) * 13);\nif (LVar1 > 10) then begin\n  return 10;\nend\nelse begin\n  return LVar1;\nend\n","TotalCards":"variable LVar3 := 0;\nLVar3 := GetCardValue(arg0) + GetCardValue(arg1) + GetCardValue(arg2);\nif ((arg0 == (1 + ((1 - 1) * 13))) or (arg0 == (1 + ((2 - 1) * 13))) or (arg0 == (1 + ((3 - 1) * 13))) or (arg0 == (1 + ((4 - 1) * 13))) or ((arg1 == (1 + ((1 - 1) * 13))) or (arg1 == (1 + ((2 - 1) * 13))) or (arg1 == (1 + ((3 - 1) * 13))) or (arg1 == (1 + ((4 - 1) * 13)))) or ((arg2 == (1 + ((1 - 1) * 13))) or (arg2 == (1 + ((2 - 1) * 13))) or (arg2 == (1 + ((3 - 1) * 13))) or (arg2 == (1 + ((4 - 1) * 13)))) and (LVar3 <= 11)) then begin\n  LVar3 := LVar3 + 10;\nend\nreturn LVar3;\n","GiveCards":"variable LVar1 := 0;\nvariable LVar2 := 0;\nvariable LVar3 := 0;\nvariable LVar4 := 0;\nvariable LVar5 := 0;\nvariable LVar6 := 0;\nLVar6 := roll_vs_skill(dude_obj, 16, 0);\nif (is_critical(LVar6)) then begin\n  if (is_success(LVar6) and (arg0 == 0) or ((is_success(LVar6) == 0) and (arg0 == 1))) then begin\n    LVar1 := DrawCard(11);\n    LVar2 := DrawCard(10);\n  end\n  else begin\n    LVar1 := DrawCard(random(9, 10));\n    LVar2 := DrawCard(random(4, 8));\n    LVar3 := DrawCard(random(9, 10));\n  end\nend\nelse begin\n  if (is_success(LVar6) and (arg0 == 0) or ((is_success(LVar6) == 0) and (arg0 == 1))) then begin\n    LVar4 := random(18, 21);\n  end\n  else begin\n    LVar4 := random(15, 17);\n  end\n  LVar1 := DrawCard(random(1, 13));\n  if ((GetCardValue(LVar1) + 10) <= LVar4) then begin\n    LVar2 := DrawCard(10);\n  end\n  LVar2 := DrawCard(random(1, LVar4 - GetCardValue(LVar1)));\n  LVar5 := TotalCards(LVar1, LVar2, 0);\n  if (LVar4 > LVar5) then begin\n    LVar3 := DrawCard(LVar4 - LVar5);\n  end\nend\nif (arg0 == 0) then begin\n  player_1_card := LVar1;\n  player_2_card := LVar2;\n  player_3_card := LVar3;\n  player_hand_total := TotalCards(LVar1, LVar2, LVar3);\nend\nelse begin\n  dealer_1_card := LVar1;\n  dealer_2_card := LVar2;\n  dealer_3_card := LVar3;\n  dealer_hand_total := TotalCards(LVar1, LVar2, LVar3);\nend\n","Node999":"[]","Node998":"set_local_var(0, 1);\n","PrintDrawCardMessages":"variable LVar5 := 0;\nvariable LVar6 := 0;\nLVar5 := message_str(70, 200 + (arg1 - (((((arg1 > ((13 * 1) - 13)) and (arg1 <= (13 * 1))) * 1) + (((arg1 > ((13 * 2) - 13)) and (arg1 <= (13 * 2))) * 2) + (((arg1 > ((13 * 3) - 13)) and (arg1 <= (13 * 3))) * 3) + (((arg1 > ((13 * 4) - 13)) and (arg1 <= (13 * 4))) * 4) - 1) * 13))) + message_str(70, 113) + message_str(70, 250 + ((((arg1 > ((13 * 1) - 13)) and (arg1 <= (13 * 1))) * 1) + (((arg1 > ((13 * 2) - 13)) and (arg1 <= (13 * 2))) * 2) + (((arg1 > ((13 * 3) - 13)) and (arg1 <= (13 * 3))) * 3) + (((arg1 > ((13 * 4) - 13)) and (arg1 <= (13 * 4))) * 4)));\nif (arg3 == 0) then begin\n  LVar6 := arg2;\nend\nelse begin\n  LVar5 := LVar5 + (message_str(70, 114) + message_str(70, 200 + (arg2 - (((((arg2 > ((13 * 1) - 13)) and (arg2 <= (13 * 1))) * 1) + (((arg2 > ((13 * 2) - 13)) and (arg2 <= (13 * 2))) * 2) + (((arg2 > ((13 * 3) - 13)) and (arg2 <= (13 * 3))) * 3) + (((arg2 > ((13 * 4) - 13)) and (arg2 <= (13 * 4))) * 4) - 1) * 13))) + message_str(70, 113) + message_str(70, 250 + ((((arg2 > ((13 * 1) - 13)) and (arg2 <= (13 * 1))) * 1) + (((arg2 > ((13 * 2) - 13)) and (arg2 <= (13 * 2))) * 2) + (((arg2 > ((13 * 3) - 13)) and (arg2 <= (13 * 3))) * 3) + (((arg2 > ((13 * 4) - 13)) and (arg2 <= (13 * 4))) * 4))));\n  LVar6 := arg3;\nend\nLVar5 := LVar5 + (message_str(70, 115) + message_str(70, 200 + (LVar6 - (((((LVar6 > ((13 * 1) - 13)) and (LVar6 <= (13 * 1))) * 1) + (((LVar6 > ((13 * 2) - 13)) and (LVar6 <= (13 * 2))) * 2) + (((LVar6 > ((13 * 3) - 13)) and (LVar6 <= (13 * 3))) * 3) + (((LVar6 > ((13 * 4) - 13)) and (LVar6 <= (13 * 4))) * 4) - 1) * 13))) + message_str(70, 113) + message_str(70, 250 + ((((LVar6 > ((13 * 1) - 13)) and (LVar6 <= (13 * 1))) * 1) + (((LVar6 > ((13 * 2) - 13)) and (LVar6 <= (13 * 2))) * 2) + (((LVar6 > ((13 * 3) - 13)) and (LVar6 <= (13 * 3))) * 3) + (((LVar6 > ((13 * 4) - 13)) and (LVar6 <= (13 * 4))) * 4))) + message_str(70, 116) + arg4);\nif ((arg4 == 21) and (arg3 == 0)) then begin\n  LVar5 := LVar5 + message_str(70, 117);\nend\nelse begin\n  if (arg4 > 21) then begin\n    LVar5 := LVar5 + message_str(70, 118);\n  end\nend\nLVar5 := LVar5 + message_str(70, 119);\nif (arg0 == 0) then begin\n  LVar5 := message_str(70, 112) + LVar5;\nend\nelse begin\n  LVar5 := message_str(70, 120) + LVar5;\nend\nreturn LVar5;\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>