<!DOCTYPE html><html><head><title>RNDCITY</title><meta charset="utf-8" /></head><body><svg width="1857pt" height="308pt"
 viewBox="0.00 0.00 1856.59 308.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 304.5)">
<title>RNDCITY</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-304.5 1852.59,-304.5 1852.59,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1278.59" cy="-282.5" rx="27" ry="18"/>
</g>
<!-- City1 -->
<g id="node2" class="node">
<title>City1</title>
<ellipse fill="#ffffff" stroke="#000000" cx="138.59" cy="-186.25" rx="138.59" ry="30.05"/>
<text text-anchor="middle" x="138.59" y="-190.2" font-family="Times,serif" font-size="14.00">You have stumbled into a</text>
<text text-anchor="middle" x="138.59" y="-172.95" font-family="Times,serif" font-size="14.00">super mutant ambush!</text>
</g>
<!-- start&#45;&gt;City1 -->
<g id="edge1" class="edge">
<title>start&#45;&gt;City1</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1251.64,-280.86C1113.12,-277.43 480.19,-260.26 286.59,-228.5 266.31,-225.17 244.82,-220.11 224.7,-214.66"/>
<polygon fill="#555555" stroke="#555555" points="225.89,-211.08 215.31,-211.78 224.02,-217.82 225.89,-211.08"/>
</g>
<!-- City2 -->
<g id="node3" class="node">
<title>City2</title>
<ellipse fill="#ffffff" stroke="#000000" cx="440.59" cy="-186.25" rx="144.96" ry="30.05"/>
<text text-anchor="middle" x="440.59" y="-190.2" font-family="Times,serif" font-size="14.00">Looks like you&#39;ve</text>
<text text-anchor="middle" x="440.59" y="-172.95" font-family="Times,serif" font-size="14.00">stumbled into a gang war!</text>
</g>
<!-- start&#45;&gt;City2 -->
<g id="edge2" class="edge">
<title>start&#45;&gt;City2</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1251.33,-281.19C1158.62,-279.74 847.29,-271.75 594.59,-228.5 573.82,-224.94 551.78,-219.85 531.07,-214.46"/>
<polygon fill="#555555" stroke="#555555" points="532.26,-210.89 521.7,-211.7 530.46,-217.65 532.26,-210.89"/>
</g>
<!-- City3 -->
<g id="node4" class="node">
<title>City3</title>
<ellipse fill="#ffffff" stroke="#000000" cx="718.59" cy="-186.25" rx="115.26" ry="30.05"/>
<text text-anchor="middle" x="718.59" y="-190.2" font-family="Times,serif" font-size="14.00">A group of hostile</text>
<text text-anchor="middle" x="718.59" y="-172.95" font-family="Times,serif" font-size="14.00">raiders bursts forth!</text>
</g>
<!-- start&#45;&gt;City3 -->
<g id="edge3" class="edge">
<title>start&#45;&gt;City3</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1251.55,-280.06C1182.72,-276.01 995.61,-262.49 843.59,-228.5 827.4,-224.88 810.34,-219.99 794.21,-214.85"/>
<polygon fill="#555555" stroke="#555555" points="795.35,-211.22 784.76,-211.45 793.18,-217.88 795.35,-211.22"/>
</g>
<!-- City4 -->
<g id="node5" class="node">
<title>City4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="996.59" cy="-186.25" rx="144.43" ry="42.25"/>
<text text-anchor="middle" x="996.59" y="-198.82" font-family="Times,serif" font-size="14.00">A large group of rats</text>
<text text-anchor="middle" x="996.59" y="-181.57" font-family="Times,serif" font-size="14.00">comes scurrying down the</text>
<text text-anchor="middle" x="996.59" y="-164.32" font-family="Times,serif" font-size="14.00">streets!</text>
</g>
<!-- start&#45;&gt;City4 -->
<g id="edge4" class="edge">
<title>start&#45;&gt;City4</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1255.03,-273.63C1221.26,-262.34 1156.98,-240.85 1100.98,-222.14"/>
<polygon fill="#555555" stroke="#555555" points="1102.22,-218.53 1091.62,-218.68 1100,-225.17 1102.22,-218.53"/>
</g>
<!-- City5 -->
<g id="node6" class="node">
<title>City5</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1278.59" cy="-186.25" rx="120.03" ry="30.05"/>
<text text-anchor="middle" x="1278.59" y="-190.2" font-family="Times,serif" font-size="14.00">A group of hostile</text>
<text text-anchor="middle" x="1278.59" y="-172.95" font-family="Times,serif" font-size="14.00">gangers bursts forth!</text>
</g>
<!-- start&#45;&gt;City5 -->
<g id="edge5" class="edge">
<title>start&#45;&gt;City5</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1278.59,-264.21C1278.59,-253.94 1278.59,-240.45 1278.59,-227.63"/>
<polygon fill="#555555" stroke="#555555" points="1282.09,-227.65 1278.59,-217.65 1275.09,-227.65 1282.09,-227.65"/>
</g>
<!-- City6 -->
<g id="node7" class="node">
<title>City6</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1560.59" cy="-186.25" rx="144.43" ry="30.05"/>
<text text-anchor="middle" x="1560.59" y="-190.2" font-family="Times,serif" font-size="14.00">You are suddenly attacked</text>
<text text-anchor="middle" x="1560.59" y="-172.95" font-family="Times,serif" font-size="14.00">by rats!</text>
</g>
<!-- start&#45;&gt;City6 -->
<g id="edge6" class="edge">
<title>start&#45;&gt;City6</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1299.7,-270.94C1304.54,-268.69 1309.7,-266.41 1314.59,-264.5 1363.43,-245.4 1419.08,-227.61 1465.08,-213.92"/>
<polygon fill="#555555" stroke="#555555" points="1465.75,-217.08 1474.35,-210.89 1463.77,-210.37 1465.75,-217.08"/>
</g>
<!-- hunters -->
<g id="node8" class="node">
<title>hunters</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1749.59" cy="-186.25" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;hunters -->
<g id="edge7" class="edge">
<title>start&#45;&gt;hunters</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1299.06,-270.32C1304.02,-268.05 1309.39,-265.91 1314.59,-264.5 1486.4,-217.77 1554.98,-309.39 1713.59,-228.5 1721.16,-224.64 1727.83,-218.45 1733.31,-212.02"/>
<polygon fill="#555555" stroke="#555555" points="1736.69,-214.37 1740.01,-204.31 1731.14,-210.1 1736.69,-214.37"/>
</g>
<!-- Lighting -->
<g id="node9" class="node">
<title>Lighting</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1821.59" cy="-186.25" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge8" class="edge">
<title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1295.2,-268.07C1298.57,-266.67 1302.12,-265.42 1305.59,-264.5 1407.07,-237.64 1682.76,-275.55 1776.59,-228.5 1785.14,-224.21 1792.53,-216.92 1798.9,-209.65"/>
<polygon fill="#555555" stroke="#555555" points="1802.16,-212.22 1805.92,-202.31 1796.8,-207.71 1802.16,-212.22"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge9" class="edge">
<title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1301.87,-272.94C1308.84,-269.73 1316.38,-266.41 1323.59,-264.5 1425.07,-237.64 1700.76,-275.55 1794.59,-228.5 1801.67,-224.95 1807.96,-219.34 1812.9,-213.39"/>
<polygon fill="#555555" stroke="#555555" points="1816.19,-215.81 1819.13,-205.63 1810.48,-211.75 1816.19,-215.81"/>
</g>
<!-- stranger -->
<g id="node10" class="node">
<title>stranger</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1051.59" cy="-90" rx="27" ry="18"/>
</g>
<!-- City1&#45;&gt;stranger -->
<g id="edge18" class="edge">
<title>City1&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M215.12,-160.74C237.9,-154.31 263.07,-148.05 286.59,-144 562.48,-96.5 901.28,-91.27 1013.5,-90.92"/>
<polygon fill="#555555" stroke="#555555" points="1013.26,-94.42 1023.25,-90.9 1013.25,-87.42 1013.26,-94.42"/>
</g>
<!-- Place_critter -->
<g id="node11" class="node">
<title>Place_critter</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1051.59" cy="-18" rx="27" ry="18"/>
</g>
<!-- City1&#45;&gt;Place_critter -->
<g id="edge16" class="edge">
<title>City1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M212.84,-160.42C233.65,-154.57 256.37,-148.69 277.59,-144 557.72,-82.13 901.79,-36.62 1014.25,-23.13"/>
<polygon fill="#555555" stroke="#555555" points="1014.49,-26.51 1024.01,-21.85 1013.66,-19.56 1014.49,-26.51"/>
</g>
<!-- City1&#45;&gt;Place_critter -->
<g id="edge17" class="edge">
<title>City1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M223.62,-162.24C246.9,-155.81 272.15,-149.18 295.59,-144 569.1,-83.59 903.54,-38.78 1014.21,-24.14"/>
<polygon fill="#555555" stroke="#555555" points="1014.65,-27.48 1024.11,-22.7 1013.73,-20.54 1014.65,-27.48"/>
</g>
<!-- City2&#45;&gt;stranger -->
<g id="edge21" class="edge">
<title>City2&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M522,-161.06C545.29,-154.8 570.8,-148.54 594.59,-144 748.64,-114.6 935.21,-99.12 1013.8,-93.5"/>
<polygon fill="#555555" stroke="#555555" points="1013.87,-96.94 1023.6,-92.75 1013.38,-89.95 1013.87,-96.94"/>
</g>
<!-- City2&#45;&gt;Place_critter -->
<g id="edge19" class="edge">
<title>City2&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M523.87,-161.25C659.08,-123.67 920.64,-52.65 1015.89,-27.83"/>
<polygon fill="#555555" stroke="#555555" points="1016.6,-31 1025.4,-25.11 1014.84,-24.23 1016.6,-31"/>
</g>
<!-- City2&#45;&gt;Place_critter -->
<g id="edge20" class="edge">
<title>City2&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M530.07,-162.22C667.28,-125.68 923.41,-55.87 1016.62,-29.47"/>
<polygon fill="#555555" stroke="#555555" points="1017.5,-32.57 1026.16,-26.47 1015.59,-25.84 1017.5,-32.57"/>
</g>
<!-- City3&#45;&gt;stranger -->
<g id="edge24" class="edge">
<title>City3&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M787.1,-161.7C805.37,-155.67 825.17,-149.38 843.59,-144 903.39,-126.54 973.79,-109.28 1015.44,-99.41"/>
<polygon fill="#555555" stroke="#555555" points="1016.22,-102.59 1025.14,-96.88 1014.61,-95.77 1016.22,-102.59"/>
</g>
<!-- City3&#45;&gt;Place_critter -->
<g id="edge22" class="edge">
<title>City3&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M766.98,-158.54C835.93,-122.86 960.34,-60.94 1019.21,-33.18"/>
<polygon fill="#555555" stroke="#555555" points="1020.51,-35.97 1028.08,-28.56 1017.54,-29.63 1020.51,-35.97"/>
</g>
<!-- City3&#45;&gt;Place_critter -->
<g id="edge23" class="edge">
<title>City3&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M774.93,-159.64C846.49,-125.17 967.12,-64.82 1022.44,-35.68"/>
<polygon fill="#555555" stroke="#555555" points="1023.79,-38.39 1030.99,-30.61 1020.51,-32.21 1023.79,-38.39"/>
</g>
<!-- City4&#45;&gt;stranger -->
<g id="edge26" class="edge">
<title>City4&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1020.56,-144.18C1026.05,-134.77 1031.73,-125.03 1036.71,-116.5"/>
<polygon fill="#555555" stroke="#555555" points="1040.16,-118.53 1042.18,-108.13 1034.12,-115 1040.16,-118.53"/>
</g>
<!-- City4&#45;&gt;Place_critter -->
<g id="edge25" class="edge">
<title>City4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M999.26,-143.74C1001.72,-121.79 1006.46,-94.76 1015.59,-72 1019.67,-61.84 1025.93,-51.66 1032.09,-42.98"/>
<polygon fill="#555555" stroke="#555555" points="1035.46,-45.32 1038.64,-35.21 1029.85,-41.13 1035.46,-45.32"/>
</g>
<!-- City5&#45;&gt;stranger -->
<g id="edge29" class="edge">
<title>City5&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1217.76,-159.99C1174.8,-142.15 1118.89,-118.94 1084.13,-104.51"/>
<polygon fill="#555555" stroke="#555555" points="1085.63,-100.93 1075.06,-100.33 1082.95,-107.39 1085.63,-100.93"/>
</g>
<!-- City5&#45;&gt;Place_critter -->
<g id="edge27" class="edge">
<title>City5&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1235.94,-157.8C1188.44,-124.67 1113.57,-69.71 1075.41,-39.86"/>
<polygon fill="#555555" stroke="#555555" points="1077.99,-36.64 1067.98,-33.18 1073.65,-42.13 1077.99,-36.64"/>
</g>
<!-- City5&#45;&gt;Place_critter -->
<g id="edge28" class="edge">
<title>City5&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1245.3,-157.05C1200.67,-122.68 1122.52,-65.65 1080.32,-36.84"/>
<polygon fill="#555555" stroke="#555555" points="1082.64,-33.5 1072.39,-30.8 1078.72,-39.3 1082.64,-33.5"/>
</g>
<!-- City6&#45;&gt;stranger -->
<g id="edge31" class="edge">
<title>City6&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1478.43,-161.23C1455.62,-155.07 1430.75,-148.83 1407.59,-144 1292.47,-120 1154.21,-102.64 1089.05,-95.13"/>
<polygon fill="#555555" stroke="#555555" points="1089.46,-91.54 1079.13,-93.89 1088.67,-98.5 1089.46,-91.54"/>
</g>
<!-- City6&#45;&gt;Place_critter -->
<g id="edge30" class="edge">
<title>City6&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1484.39,-160.36C1372.12,-123.69 1166.82,-56.64 1085.79,-30.17"/>
<polygon fill="#555555" stroke="#555555" points="1087.24,-26.63 1076.64,-26.86 1085.06,-33.29 1087.24,-26.63"/>
</g>
<!-- hunters&#45;&gt;stranger -->
<g id="edge15" class="edge">
<title>hunters&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1740.04,-169.15C1733.74,-160.11 1724.63,-149.56 1713.59,-144 1657.81,-115.9 1222.18,-97.4 1089.69,-92.38"/>
<polygon fill="#555555" stroke="#555555" points="1090.02,-88.85 1079.9,-91.97 1089.76,-95.85 1090.02,-88.85"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge11" class="edge">
<title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1725.79,-177.13C1711.89,-167.58 1700.62,-152.03 1686.59,-144 1581.01,-83.55 1209.84,-38.8 1088.97,-24.15"/>
<polygon fill="#555555" stroke="#555555" points="1089.42,-20.56 1079.07,-22.83 1088.57,-27.51 1089.42,-20.56"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge12" class="edge">
<title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1733.7,-171.59C1725.83,-162.33 1716.14,-150.61 1704.59,-144 1596.69,-82.23 1211.4,-36.84 1089.05,-23.23"/>
<polygon fill="#555555" stroke="#555555" points="1089.7,-19.67 1079.38,-22.05 1088.93,-26.63 1089.7,-19.67"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge13" class="edge">
<title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1746.63,-167.91C1741.3,-159.4 1732.66,-149.76 1722.59,-144 1612.6,-81.03 1214.35,-35.09 1089.31,-22.48"/>
<polygon fill="#555555" stroke="#555555" points="1089.72,-18.9 1079.42,-21.39 1089.02,-25.86 1089.72,-18.9"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge14" class="edge">
<title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1763.52,-170.39C1760.99,-161.33 1751.65,-150.33 1740.59,-144 1628.64,-79.91 1218.08,-33.46 1089.38,-21.83"/>
<polygon fill="#555555" stroke="#555555" points="1089.78,-18.27 1079.52,-20.88 1089.17,-25.24 1089.78,-18.27"/>
</g>
<!-- stranger&#45;&gt;Place_critter -->
<g id="edge10" class="edge">
<title>stranger&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1051.59,-71.7C1051.59,-64.24 1051.59,-55.32 1051.59,-46.97"/>
<polygon fill="#555555" stroke="#555555" points="1055.09,-47.1 1051.59,-37.1 1048.09,-47.1 1055.09,-47.1"/>
</g>
<!-- add_party -->
<g id="node12" class="node">
<title>add_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1350.59" cy="-282.5" rx="27" ry="18"/>
</g>
<!-- update_party -->
<g id="node13" class="node">
<title>update_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1422.59" cy="-282.5" rx="27" ry="18"/>
</g>
<!-- remove_party -->
<g id="node14" class="node">
<title>remove_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1494.59" cy="-282.5" rx="27" ry="18"/>
</g>
<!-- Darkness -->
<g id="node15" class="node">
<title>Darkness</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1566.59" cy="-282.5" rx="27" ry="18"/>
</g>
<!-- Invasion -->
<g id="node16" class="node">
<title>Invasion</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1638.59" cy="-282.5" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 15) then begin\n  if (metarule(14, 0)) then begin\n    dude_pos := random(0, 2);\n    dude_rot := random(0, 5);\n    if (dude_pos == 0) then begin\n      override_map_start(100, 100, 0, dude_rot);\n    end\n    else begin\n      if (dude_pos == 1) then begin\n        override_map_start(116, 83, 0, dude_rot);\n      end\n      else begin\n        override_map_start(92, 110, 0, dude_rot);\n      end\n    end\n  end\n  if ((global_var(32) != 1) and metarule(14, 0)) then begin\n    Dude_tile := tile_num(dude_obj);\n    Ranger_rerolls := has_trait(0, dude_obj, 47);\n    set_global_var(334, 0);\n    while(Encounter_Num == 0) do begin\n      Encounter_Num := random(1, 6) + random(1, 6) + random(1, 6);\n      if (get_critter_stat(dude_obj, 6) > 8) then begin\n        Encounter_Num := Encounter_Num + 2;\n      end\n      else begin\n        if (get_critter_stat(dude_obj, 6) > 7) then begin\n          Encounter_Num := Encounter_Num + 1;\n        end\n        else begin\n          if (get_critter_stat(dude_obj, 6) < 3) then begin\n            Encounter_Num := Encounter_Num - 1;\n          end\n        end\n      end\n      if ((global_var(123) != 3) and (global_var(158) > 2) and random(0, 1)) then begin\n        Encounter_Num := 7;\n      end\n      else begin\n        if (Encounter_Num <= 3) then begin\n          Encounter_Num := 1;\n        end\n        else begin\n          if (Encounter_Num <= 5) then begin\n            Encounter_Num := 2;\n          end\n          else begin\n            if (Encounter_Num <= 8) then begin\n              Encounter_Num := 3;\n            end\n            else begin\n              if (Encounter_Num <= 12) then begin\n                Encounter_Num := 4;\n              end\n              else begin\n                if (Encounter_Num <= 15) then begin\n                  Encounter_Num := 5;\n                end\n                else begin\n                  Encounter_Num := 6;\n                end\n              end\n            end\n          end\n        end\n      end\n      if (Ranger_rerolls) then begin\n        if ((Encounter_Num == 1) or (Encounter_Num == 2) or (Encounter_Num == 3) or (Encounter_Num == 3) or (Encounter_Num == 5) or (Encounter_Num == 7)) then begin\n          Encounter_Num := 0;\n        end\n        Ranger_rerolls := Ranger_rerolls - 1;\n      end\n    end\n    if (global_var(295)) then begin\n      Encounter_Num := global_var(295);\n      set_global_var(295, 0);\n      display_msg(\"City encounter type: \" + Encounter_Num);\n    end\n    if (Encounter_Num == 1) then begin\n      call City1;\n    end\n    else begin\n      if (Encounter_Num == 2) then begin\n        call City2;\n      end\n      else begin\n        if (Encounter_Num == 3) then begin\n          call City3;\n        end\n        else begin\n          if (Encounter_Num == 4) then begin\n            call City4;\n          end\n          else begin\n            if (Encounter_Num == 5) then begin\n              call City5;\n            end\n            else begin\n              if (Encounter_Num == 6) then begin\n                call City6;\n              end\n              else begin\n                call hunters;\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  call Lighting;\nend\nelse begin\n  if (script_action == 23) then begin\n    call Lighting;\n  end\nend\n","stranger":"if (has_trait(0, dude_obj, 46) and (global_var(601) == 0) and random(0, 1)) then begin\n  Critter_type := 16777520;\n  Critter_script := 856;\n  Critter_direction := random(0, 5);\n  Outer_ring := 7;\n  Inner_ring := 4;\n  call Place_critter;\n  Critter_direction := dude_rot + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  anim(Critter, 1000, Critter_direction);\n  Item := create_object_sid(40, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 2);\n  Item := create_object_sid(25, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := create_object_sid(21, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := item_caps_adjust(Critter, random(7, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  set_global_var(288, 23);\nend\n","Lighting":"variable LVar0 := 0;\nLVar0 := game_time_hour;\nif ((LVar0 >= 600) and (LVar0 < 700)) then begin\n  set_light_level(LVar0 - 600 + 40);\nend\nelse begin\n  if ((LVar0 >= 700) and (LVar0 < 1800)) then begin\n    set_light_level(100);\n  end\n  else begin\n    if ((LVar0 >= 1800) and (LVar0 < 1900)) then begin\n      set_light_level(100 - (LVar0 - 1800));\n    end\n    else begin\n      set_light_level(40);\n    end\n  end\nend\n","Place_critter":"variable LVar0 := 0;\nvariable LVar1 := 0;\nvariable LVar2 := 0;\nCritter := create_object_sid(Critter_type, 0, 0, Critter_script);\nLVar2 := random(Inner_ring, Outer_ring);\nLVar0 := random(0, 5);\nCritter_tile := tile_num_in_direction(Dude_tile, Critter_direction, LVar2);\nLVar1 := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nif ((tile_distance(Dude_tile, LVar1) <= Outer_ring) and (tile_distance(Dude_tile, LVar1) >= Inner_ring)) then begin\n  Critter_tile := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nend\ncritter_attempt_placement(Critter, Critter_tile, 0);\n","hunters":"Inner_ring := 8;\nOuter_ring := 5;\ngroup_angle := random(0, 5);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777349;\nCritter_script := 241;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(23, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(36, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 4 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(17, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nItem := create_object_sid(144, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777467;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(7, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777472;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(143, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(34, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 3 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(14, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 40) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777462;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(18, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(31, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\ncall stranger;\n","City1":"display_msg(message_str(244, 100));\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 8;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nTot_Critter_A := random(2, 3);\ngroup_angle := random(0, 5);\nCritter_type := 16777403;\nCritter_script := 850;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 2 * 2) - 2);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  if (random(0, 2) == 0) then begin\n    if (random(0, 1) == 1) then begin\n      Item := create_object_sid(11, 0, 0, -1);\n    end\n    else begin\n      Item := create_object_sid(12, 0, 0, -1);\n    end\n  end\n  else begin\n    Item := create_object_sid(234, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  Item := create_object_sid(40, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 1);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(5, 20) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Item := create_object_sid(35, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 1 + has_trait(0, dude_obj, 40));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nif (random(0, 2) == 0) then begin\n  Critter_direction := random(0, 5);\n  Critter_script := 854;\n  Critter_type := 16777241;\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Item := create_object_sid(12, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := item_caps_adjust(Critter, random(5, 20) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\ncall stranger;\n","City2":"variable LVar0 := 0;\ndisplay_msg(message_str(244, 101));\ngroup_angle := random(0, 5);\nif ((game_time_hour >= 1900) or (game_time_hour < 600)) then begin\n  Critter := create_object_sid(33554433, 0, 0, -1);\n  Critter_tile := tile_num_in_direction(Dude_tile, group_angle, 4);\n  critter_attempt_placement(Critter, Critter_tile, 0);\n  Critter := create_object_sid(33554433, 0, 0, -1);\n  if (group_angle == 0) then begin\n    Item := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Item := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Item := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Item := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Item := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Item := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  Critter_tile := tile_num_in_direction(Dude_tile, Item, 4);\n  critter_attempt_placement(Critter, Critter_tile, 0);\nend\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 6;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nTot_Critter_A := random(3, 6);\nTot_Critter_B := random(3, 5);\nCritter_type := 16777419;\nCritter_script := 749;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  LVar0 := random(0, 2);\n  if (LVar0 == 0) then begin\n    Item := create_object_sid(18, 0, 0, -1);\n  end\n  else begin\n    if (LVar0 == 1) then begin\n      Item := create_object_sid(21, 0, 0, -1);\n    end\n    else begin\n      Item := create_object_sid(8, 0, 0, -1);\n    end\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(5, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nvictim := Critter;\nCritter_type := 16777472;\nCritter_script := 751;\nif (group_angle == 0) then begin\n  group_angle := 3;\nend\nelse begin\n  if (group_angle == 1) then begin\n    group_angle := 4;\n  end\n  else begin\n    if (group_angle == 2) then begin\n      group_angle := 5;\n    end\n    else begin\n      if (group_angle == 3) then begin\n        group_angle := 0;\n      end\n      else begin\n        if (group_angle == 4) then begin\n          group_angle := 1;\n        end\n        else begin\n          if (group_angle == 5) then begin\n            group_angle := 2;\n          end\n        end\n      end\n    end\n  end\nend\nwhile(Tot_Critter_B) do begin\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  if (random(0, 1)) then begin\n    Item := create_object_sid(4, 0, 0, -1);\n  end\n  else begin\n    Item := create_object_sid(7, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(4, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_B := Tot_Critter_B - 1;\nend\nattack_setup(Critter, victim);\ncall stranger;\n","City3":"display_msg(message_str(244, 102));\nTot_Critter_A := random(2, 4);\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 3;\ngroup_angle := random(0, 5);\nCritter_type := 16777419;\nCritter_script := 749;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + random(0, 2 * 2) - 2;\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (Critter_direction == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (Critter_direction == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (Critter_direction == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (Critter_direction == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (Critter_direction == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (Critter_direction == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  if (random(0, 1)) then begin\n    Item := create_object_sid(8, 0, 0, -1);\n  end\n  else begin\n    Item := create_object_sid(9, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(4, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_direction := group_angle + random(0, 2 * 2) - 2;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nif (Critter_direction == 0) then begin\n  Critter_direction := 3;\nend\nelse begin\n  if (Critter_direction == 1) then begin\n    Critter_direction := 4;\n  end\n  else begin\n    if (Critter_direction == 2) then begin\n      Critter_direction := 5;\n    end\n    else begin\n      if (Critter_direction == 3) then begin\n        Critter_direction := 0;\n      end\n      else begin\n        if (Critter_direction == 4) then begin\n          Critter_direction := 1;\n        end\n        else begin\n          if (Critter_direction == 5) then begin\n            Critter_direction := 2;\n          end\n        end\n      end\n    end\n  end\nend\nanim(Critter, 1000, Critter_direction);\nItem := create_object_sid(47, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(18, 150) * (has_trait(0, dude_obj, 20) + 1));\nif (random(0, 1)) then begin\n  Item := create_object_sid(38, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  if (has_trait(0, dude_obj, 40)) then begin\n    Item := create_object_sid(38, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(6, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(31, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  if (has_trait(0, dude_obj, 40)) then begin\n    Item := create_object_sid(31, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(4, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","City4":"display_msg(message_str(244, 103));\nTot_Critter_A := random(5, 15);\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 4;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 1;\ngroup_angle := random(0, 5);\nItem := random(0, 1);\nCritter_type := 16777264;\nCritter_script := 222;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (Item) then begin\n    if (random(0, 1)) then begin\n      Critter_direction := 3;\n    end\n    else begin\n      Critter_direction := 4;\n    end\n    anim(Critter, 1000, Critter_direction);\n  end\n  else begin\n    if (random(0, 1)) then begin\n      Critter_direction := 1;\n    end\n    else begin\n      Critter_direction := 2;\n    end\n    anim(Critter, 1000, Critter_direction);\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","City5":"display_msg(message_str(244, 104));\nOuter_ring := (get_critter_stat(dude_obj, 1) / 2) + 6;\nInner_ring := (get_critter_stat(dude_obj, 1) / 2) + 2;\nTot_Critter_A := random(3, 5);\ngroup_angle := random(0, 5);\nCritter_type := 16777419;\nCritter_script := 749;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  if (random(0, 1)) then begin\n    Item := create_object_sid(8, 0, 0, -1);\n  end\n  else begin\n    Item := create_object_sid(10, 0, 0, -1);\n  end\n  add_obj_to_inven(Critter, Item);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(4, 25) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_type := 16777254;\nCritter_script := 749;\nCritter_direction := group_angle + random(0, 1 * 2) - 1;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(47, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(19, 135) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nif (random(0, 1)) then begin\n  Item := create_object_sid(38, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, has_trait(0, dude_obj, 40) + 1);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(6, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(31, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, has_trait(0, dude_obj, 40) + 1);\nend\nif (random(0, 1)) then begin\n  Item := create_object_sid(4, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","City6":"display_msg(message_str(244, 105));\nTot_Critter_A := random(3, 4);\nif ((game_time_hour >= 700) and (game_time_hour < 1800)) then begin\n  Outer_ring := 4;\n  Inner_ring := 2;\nend\nelse begin\n  Outer_ring := 3;\n  Inner_ring := 2;\nend\nCritter_type := 16777264;\nCritter_script := 222;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := random(0, 5);\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nif (start_attack == 0) then begin\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\nstart_attack := 1;\ncall stranger;\n","add_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nparty_elevation := elevation(dude_obj);\nif (global_var(26) == 5) then begin\n  if (Tandi_ptr == 0) then begin\n  end\n  critter_add_trait(Tandi_ptr, 1, 6, 0);\nend\n","update_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nif (elevation(dude_obj) != party_elevation) then begin\n  party_elevation := elevation(dude_obj);\n  if (global_var(118) == 2) then begin\n    if (Ian_ptr == 0) then begin\n    end\n    else begin\n      move_to(Ian_ptr, tile_num_in_direction(tile_num(dude_obj), 1, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(5)) then begin\n    if (Dog_ptr == 0) then begin\n    end\n    else begin\n      move_to(Dog_ptr, tile_num_in_direction(tile_num(dude_obj), 2, 1), elevation(dude_obj));\n    end\n  end\n  if (global_var(121) == 2) then begin\n    if (Tycho_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tycho_ptr, tile_num_in_direction(tile_num(dude_obj), 3, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(244) == 2) then begin\n    if (Katja_ptr == 0) then begin\n    end\n    else begin\n      move_to(Katja_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(26) == 5) then begin\n    if (Tandi_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tandi_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 4), elevation(dude_obj));\n    end\n  end\nend\n","remove_party":"if (global_var(118) == 2) then begin\n  set_global_var(118, 2);\nend\nif (global_var(5)) then begin\n  set_global_var(5, 1);\nend\nif (global_var(121) == 2) then begin\n  set_global_var(121, 2);\nend\nif (global_var(244) == 2) then begin\n  set_global_var(244, 2);\nend\nif (global_var(26) == 5) then begin\nend\n","Darkness":"set_light_level(40);\n","Invasion":"if (not(global_var(18) == 2)) then begin\n  if (global_var(149) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(13, 1);\n  end\n  if (global_var(150) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(14, 1);\n  end\n  if (global_var(151) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(16, 1);\n  end\n  if (global_var(152) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(15, 1);\n  end\n  if (global_var(153) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(12, 1);\n  end\n  if (global_var(154) <= 0) then begin\n    set_global_var(11, 1);\n  end\n  if (global_var(148) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(7, 1);\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>