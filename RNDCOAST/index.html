<!DOCTYPE html><html><head><title>RNDCOAST</title><meta charset="utf-8" /></head><body><svg width="1250pt" height="363pt"
 viewBox="0.00 0.00 1250.00 362.59" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 358.593)">
<title>RNDCOAST</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-358.593 1246,-358.593 1246,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="791" cy="-336.593" rx="27" ry="18"/>
</g>
<!-- choose_start -->
<g id="node2" class="node"><title>choose_start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-213.296" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;choose_start -->
<g id="edge1" class="edge"><title>start&#45;&gt;choose_start</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M763.768,-335.159C638.662,-332.958 122.59,-321.565 63,-282.593 48.5085,-273.115 39.4751,-255.811 34.0816,-240.993"/>
<polygon fill="#555555" stroke="#555555" points="37.3349,-239.68 30.9068,-231.258 30.6799,-241.85 37.3349,-239.68"/>
</g>
<!-- Coast1 -->
<g id="node3" class="node"><title>Coast1</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-213.296" rx="98.9899" ry="69.0935"/>
<text text-anchor="middle" x="171" y="-247.096" font-family="Times,serif" font-size="14.00">You see several odd</text>
<text text-anchor="middle" x="171" y="-232.096" font-family="Times,serif" font-size="14.00">floating creatures...</text>
<text text-anchor="middle" x="171" y="-217.096" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="171" y="-202.096" font-family="Times,serif" font-size="14.00">There is a grisly dead</text>
<text text-anchor="middle" x="171" y="-187.096" font-family="Times,serif" font-size="14.00">corpse near by that&#39;s</text>
<text text-anchor="middle" x="171" y="-172.096" font-family="Times,serif" font-size="14.00">been partially eaten.</text>
</g>
<!-- start&#45;&gt;Coast1 -->
<g id="edge2" class="edge"><title>start&#45;&gt;Coast1</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M764.086,-334.43C671.998,-330.198 370.195,-314.188 279,-282.593 268.462,-278.942 257.897,-274.091 247.724,-268.652"/>
<polygon fill="#555555" stroke="#555555" points="249.334,-265.543 238.894,-263.737 245.929,-271.659 249.334,-265.543"/>
</g>
<!-- Coast2 -->
<g id="node4" class="node"><title>Coast2</title>
<ellipse fill="#ffffff" stroke="#000000" cx="315" cy="-213.296" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;Coast2 -->
<g id="edge3" class="edge"><title>start&#45;&gt;Coast2</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M763.942,-335.544C678.888,-334.904 418.58,-329.104 351,-282.593 336.826,-272.838 327.815,-255.692 322.352,-241.021"/>
<polygon fill="#555555" stroke="#555555" points="325.617,-239.748 319.118,-231.381 318.981,-241.975 325.617,-239.748"/>
</g>
<!-- Coast3 -->
<g id="node5" class="node"><title>Coast3</title>
<ellipse fill="#ffffff" stroke="#000000" cx="476" cy="-213.296" rx="115.931" ry="26.7407"/>
<text text-anchor="middle" x="476" y="-217.096" font-family="Times,serif" font-size="14.00">You see a small swarm of</text>
<text text-anchor="middle" x="476" y="-202.096" font-family="Times,serif" font-size="14.00">rats rapidly approaching.</text>
</g>
<!-- start&#45;&gt;Coast3 -->
<g id="edge4" class="edge"><title>start&#45;&gt;Coast3</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M765.496,-330.424C728.447,-322.483 657.947,-305.738 601,-282.593 574.607,-271.866 546.653,-256.962 523.889,-243.813"/>
<polygon fill="#555555" stroke="#555555" points="525.513,-240.709 515.114,-238.684 521.981,-246.752 525.513,-240.709"/>
</g>
<!-- Coast4 -->
<g id="node6" class="node"><title>Coast4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="716" cy="-213.296" rx="106.132" ry="37.4533"/>
<text text-anchor="middle" x="716" y="-224.596" font-family="Times,serif" font-size="14.00">You see a group of</text>
<text text-anchor="middle" x="716" y="-209.596" font-family="Times,serif" font-size="14.00">peasants being attacked</text>
<text text-anchor="middle" x="716" y="-194.596" font-family="Times,serif" font-size="14.00">by raiders!</text>
</g>
<!-- start&#45;&gt;Coast4 -->
<g id="edge5" class="edge"><title>start&#45;&gt;Coast4</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M781.195,-319.736C771.633,-304.271 756.643,-280.028 743.446,-258.685"/>
<polygon fill="#555555" stroke="#555555" points="746.349,-256.724 738.113,-250.059 740.395,-260.405 746.349,-256.724"/>
</g>
<!-- Coast5 -->
<g id="node7" class="node"><title>Coast5</title>
<ellipse fill="#ffffff" stroke="#000000" cx="867" cy="-213.296" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;Coast5 -->
<g id="edge6" class="edge"><title>start&#45;&gt;Coast5</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M803.587,-320.298C811.831,-309.958 822.595,-295.827 831,-282.593 839.646,-268.978 848.118,-253.074 854.669,-240.039"/>
<polygon fill="#555555" stroke="#555555" points="857.983,-241.233 859.275,-230.717 851.707,-238.132 857.983,-241.233"/>
</g>
<!-- Coast6 -->
<g id="node8" class="node"><title>Coast6</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1077" cy="-213.296" rx="92.7622" ry="26.7407"/>
<text text-anchor="middle" x="1077" y="-217.096" font-family="Times,serif" font-size="14.00">You see a couple of</text>
<text text-anchor="middle" x="1077" y="-202.096" font-family="Times,serif" font-size="14.00">people out fishing.</text>
</g>
<!-- start&#45;&gt;Coast6 -->
<g id="edge7" class="edge"><title>start&#45;&gt;Coast6</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M811.638,-324.973C816.59,-322.671 821.917,-320.39 827,-318.593 890.823,-296.024 913.032,-309.844 975,-282.593 997.331,-272.773 1020.09,-258.079 1038.42,-244.835"/>
<polygon fill="#555555" stroke="#555555" points="1040.54,-247.621 1046.51,-238.874 1036.39,-241.985 1040.54,-247.621"/>
</g>
<!-- hunters -->
<g id="node9" class="node"><title>hunters</title>
<ellipse fill="#ffffff" stroke="#000000" cx="939" cy="-213.296" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;hunters -->
<g id="edge8" class="edge"><title>start&#45;&gt;hunters</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M812.542,-325.425C845.015,-310.093 902.777,-282.807 903,-282.593 915.073,-271.029 923.928,-254.522 929.834,-240.632"/>
<polygon fill="#555555" stroke="#555555" points="933.185,-241.676 933.617,-231.09 926.678,-239.096 933.185,-241.676"/>
</g>
<!-- Lighting -->
<g id="node10" class="node"><title>Lighting</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1215" cy="-213.296" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge9" class="edge"><title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M807.627,-322.249C810.996,-320.831 814.538,-319.557 818,-318.593 893.749,-297.502 1104.83,-326.588 1170,-282.593 1184.85,-272.565 1194.01,-254.381 1200.65,-239.296"/>
<polygon fill="#555555" stroke="#555555" points="1203.94,-240.516 1204.69,-229.948 1197.51,-237.741 1203.94,-240.516"/>
</g>
<!-- start&#45;&gt;Lighting -->
<g id="edge10" class="edge"><title>start&#45;&gt;Lighting</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M814.298,-327.125C821.278,-323.934 828.809,-320.595 836,-318.593 911.749,-297.502 1122.83,-326.588 1188,-282.593 1202.12,-273.058 1211.1,-256.148 1215.45,-241.541"/>
<polygon fill="#555555" stroke="#555555" points="1218.94,-241.984 1217.81,-231.45 1212.13,-240.39 1218.94,-241.984"/>
</g>
<!-- stranger -->
<g id="node11" class="node"><title>stranger</title>
<ellipse fill="#ffffff" stroke="#000000" cx="634" cy="-90" rx="27" ry="18"/>
</g>
<!-- Coast1&#45;&gt;stranger -->
<g id="edge20" class="edge"><title>Coast1&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M239.668,-163.023C252.289,-155.692 265.692,-148.949 279,-144 389.377,-102.952 530.247,-93.6253 596.441,-91.5555"/>
<polygon fill="#555555" stroke="#555555" points="596.883,-95.0448 606.784,-91.273 596.692,-88.0474 596.883,-95.0448"/>
</g>
<!-- Place_critter -->
<g id="node12" class="node"><title>Place_critter</title>
<ellipse fill="#ffffff" stroke="#000000" cx="716" cy="-18" rx="27" ry="18"/>
</g>
<!-- Coast1&#45;&gt;Place_critter -->
<g id="edge17" class="edge"><title>Coast1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M234.957,-160.293C243.668,-154.768 252.51,-149.252 261,-144 313.57,-111.479 322.03,-93.4655 380,-72 482.919,-33.8904 614.741,-23.0669 678.897,-20.088"/>
<polygon fill="#555555" stroke="#555555" points="679.124,-23.5816 688.966,-19.6601 678.827,-16.5879 679.124,-23.5816"/>
</g>
<!-- Coast1&#45;&gt;Place_critter -->
<g id="edge18" class="edge"><title>Coast1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M243.785,-165.994C255.535,-158.599 267.586,-151.061 279,-144 331.57,-111.479 340.03,-93.4655 398,-72 495.295,-35.9727 618.422,-24.3311 678.957,-20.6497"/>
<polygon fill="#555555" stroke="#555555" points="679.38,-24.1314 689.165,-20.0692 678.982,-17.1427 679.38,-24.1314"/>
</g>
<!-- Coast1&#45;&gt;Place_critter -->
<g id="edge19" class="edge"><title>Coast1&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M251.179,-172.361C266.51,-163 282.284,-153.103 297,-144 349.57,-111.479 358.03,-93.4655 416,-72 506.917,-38.3343 620.391,-25.9621 678.694,-21.4809"/>
<polygon fill="#555555" stroke="#555555" points="679.203,-24.9532 688.921,-20.7327 678.692,-17.9718 679.203,-24.9532"/>
</g>
<!-- Coast2&#45;&gt;stranger -->
<g id="edge22" class="edge"><title>Coast2&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M319.295,-195.459C324.237,-179.639 333.956,-156.569 351,-144 389.569,-115.558 529.123,-99.989 596.75,-93.9654"/>
<polygon fill="#555555" stroke="#555555" points="597.3,-97.4309 606.96,-93.0801 596.695,-90.4571 597.3,-97.4309"/>
</g>
<!-- Coast2&#45;&gt;Place_critter -->
<g id="edge21" class="edge"><title>Coast2&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M319.945,-195.432C325.27,-180.04 335.177,-157.669 351,-144 449.111,-59.2443 607.527,-31.1951 678.964,-22.5547"/>
<polygon fill="#555555" stroke="#555555" points="679.723,-25.9907 689.258,-21.3725 678.924,-19.0364 679.723,-25.9907"/>
</g>
<!-- Coast3&#45;&gt;stranger -->
<g id="edge24" class="edge"><title>Coast3&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M508.355,-187.458C538.009,-164.692 581.323,-131.44 608.568,-110.524"/>
<polygon fill="#555555" stroke="#555555" points="611.011,-113.061 616.812,-104.195 606.748,-107.509 611.011,-113.061"/>
</g>
<!-- Coast3&#45;&gt;Place_critter -->
<g id="edge23" class="edge"><title>Coast3&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M493.137,-186.509C514.598,-155.843 553.941,-104.708 598,-72 623.674,-52.9402 657.292,-38.6869 682.074,-29.7894"/>
<polygon fill="#555555" stroke="#555555" points="683.475,-33.0081 691.771,-26.4183 681.176,-26.3963 683.475,-33.0081"/>
</g>
<!-- Coast4&#45;&gt;stranger -->
<g id="edge29" class="edge"><title>Coast4&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M691.841,-176.56C678.485,-156.803 662.242,-132.777 650.374,-115.221"/>
<polygon fill="#555555" stroke="#555555" points="653.105,-113.011 644.605,-106.687 647.306,-116.931 653.105,-113.011"/>
</g>
<!-- Coast4&#45;&gt;Place_critter -->
<g id="edge25" class="edge"><title>Coast4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M699.766,-175.939C693.824,-137.65 694.476,-78.3423 701.721,-44.6648"/>
<polygon fill="#555555" stroke="#555555" points="705.185,-45.2485 704.305,-34.6903 698.409,-43.493 705.185,-45.2485"/>
</g>
<!-- Coast4&#45;&gt;Place_critter -->
<g id="edge26" class="edge"><title>Coast4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M710.565,-175.484C708.638,-137.727 708.829,-79.8832 711.139,-46.112"/>
<polygon fill="#555555" stroke="#555555" points="714.635,-46.3016 711.963,-36.0491 707.658,-45.7299 714.635,-46.3016"/>
</g>
<!-- Coast4&#45;&gt;Place_critter -->
<g id="edge27" class="edge"><title>Coast4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M721.435,-175.484C723.362,-137.727 723.171,-79.8832 720.861,-46.112"/>
<polygon fill="#555555" stroke="#555555" points="724.342,-45.7299 720.037,-36.0491 717.365,-46.3016 724.342,-45.7299"/>
</g>
<!-- Coast4&#45;&gt;Place_critter -->
<g id="edge28" class="edge"><title>Coast4&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M732.234,-175.939C738.176,-137.65 737.524,-78.3423 730.279,-44.6648"/>
<polygon fill="#555555" stroke="#555555" points="733.591,-43.493 727.695,-34.6903 726.815,-45.2485 733.591,-43.493"/>
</g>
<!-- Coast5&#45;&gt;stranger -->
<g id="edge31" class="edge"><title>Coast5&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M862.388,-195.449C857.254,-179.848 847.439,-157.138 831,-144 784.353,-106.72 713.702,-95.5562 670.897,-92.2787"/>
<polygon fill="#555555" stroke="#555555" points="671.115,-88.7856 660.906,-91.6187 670.653,-95.7704 671.115,-88.7856"/>
</g>
<!-- Coast5&#45;&gt;Place_critter -->
<g id="edge30" class="edge"><title>Coast5&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M859.818,-195.882C853.234,-181.603 842.745,-160.647 831,-144 802.928,-104.212 763.223,-63.7447 738.572,-40.0288"/>
<polygon fill="#555555" stroke="#555555" points="740.786,-37.3036 731.131,-32.9396 735.957,-42.3716 740.786,-37.3036"/>
</g>
<!-- hunters&#45;&gt;stranger -->
<g id="edge16" class="edge"><title>hunters&#45;&gt;stranger</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M934.679,-195.495C929.717,-179.7 919.985,-156.649 903,-144 866.656,-116.934 735.572,-100.811 670.779,-94.3252"/>
<polygon fill="#555555" stroke="#555555" points="670.894,-90.8199 660.601,-93.3314 670.214,-97.7868 670.894,-90.8199"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge12" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M917.471,-202.132C902.998,-187.943 891.743,-161.927 876,-144 834.961,-97.2669 772.606,-60.3007 737.845,-39.037"/>
<polygon fill="#555555" stroke="#555555" points="739.57,-35.9889 729.221,-33.7169 735.894,-41.9463 739.57,-35.9889"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge13" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M926.624,-197.208C918.544,-182.481 908.062,-160.013 894,-144 850.529,-94.4983 783.143,-55.9549 744.816,-35.4243"/>
<polygon fill="#555555" stroke="#555555" points="746.203,-32.1981 735.73,-30.5971 742.919,-38.3798 746.203,-32.1981"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge14" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M939.775,-195.219C935.614,-180.515 925.443,-159.308 912,-144 865.385,-90.917 791.268,-50.4353 748.621,-31.2539"/>
<polygon fill="#555555" stroke="#555555" points="749.821,-27.9587 739.256,-27.1633 747.019,-34.3735 749.821,-27.9587"/>
</g>
<!-- hunters&#45;&gt;Place_critter -->
<g id="edge15" class="edge"><title>hunters&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M953.956,-198.033C954.938,-183.331 944.328,-160.316 930,-144 880.34,-87.4504 799.47,-45.2017 751.005,-27.7708"/>
<polygon fill="#555555" stroke="#555555" points="752.065,-24.4345 741.471,-24.525 749.809,-31.061 752.065,-24.4345"/>
</g>
<!-- stranger&#45;&gt;Place_critter -->
<g id="edge11" class="edge"><title>stranger&#45;&gt;Place_critter</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M650.201,-75.1703C662.183,-64.9415 678.691,-50.8487 692.175,-39.3383"/>
<polygon fill="#555555" stroke="#555555" points="694.779,-41.7175 700.112,-32.5628 690.234,-36.3935 694.779,-41.7175"/>
</g>
<!-- add_party -->
<g id="node13" class="node"><title>add_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="863" cy="-336.593" rx="27" ry="18"/>
</g>
<!-- update_party -->
<g id="node14" class="node"><title>update_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="935" cy="-336.593" rx="27" ry="18"/>
</g>
<!-- remove_party -->
<g id="node15" class="node"><title>remove_party</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1007" cy="-336.593" rx="27" ry="18"/>
</g>
<!-- Darkness -->
<g id="node16" class="node"><title>Darkness</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1079" cy="-336.593" rx="27" ry="18"/>
</g>
<!-- Invasion -->
<g id="node17" class="node"><title>Invasion</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1151" cy="-336.593" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 15) then begin\n  dude_pos := random(0, 2);\n  dude_rot := random(0, 5);\n  if ((global_var(32) != 1) and metarule(14, 0)) then begin\n    Ranger_rerolls := has_trait(0, dude_obj, 47);\n    set_global_var(334, 0);\n    while(Encounter_Num == 0) do begin\n      Encounter_Num := random(1, 6) + random(1, 6) + random(1, 6);\n      if (get_critter_stat(dude_obj, 6) > 8) then begin\n        Encounter_Num := Encounter_Num + 2;\n      end\n      else begin\n        if (get_critter_stat(dude_obj, 6) > 7) then begin\n          Encounter_Num := Encounter_Num + 1;\n        end\n        else begin\n          if (get_critter_stat(dude_obj, 6) < 3) then begin\n            Encounter_Num := Encounter_Num - 1;\n          end\n        end\n      end\n      if ((global_var(123) != 3) and (global_var(158) > 2) and random(0, 1)) then begin\n        Encounter_Num := 7;\n      end\n      else begin\n        if (Encounter_Num <= 3) then begin\n          Encounter_Num := 1;\n        end\n        else begin\n          if (Encounter_Num <= 5) then begin\n            Encounter_Num := 2;\n          end\n          else begin\n            if (Encounter_Num <= 8) then begin\n              Encounter_Num := 3;\n            end\n            else begin\n              if (Encounter_Num <= 12) then begin\n                Encounter_Num := 4;\n              end\n              else begin\n                if (Encounter_Num <= 15) then begin\n                  Encounter_Num := 5;\n                end\n                else begin\n                  Encounter_Num := 6;\n                end\n              end\n            end\n          end\n        end\n      end\n      if (Ranger_rerolls) then begin\n        if ((Encounter_Num == 1) or (Encounter_Num == 2) or (Encounter_Num == 4) or (Encounter_Num == 5) or (Encounter_Num == 7)) then begin\n          Encounter_Num := 0;\n        end\n        Ranger_rerolls := Ranger_rerolls - 1;\n      end\n    end\n    if (global_var(295) > 0) then begin\n      Encounter_Num := global_var(295);\n      set_global_var(295, 0);\n      debug_msg(\"Coast encounter type: \" + Encounter_Num);\n    end\n    call choose_start;\n    Dude_tile := tile_num(dude_obj);\n    if (Encounter_Num == 1) then begin\n      call Coast1;\n    end\n    else begin\n      if (Encounter_Num == 2) then begin\n        call Coast2;\n      end\n      else begin\n        if (Encounter_Num == 3) then begin\n          call Coast3;\n        end\n        else begin\n          if (Encounter_Num == 4) then begin\n            call Coast4;\n          end\n          else begin\n            if (Encounter_Num == 5) then begin\n              call Coast5;\n            end\n            else begin\n              if (Encounter_Num == 6) then begin\n                call Coast6;\n              end\n              else begin\n                call hunters;\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  else begin\n    if (metarule(14, 0)) then begin\n      if (dude_pos == 0) then begin\n        override_map_start(92, 98, 0, dude_rot);\n      end\n      else begin\n        if (dude_pos == 1) then begin\n          override_map_start(95, 109, 0, dude_rot);\n        end\n        else begin\n          override_map_start(92, 101, 0, dude_rot);\n        end\n      end\n    end\n  end\n  call Lighting;\nend\nelse begin\n  if (script_action == 23) then begin\n    call Lighting;\n  end\nend\n","stranger":"if (has_trait(0, dude_obj, 46) and (global_var(601) == 0) and random(0, 1)) then begin\n  Critter_type := 16777520;\n  Critter_script := 856;\n  Critter_direction := random(0, 1);\n  Outer_ring := 7;\n  Inner_ring := 4;\n  call Place_critter;\n  Critter_direction := dude_rot + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  anim(Critter, 1000, Critter_direction);\n  Item := create_object_sid(40, 0, 0, -1);\n  add_mult_objs_to_inven(Critter, Item, 2);\n  Item := create_object_sid(116, 0, 0, -1);\n  add_obj_to_inven(Critter, Item);\n  Item := item_caps_adjust(Critter, random(7, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\n  set_global_var(288, 12);\nend\n","Lighting":"variable LVar0 := 0;\nLVar0 := game_time_hour;\nif ((LVar0 >= 600) and (LVar0 < 700)) then begin\n  set_light_level(LVar0 - 600 + 40);\nend\nelse begin\n  if ((LVar0 >= 700) and (LVar0 < 1800)) then begin\n    set_light_level(100);\n  end\n  else begin\n    if ((LVar0 >= 1800) and (LVar0 < 1900)) then begin\n      set_light_level(100 - (LVar0 - 1800));\n    end\n    else begin\n      set_light_level(40);\n    end\n  end\nend\n","Place_critter":"variable LVar0 := 0;\nvariable LVar1 := 0;\nvariable LVar2 := 0;\nCritter := create_object_sid(Critter_type, 0, 0, Critter_script);\nLVar2 := random(Inner_ring, Outer_ring);\nif (restrict_range) then begin\n  LVar0 := random(0, 2);\nend\nelse begin\n  LVar0 := random(0, 5);\nend\nCritter_tile := tile_num_in_direction(Dude_tile, Critter_direction, LVar2);\nLVar1 := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nif ((tile_distance(Dude_tile, LVar1) <= Outer_ring) and (tile_distance(Dude_tile, LVar1) >= Inner_ring)) then begin\n  Critter_tile := tile_num_in_direction(Critter_tile, LVar0, LVar2 / 2);\nend\ncritter_attempt_placement(Critter, Critter_tile, 0);\n","hunters":"Inner_ring := 8;\nOuter_ring := 5;\ngroup_angle := random(0, 5);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777349;\nCritter_script := 241;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(23, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(36, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 4 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(17, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nItem := create_object_sid(144, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2);\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777467;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(7, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777472;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(143, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(34, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 3 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(14, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 40) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\nCritter_direction := group_angle + random(0, 3 * 2) - 3;\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\nCritter_type := 16777462;\nCritter_script := 383;\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nItem := create_object_sid(18, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(31, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2 * (has_trait(0, dude_obj, 40) + 1));\nItem := create_object_sid(2, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nif (random(0, 2) == 0) then begin\n  Item := item_caps_adjust(Critter, random(5, 30) * ((2 * has_trait(0, dude_obj, 20)) + 1));\nend\ncall stranger;\n","Coast1":"display_msg(message_str(245, 100));\ndisplay_msg(message_str(245, 104));\nOuter_ring := (get_critter_stat(dude_obj, 1) / 3) + 7;\nInner_ring := (get_critter_stat(dude_obj, 1) / 3) + 4;\nTot_Critter_A := random(2, 4);\nCritter_type := 16777261;\nCritter_script := 953;\nif (restrict_range) then begin\n  group_angle := random(0, 1);\nend\nelse begin\n  group_angle := random(0, 5);\nend\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 1 * 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nOuter_ring := 3;\nInner_ring := 2;\nCritter_type := 16777261;\nCritter_script := 953;\nif (restrict_range) then begin\n  Critter_direction := random(0, 1);\nend\nelse begin\n  Critter_direction := group_angle + (random(0, 1 * 2) - 1);\nend\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nanim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\nOuter_ring := 6;\nInner_ring := 3;\nCritter_type := 16777254;\nCritter_script := -1;\nif (restrict_range) then begin\n  Critter_direction := random(0, 1);\nend\nelse begin\n  Critter_direction := random(0, 5);\nend\ncall Place_critter;\nItem := create_object_sid(40, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(34, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, has_trait(0, dude_obj, 40) + 1);\nItem := item_caps_adjust(Critter, random(4, 25) * (1 + (2 * has_trait(0, dude_obj, 20))));\nkill_critter(Critter, 61);\ncall stranger;\n","Coast2":"display_msg(message_str(112, 313));\nTot_Critter_A := random(4, 7);\nif ((game_time_hour >= 700) and (game_time_hour < 1800)) then begin\n  Outer_ring := 6;\n  Inner_ring := 3;\nend\nelse begin\n  Outer_ring := 4;\n  Inner_ring := 3;\nend\nCritter_type := 16777284;\nCritter_script := 735;\nwhile(Tot_Critter_A) do begin\n  Critter_direction := random(1, 2);\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\ncall stranger;\n","Coast3":"display_msg(message_str(245, 101));\nOuter_ring := 4;\nInner_ring := 1;\nTot_Critter_A := random(8, 12);\nCritter_type := 16777264;\nCritter_script := 222;\nif (restrict_range) then begin\n  group_angle := random(0, 1);\nend\nelse begin\n  group_angle := random(0, 5);\nend\nwhile(Tot_Critter_A) do begin\n  if (restrict_range) then begin\n    Critter_direction := group_angle;\n  end\n  else begin\n    Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  end\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\ncall stranger;\n","Coast4":"display_msg(message_str(245, 102));\nset_global_var(290, 0);\nset_global_var(291, 0);\nset_global_var(292, 0);\ngroup_angle := random(0, 2);\nMapX := (Dude_tile % 200) + 8;\nMapY := (Dude_tile / 200) + 6;\nif ((game_time_hour >= 1900) or (game_time_hour < 600)) then begin\n  Critter := create_object_sid(33555044, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 2), 0);\n  Critter := create_object_sid(33555044, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554640, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 5) * 200) + (MapX - 4), 0);\n  Critter := create_object_sid(33554640, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX - 7), 0);\n  Critter := create_object_sid(33554641, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 7) * 200) + MapX, 0);\n  Critter := create_object_sid(33554640, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(93, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 3) * 200) + (MapX + 3), 0);\nend\nelse begin\n  Critter := create_object_sid(33554710, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554711, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554712, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554866, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554710, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554711, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554712, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554866, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(33554435, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 5) * 200) + (MapX + 1), 0);\n  Critter := create_object_sid(33554529, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 5) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554530, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 7) * 200) + (MapX + 1), 0);\n  Critter := create_object_sid(33554528, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 2) * 200) + MapX, 0);\n  Critter := create_object_sid(33554527, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 5) * 200) + (MapX - 1), 0);\n  Critter := create_object_sid(33554833 + 1, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 2) * 200) + (MapX - 3), 0);\n  Critter := create_object_sid(33554833 + 1, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 8) * 200) + (MapX + 5), 0);\n  Critter := create_object_sid(33554833 + 2, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX + 4), 0);\n  Critter := create_object_sid(46, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 7) * 200) + (MapX + 3), 0);\n  Critter := create_object_sid(93, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 3) * 200) + (MapX + 3), 0);\nend\nOuter_ring := 9;\nInner_ring := 6;\nTot_Critter_A := random(3, 4);\nset_global_var(289, Tot_Critter_A);\nCritter_script := 750;\nwhile(Tot_Critter_A) do begin\n  if (random(0, 1)) then begin\n    Critter_type := 16777247;\n    Item := create_object_sid(7, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\n  else begin\n    Critter_type := 16777419;\n    Item := create_object_sid(21, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 1) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(6, 15) * (1 + (1 * has_trait(0, dude_obj, 20))));\n  end\n  if (random(0, 1)) then begin\n    if (random(0, 2) == 0) then begin\n      Item := create_object_sid(125, 0, 0, -1);\n    end\n    else begin\n      Item := create_object_sid(124, 0, 0, -1);\n    end\n    add_obj_to_inven(Critter, Item);\n  end\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nvictim := Critter;\nCritter_script := 713;\nif (group_angle == 0) then begin\n  group_angle := 3;\nend\nelse begin\n  if (group_angle == 1) then begin\n    group_angle := 4;\n  end\n  else begin\n    if (group_angle == 2) then begin\n      group_angle := 5;\n    end\n    else begin\n      if (group_angle == 3) then begin\n        group_angle := 0;\n      end\n      else begin\n        if (group_angle == 4) then begin\n          group_angle := 1;\n        end\n        else begin\n          if (group_angle == 5) then begin\n            group_angle := 2;\n          end\n        end\n      end\n    end\n  end\nend\nTot_Critter_A := random(3, 5);\nset_global_var(288, 6);\nwhile(Tot_Critter_A) do begin\n  Critter_direction := random(0, 5);\n  if (Critter_direction == 0) then begin\n    Critter_type := 16777386;\n  end\n  else begin\n    if (Critter_direction == 1) then begin\n      Critter_type := 16777248;\n    end\n    else begin\n      if (Critter_direction == 2) then begin\n        Critter_type := 16777387;\n      end\n      else begin\n        if (Critter_direction == 3) then begin\n          Critter_type := 16777388;\n        end\n        else begin\n          Critter_type := 16777236;\n        end\n      end\n    end\n  end\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (random(0, 1)) then begin\n    Item := create_object_sid(46, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(2, 4) * (1 + (1 * has_trait(0, dude_obj, 20))));\n  end\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_type := 16777258;\nCritter_script := 713;\nset_global_var(288, 68);\nTot_Critter_A := random(1, 2);\nwhile(Tot_Critter_A) do begin\n  Critter_direction := group_angle + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  if (random(0, 2) == 0) then begin\n    Item := create_object_sid(163, 0, 0, -1);\n    add_obj_to_inven(Critter, Item);\n  end\n  if (random(0, 2) == 0) then begin\n    Item := item_caps_adjust(Critter, random(2, 4) * (1 + (1 * has_trait(0, dude_obj, 20))));\n  end\n  if (group_angle == 0) then begin\n    Critter_direction := 3;\n  end\n  else begin\n    if (group_angle == 1) then begin\n      Critter_direction := 4;\n    end\n    else begin\n      if (group_angle == 2) then begin\n        Critter_direction := 5;\n      end\n      else begin\n        if (group_angle == 3) then begin\n          Critter_direction := 0;\n        end\n        else begin\n          if (group_angle == 4) then begin\n            Critter_direction := 1;\n          end\n          else begin\n            if (group_angle == 5) then begin\n              Critter_direction := 2;\n            end\n          end\n        end\n      end\n    end\n  end\n  if (random(0, 2) == 0) then begin\n    Critter_direction := Critter_direction + (random(0, 2) - 1);\n    while(Critter_direction < 0) do begin\n      Critter_direction := Critter_direction + 6;\n    end\n    if (Critter_direction > 5) then begin\n      Critter_direction := Critter_direction % 6;\n    end\n  end\n  anim(Critter, 1000, Critter_direction);\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\nCritter_type := 16777252;\nCritter_script := 713;\nset_global_var(288, 8);\nCritter_direction := group_angle + (random(0, 2) - 1);\nwhile(Critter_direction < 0) do begin\n  Critter_direction := Critter_direction + 6;\nend\nif (Critter_direction > 5) then begin\n  Critter_direction := Critter_direction % 6;\nend\ncall Place_critter;\nif (group_angle == 0) then begin\n  Critter_direction := 3;\nend\nelse begin\n  if (group_angle == 1) then begin\n    Critter_direction := 4;\n  end\n  else begin\n    if (group_angle == 2) then begin\n      Critter_direction := 5;\n    end\n    else begin\n      if (group_angle == 3) then begin\n        Critter_direction := 0;\n      end\n      else begin\n        if (group_angle == 4) then begin\n          Critter_direction := 1;\n        end\n        else begin\n          if (group_angle == 5) then begin\n            Critter_direction := 2;\n          end\n        end\n      end\n    end\n  end\nend\nif (random(0, 2) == 0) then begin\n  Critter_direction := Critter_direction + (random(0, 2) - 1);\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\nend\nanim(Critter, 1000, Critter_direction);\nattack_setup(victim, Critter);\ncall stranger;\n","Coast5":"display_msg(message_str(112, 313));\nOuter_ring := 6;\nInner_ring := 4;\nTot_Critter_A := random(4, 6);\nCritter_type := 16777284;\nCritter_script := 735;\nif (restrict_range) then begin\n  group_angle := random(1, 2);\nend\nelse begin\n  group_angle := random(0, 5);\nend\nwhile(Tot_Critter_A) do begin\n  if (restrict_range) then begin\n    Critter_direction := group_angle;\n  end\n  else begin\n    Critter_direction := group_angle + random(0, 1 * 2) - 1;\n  end\n  while(Critter_direction < 0) do begin\n    Critter_direction := Critter_direction + 6;\n  end\n  if (Critter_direction > 5) then begin\n    Critter_direction := Critter_direction % 6;\n  end\n  call Place_critter;\n  anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));\n  Tot_Critter_A := Tot_Critter_A - 1;\nend\ncall stranger;\n","Coast6":"display_msg(message_str(245, 103));\nif ((game_time_hour >= 1900) or (game_time_hour < 600)) then begin\n  Critter := create_object_sid(33554640, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 4) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554641, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 2) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33555044, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554747, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 6), 0);\nend\nelse begin\n  Critter := create_object_sid(33554833 + 1, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 3) * 200) + (MapX + 3), 0);\n  Critter := create_object_sid(33554833 + 1, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 2) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554710, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554711, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554712, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554866, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY - 1) * 200) + (MapX + 2), 0);\n  Critter := create_object_sid(33554747, 0, 0, -1);\n  critter_attempt_placement(Critter, ((MapY + 6) * 200) + (MapX + 6), 0);\nend\nCritter := create_object_sid(16777229, 0, 0, 644);\ncritter_attempt_placement(Critter, ((MapY + 2) * 200) + (MapX + 11), 0);\nanim(Critter, 1000, 3);\nItem := create_object_sid(7, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(109, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(18, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(31, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 2);\nItem := item_caps_adjust(Critter, random(50, 100) * (has_trait(0, dude_obj, 20) + 1));\nItem := create_object_sid(81, 0, 0, -1);\nadd_mult_objs_to_inven(Critter, Item, 3);\nCritter := create_object_sid(16777258, 0, 0, 645);\ncritter_attempt_placement(Critter, ((MapY + 4) * 200) + (MapX + 10), 0);\nanim(Critter, 1000, 3);\nItem := create_object_sid(7, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := create_object_sid(103, 0, 0, -1);\nadd_obj_to_inven(Critter, Item);\nItem := item_caps_adjust(Critter, random(2, 3) * (has_trait(0, dude_obj, 20) + 1));\n","choose_start":"if ((Encounter_Num == 2) or (Encounter_Num == 5)) then begin\n  override_map_start(92, 97, 0, dude_rot);\nend\nelse begin\n  if (Encounter_Num == 6) then begin\n    if (cur_map_index == 20) then begin\n      MapX := 113;\n      MapY := 93;\n      override_map_start(MapX, MapY, 0, dude_rot);\n    end\n    else begin\n      MapX := 103;\n      MapY := 94;\n      override_map_start(MapX, MapY, 0, dude_rot);\n    end\n  end\n  else begin\n    if ((Encounter_Num == 4) or (Encounter_Num == 7)) then begin\n      override_map_start(94, 98, 0, dude_rot);\n    end\n    else begin\n      if (dude_pos == 0) then begin\n        override_map_start(99, 102, 0, dude_rot);\n      end\n      else begin\n        restrict_range := 1;\n        if (dude_pos == 1) then begin\n          override_map_start(108, 94, 0, dude_rot);\n        end\n        else begin\n          override_map_start(111, 104, 0, dude_rot);\n        end\n      end\n    end\n  end\nend\n","add_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nparty_elevation := elevation(dude_obj);\nif (global_var(26) == 5) then begin\n  if (Tandi_ptr == 0) then begin\n  end\n  critter_add_trait(Tandi_ptr, 1, 6, 0);\nend\n","update_party":"variable LVar0 := 0;\nvariable LVar1 := 0;\nif (elevation(dude_obj) != party_elevation) then begin\n  party_elevation := elevation(dude_obj);\n  if (global_var(118) == 2) then begin\n    if (Ian_ptr == 0) then begin\n    end\n    else begin\n      move_to(Ian_ptr, tile_num_in_direction(tile_num(dude_obj), 1, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(5)) then begin\n    if (Dog_ptr == 0) then begin\n    end\n    else begin\n      move_to(Dog_ptr, tile_num_in_direction(tile_num(dude_obj), 2, 1), elevation(dude_obj));\n    end\n  end\n  if (global_var(121) == 2) then begin\n    if (Tycho_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tycho_ptr, tile_num_in_direction(tile_num(dude_obj), 3, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(244) == 2) then begin\n    if (Katja_ptr == 0) then begin\n    end\n    else begin\n      move_to(Katja_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 2), elevation(dude_obj));\n    end\n  end\n  if (global_var(26) == 5) then begin\n    if (Tandi_ptr == 0) then begin\n    end\n    else begin\n      move_to(Tandi_ptr, tile_num_in_direction(tile_num(dude_obj), 4, 4), elevation(dude_obj));\n    end\n  end\nend\n","remove_party":"if (global_var(118) == 2) then begin\n  set_global_var(118, 2);\nend\nif (global_var(5)) then begin\n  set_global_var(5, 1);\nend\nif (global_var(121) == 2) then begin\n  set_global_var(121, 2);\nend\nif (global_var(244) == 2) then begin\n  set_global_var(244, 2);\nend\nif (global_var(26) == 5) then begin\nend\n","Darkness":"set_light_level(40);\n","Invasion":"if (not(global_var(18) == 2)) then begin\n  if (global_var(149) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(13, 1);\n  end\n  if (global_var(150) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(14, 1);\n  end\n  if (global_var(151) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(16, 1);\n  end\n  if (global_var(152) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(15, 1);\n  end\n  if (global_var(153) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(12, 1);\n  end\n  if (global_var(154) <= 0) then begin\n    set_global_var(11, 1);\n  end\n  if (global_var(148) > (game_time / (10 * 60 * 60 * 24))) then begin\n    set_global_var(7, 1);\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>