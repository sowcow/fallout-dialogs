<!DOCTYPE html><html><head><title>dcAnna</title><meta charset="utf-8" /></head><body><svg width="2534pt" height="940pt"
 viewBox="0.00 0.00 2533.76 940.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 936.5)">
<title>dcAnna</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-936.5 2529.76,-936.5 2529.76,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="976.47" cy="-890.25" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node2" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1048.47" cy="-890.25" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node3" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1120.47" cy="-890.25" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node4" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1192.47" cy="-890.25" rx="27" ry="18"/>
</g>
<!-- Node008 -->
<g id="node5" class="node">
<title>Node008</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1357.47" cy="-780.94" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;Node008 -->
<g id="edge1" class="edge">
<title>talk_p_proc&#45;&gt;Node008</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1212.66,-878.11C1238.51,-863.62 1284.38,-837.03 1321.47,-811 1325.24,-808.35 1329.13,-805.43 1332.9,-802.49"/>
<polygon fill="#555555" stroke="#555555" points="1334.72,-804.71 1340.34,-795.73 1330.35,-799.25 1334.72,-804.71"/>
</g>
<!-- Node006 -->
<g id="node6" class="node">
<title>Node006</title>
<ellipse fill="#ffffff" stroke="#000000" cx="459.47" cy="-364.74" rx="126.4" ry="30.05"/>
<text text-anchor="middle" x="459.47" y="-368.69" font-family="Times,serif" font-size="14.00">Мой кулон! Дайте его</text>
<text text-anchor="middle" x="459.47" y="-351.44" font-family="Times,serif" font-size="14.00">мне!!! Ох!!!</text>
</g>
<!-- talk_p_proc&#45;&gt;Node006 -->
<g id="edge2" class="edge">
<title>talk_p_proc&#45;&gt;Node006</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1182.84,-873.29C1176.52,-864.3 1167.4,-853.76 1156.47,-848 1044.63,-789.08 591.47,-908.35 591.47,-781.94 591.47,-781.94 591.47,-781.94 591.47,-511.59 591.47,-463.89 552.18,-424.83 516.47,-399.17"/>
<polygon fill="#555555" stroke="#555555" points="518.71,-395.77 508.5,-392.94 514.72,-401.52 518.71,-395.77"/>
</g>
<!-- Node001 -->
<g id="node7" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1192.47" cy="-780.94" rx="120.03" ry="30.05"/>
<text text-anchor="middle" x="1192.47" y="-784.89" font-family="Times,serif" font-size="14.00">Как же больно... Как</text>
<text text-anchor="middle" x="1192.47" y="-767.64" font-family="Times,serif" font-size="14.00">жжет!</text>
</g>
<!-- talk_p_proc&#45;&gt;Node001 -->
<g id="edge3" class="edge">
<title>talk_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1192.47,-872.01C1192.47,-858.59 1192.47,-839.43 1192.47,-822.23"/>
<polygon fill="#555555" stroke="#555555" points="1195.97,-822.29 1192.47,-812.29 1188.97,-822.29 1195.97,-822.29"/>
</g>
<!-- Node999 -->
<g id="node19" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="633.47" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge19" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#990051" d="M570.63,-350.03C610.98,-342.65 649.81,-331.86 662.47,-316.68 699.91,-271.83 697.61,-107.2 673.47,-54 670.73,-47.97 666.39,-42.57 661.55,-37.92"/>
<polygon fill="#990051" stroke="#990051" points="664.05,-34.6 654.15,-30.83 659.53,-39.95 664.05,-34.6"/>
<text text-anchor="middle" x="782.22" y="-197.92" font-family="Times,serif" font-size="14.00" fill="#990051">Ни фига! Иди к черту. Я</text>
<text text-anchor="middle" x="782.22" y="-180.67" font-family="Times,serif" font-size="14.00" fill="#990051">это нашел, все по</text>
<text text-anchor="middle" x="782.22" y="-163.42" font-family="Times,serif" font-size="14.00" fill="#990051">честному.</text>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge23" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#00992e" d="M334.73,-359.4C236.37,-354.07 108.52,-342.33 63.47,-316.68 -19.19,-269.63 -7.33,-196.57 23.22,-106.5 32.67,-78.66 37.51,-67.81 63.47,-54 110.16,-29.16 474.98,-21.41 595.2,-19.52"/>
<polygon fill="#00992e" stroke="#00992e" points="595.1,-23.01 605.05,-19.36 594.99,-16.01 595.1,-23.01"/>
<text text-anchor="middle" x="39.6" y="-180.67" font-family="Times,serif" font-size="14.00" fill="#00992e">Нет.</text>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge24" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#990200" d="M349.37,-349.56C251.08,-334.34 117.96,-306.48 86.72,-264.18 65.9,-236 65.7,-134.54 86.72,-106.5 147.7,-25.17 481.07,-18.5 595.16,-18.64"/>
<polygon fill="#990200" stroke="#990200" points="595.11,-22.14 605.12,-18.68 595.13,-15.14 595.11,-22.14"/>
<text text-anchor="middle" x="212.35" y="-180.67" font-family="Times,serif" font-size="14.00" fill="#990200">ОХОТНИК ЗА ПРИВИДЕНИЯМИ!</text>
</g>
<!-- Node007 -->
<g id="node21" class="node">
<title>Node007</title>
<ellipse fill="#ffffff" stroke="#000000" cx="498.47" cy="-185.34" rx="152.91" ry="78.84"/>
<text text-anchor="middle" x="498.47" y="-223.79" font-family="Times,serif" font-size="14.00">Мой кулон, мой кулон! Я</text>
<text text-anchor="middle" x="498.47" y="-206.54" font-family="Times,serif" font-size="14.00">иду, папа! Я иду!</text>
<text text-anchor="middle" x="498.47" y="-189.29" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="498.47" y="-172.04" font-family="Times,serif" font-size="14.00">Вы видите привидение!</text>
<text text-anchor="middle" x="498.47" y="-154.79" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="498.47" y="-137.54" font-family="Times,serif" font-size="14.00">Вы видите Анну, призрака.</text>
</g>
<!-- Node006&#45;&gt;Node007 -->
<g id="edge20" class="edge">
<title>Node006&#45;&gt;Node007</title>
<path fill="none" stroke="#007e99" d="M497.53,-335.68C502.79,-330.02 507.43,-323.64 510.47,-316.68 516.17,-303.66 518.37,-289.22 518.44,-274.84"/>
<polygon fill="#007e99" stroke="#007e99" points="521.91,-274.75 518.1,-264.87 514.91,-274.97 521.91,-274.75"/>
<text text-anchor="middle" x="588.6" y="-294.76" font-family="Times,serif" font-size="14.00" fill="#007e99">Ладно. Вот, вот он.</text>
</g>
<!-- Node006&#45;&gt;Node007 -->
<g id="edge21" class="edge">
<title>Node006&#45;&gt;Node007</title>
<path fill="none" stroke="#998800" d="M346.33,-351.03C290.88,-339.95 241.45,-319.5 269.47,-282.18 286.7,-259.24 304.61,-274.28 331.47,-264.18 346.97,-258.36 363.03,-251.71 378.78,-244.81"/>
<polygon fill="#998800" stroke="#998800" points="379.82,-247.73 387.55,-240.48 376.99,-241.33 379.82,-247.73"/>
<text text-anchor="middle" x="353.47" y="-294.76" font-family="Times,serif" font-size="14.00" fill="#998800">Вот. Покойся с миром.</text>
</g>
<!-- Node006&#45;&gt;Node007 -->
<g id="edge22" class="edge">
<title>Node006&#45;&gt;Node007</title>
<path fill="none" stroke="#5b0099" d="M454.84,-334.38C453.24,-318.73 452.63,-299.24 456.22,-282.18 456.89,-279 457.68,-275.78 458.56,-272.57"/>
<polygon fill="#5b0099" stroke="#5b0099" points="462.11,-273.89 461.66,-263.3 455.41,-271.86 462.11,-273.89"/>
<text text-anchor="middle" x="481.6" y="-294.76" font-family="Times,serif" font-size="14.00" fill="#5b0099">Ладно.</text>
</g>
<!-- Node003 -->
<g id="node16" class="node">
<title>Node003</title>
<ellipse fill="#ffffff" stroke="#000000" cx="833.47" cy="-512.59" rx="127.46" ry="30.05"/>
<text text-anchor="middle" x="833.47" y="-516.54" font-family="Times,serif" font-size="14.00">Где он? Я не могу его</text>
<text text-anchor="middle" x="833.47" y="-499.29" font-family="Times,serif" font-size="14.00">найти! Я пропала! А...</text>
</g>
<!-- Node001&#45;&gt;Node003 -->
<g id="edge5" class="edge">
<title>Node001&#45;&gt;Node003</title>
<path fill="none" stroke="#449900" d="M1082.48,-768.62C991.27,-756.74 871.77,-734.55 841.22,-697.64 808.16,-657.7 813.87,-594.52 822.5,-553.57"/>
<polygon fill="#449900" stroke="#449900" points="826.12,-554.42 824.92,-543.9 819.29,-552.87 826.12,-554.42"/>
<text text-anchor="middle" x="886.1" y="-650.72" font-family="Times,serif" font-size="14.00" fill="#449900">В чем дело?</text>
</g>
<!-- Node002 -->
<g id="node17" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1072.47" cy="-655.39" rx="133.29" ry="42.25"/>
<text text-anchor="middle" x="1072.47" y="-667.97" font-family="Times,serif" font-size="14.00">Я стучусь во все двери,</text>
<text text-anchor="middle" x="1072.47" y="-650.72" font-family="Times,serif" font-size="14.00">но никто не приходит,</text>
<text text-anchor="middle" x="1072.47" y="-633.47" font-family="Times,serif" font-size="14.00">никто не слышит.</text>
</g>
<!-- Node001&#45;&gt;Node002 -->
<g id="edge6" class="edge">
<title>Node001&#45;&gt;Node002</title>
<path fill="none" stroke="#990071" d="M1164.64,-751.29C1150.95,-737.2 1134.1,-719.84 1118.56,-703.85"/>
<polygon fill="#990071" stroke="#990071" points="1121.54,-701.86 1112.06,-697.12 1116.51,-706.73 1121.54,-701.86"/>
<text text-anchor="middle" x="1176.35" y="-719.59" font-family="Times,serif" font-size="14.00" fill="#990071">Кто вы?</text>
</g>
<!-- Node005 -->
<g id="node18" class="node">
<title>Node005</title>
<ellipse fill="#ffffff" stroke="#000000" cx="981.47" cy="-185.34" rx="94.35" ry="18"/>
<text text-anchor="middle" x="981.47" y="-180.67" font-family="Times,serif" font-size="14.00">Ах, злая судьба.</text>
</g>
<!-- Node001&#45;&gt;Node005 -->
<g id="edge7" class="edge">
<title>Node001&#45;&gt;Node005</title>
<path fill="none" stroke="#009995" d="M1204.12,-750.61C1206.12,-744.81 1208.02,-738.71 1209.47,-732.89 1213.29,-717.54 1212.88,-713.39 1214.47,-697.64 1227.18,-571.53 1257.48,-536.18 1228.47,-412.79 1213.63,-349.67 1208.79,-328.55 1163.47,-282.18 1128.41,-246.32 1077.04,-220.96 1037.81,-205.37"/>
<polygon fill="#009995" stroke="#009995" points="1039.19,-201.77 1028.6,-201.43 1036.67,-208.3 1039.19,-201.77"/>
<text text-anchor="middle" x="1322.85" y="-507.92" font-family="Times,serif" font-size="14.00" fill="#009995">Изыди, нечистый дух!</text>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge8" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#996800" d="M1264.92,-756.59C1332.99,-732.4 1424.47,-693.07 1424.47,-656.39 1424.47,-656.39 1424.47,-656.39 1424.47,-184.34 1424.47,-106.5 1377.71,-87.55 1307.47,-54 1250.13,-26.61 806.01,-20.51 671.77,-19.28"/>
<polygon fill="#996800" stroke="#996800" points="671.87,-15.78 661.84,-19.19 671.81,-22.78 671.87,-15.78"/>
<text text-anchor="middle" x="1549.35" y="-433.99" font-family="Times,serif" font-size="14.00" fill="#996800">ОХОТНИК ЗА ПРИВИДЕНИЯМИ!</text>
</g>
<!-- Node001&#45;&gt;Node999 -->
<g id="edge9" class="edge">
<title>Node001&#45;&gt;Node999</title>
<path fill="none" stroke="#3b0099" d="M1279.28,-759.81C1423.67,-726.18 1697.47,-661.71 1697.47,-656.39 1697.47,-656.39 1697.47,-656.39 1697.47,-184.34 1697.47,-21.26 1514.11,-87.33 1354.47,-54 1222.14,-26.37 800.8,-20.45 671.54,-19.27"/>
<polygon fill="#3b0099" stroke="#3b0099" points="671.68,-15.77 661.65,-19.18 671.62,-22.77 671.68,-15.77"/>
<text text-anchor="middle" x="1713.6" y="-433.99" font-family="Times,serif" font-size="14.00" fill="#3b0099">Гыг.</text>
</g>
<!-- destroy_p_proc -->
<g id="node8" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1429.47" cy="-890.25" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node9" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1607.47" cy="-890.25" rx="133.28" ry="18"/>
<text text-anchor="middle" x="1607.47" y="-885.57" font-family="Times,serif" font-size="14.00">Вы видите привидение!</text>
</g>
<!-- description_p_proc -->
<g id="node10" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1892.47" cy="-890.25" rx="133.28" ry="18"/>
<text text-anchor="middle" x="1892.47" y="-885.57" font-family="Times,serif" font-size="14.00">Вы видите привидение!</text>
</g>
<!-- use_skill_on_p_proc -->
<g id="node11" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2070.47" cy="-890.25" rx="27" ry="18"/>
</g>
<!-- damage_p_proc -->
<g id="node12" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2142.47" cy="-890.25" rx="27" ry="18"/>
</g>
<!-- Node998 -->
<g id="node13" class="node">
<title>Node998</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2142.47" cy="-780.94" rx="27" ry="18"/>
</g>
<!-- damage_p_proc&#45;&gt;Node998 -->
<g id="edge4" class="edge">
<title>damage_p_proc&#45;&gt;Node998</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M2142.47,-872.01C2142.47,-855.27 2142.47,-829.58 2142.47,-809.91"/>
<polygon fill="#555555" stroke="#555555" points="2145.97,-810.14 2142.47,-800.14 2138.97,-810.14 2145.97,-810.14"/>
</g>
<!-- map_enter_p_proc -->
<g id="node14" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2214.47" cy="-890.25" rx="27" ry="18"/>
</g>
<!-- map_update_p_proc -->
<g id="node15" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2392.47" cy="-890.25" rx="133.29" ry="42.25"/>
<text text-anchor="middle" x="2392.47" y="-902.82" font-family="Times,serif" font-size="14.00">Ооо, красива косточки.</text>
<text text-anchor="middle" x="2392.47" y="-885.57" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="2392.47" y="-868.32" font-family="Times,serif" font-size="14.00">Этот дом очищен.</text>
</g>
<!-- Node003&#45;&gt;Node005 -->
<g id="edge13" class="edge">
<title>Node003&#45;&gt;Node005</title>
<path fill="none" stroke="#779900" d="M779.76,-484.89C721.02,-451.94 639.94,-393.1 677.72,-334.68 693.17,-310.8 767.51,-291.26 794.47,-282.18 828.19,-270.83 840.04,-278.8 872.47,-264.18 902.89,-250.47 933.46,-227.67 954.45,-210.28"/>
<polygon fill="#779900" stroke="#779900" points="956.45,-212.33 961.83,-203.2 951.93,-206.98 956.45,-212.33"/>
<text text-anchor="middle" x="765.85" y="-377.31" font-family="Times,serif" font-size="14.00" fill="#779900">Хватит тут рыдать и</text>
<text text-anchor="middle" x="765.85" y="-360.06" font-family="Times,serif" font-size="14.00" fill="#779900">стонать, излагайте, что</text>
<text text-anchor="middle" x="765.85" y="-342.81" font-family="Times,serif" font-size="14.00" fill="#779900">вам надо, четко и ясно!</text>
</g>
<!-- Node004 -->
<g id="node20" class="node">
<title>Node004</title>
<ellipse fill="#ffffff" stroke="#000000" cx="994.47" cy="-364.74" rx="132.76" ry="30.05"/>
<text text-anchor="middle" x="994.47" y="-368.69" font-family="Times,serif" font-size="14.00">Мой кулон! Он пропал.</text>
<text text-anchor="middle" x="994.47" y="-351.44" font-family="Times,serif" font-size="14.00">Вор! Вор!</text>
</g>
<!-- Node003&#45;&gt;Node004 -->
<g id="edge12" class="edge">
<title>Node003&#45;&gt;Node004</title>
<path fill="none" stroke="#004b99" d="M827.04,-482.11C824.15,-460.64 824.24,-432.08 839.47,-412.79 848.52,-401.33 860.26,-392.59 873.25,-385.93"/>
<polygon fill="#004b99" stroke="#004b99" points="874.31,-388.83 881.9,-381.43 871.36,-382.48 874.31,-388.83"/>
<text text-anchor="middle" x="941.47" y="-442.61" font-family="Times,serif" font-size="14.00" fill="#004b99">Да что вы ищете? Может, я</text>
<text text-anchor="middle" x="941.47" y="-425.36" font-family="Times,serif" font-size="14.00" fill="#004b99">могу помочь.</text>
</g>
<!-- Node002&#45;&gt;Node003 -->
<g id="edge10" class="edge">
<title>Node002&#45;&gt;Node003</title>
<path fill="none" stroke="#00990f" d="M972.25,-627.21C929.31,-614.92 887.08,-601.7 878.97,-595.14 865.31,-584.11 855.07,-567.82 847.79,-552.7"/>
<polygon fill="#00990f" stroke="#00990f" points="850.73,-551.68 843.44,-543.99 844.34,-554.55 850.73,-551.68"/>
<text text-anchor="middle" x="965.72" y="-581.84" font-family="Times,serif" font-size="14.00" fill="#00990f">Ну, я вас слышу. В чем</text>
<text text-anchor="middle" x="965.72" y="-564.59" font-family="Times,serif" font-size="14.00" fill="#00990f">дело?</text>
</g>
<!-- Node002&#45;&gt;Node005 -->
<g id="edge11" class="edge">
<title>Node002&#45;&gt;Node005</title>
<path fill="none" stroke="#99001e" d="M1065.35,-612.81C1055.94,-552.05 1043.11,-442.92 1066.47,-412.79 1086.15,-387.4 1115.99,-419.53 1136.47,-394.79 1168.42,-356.2 1166.17,-325.77 1141.47,-282.18 1119.95,-244.2 1076.72,-219.64 1040.61,-204.91"/>
<polygon fill="#99001e" stroke="#99001e" points="1042.23,-201.39 1031.64,-201.01 1039.68,-207.91 1042.23,-201.39"/>
<text text-anchor="middle" x="1147.47" y="-451.24" font-family="Times,serif" font-size="14.00" fill="#99001e">По&#45;моему, вам лучше</text>
<text text-anchor="middle" x="1147.47" y="-433.99" font-family="Times,serif" font-size="14.00" fill="#99001e">отключить режим</text>
<text text-anchor="middle" x="1147.47" y="-416.74" font-family="Times,serif" font-size="14.00" fill="#99001e">скрытности, девушка.</text>
</g>
<!-- Node005&#45;&gt;Node999 -->
<g id="edge16" class="edge">
<title>Node005&#45;&gt;Node999</title>
<path fill="none" stroke="#993500" d="M963.87,-167.41C943.61,-149.03 908.47,-120.43 872.47,-106.5 809.34,-82.06 778.82,-124.07 721.22,-88.5 705.59,-78.85 712.02,-66.4 698.47,-54 689.06,-45.39 677.14,-38.18 666.09,-32.59"/>
<polygon fill="#993500" stroke="#993500" points="667.81,-29.06 657.27,-27.92 664.8,-35.38 667.81,-29.06"/>
<text text-anchor="middle" x="815.6" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#993500">Вы меня не слышите, да?</text>
</g>
<!-- Node005&#45;&gt;Node999 -->
<g id="edge17" class="edge">
<title>Node005&#45;&gt;Node999</title>
<path fill="none" stroke="#080099" d="M972.46,-167.07C954.33,-132.45 914.72,-57.57 909.47,-54 871.5,-28.24 737.85,-21.44 671.47,-19.64"/>
<polygon fill="#080099" stroke="#080099" points="671.73,-16.12 661.65,-19.38 671.56,-23.12 671.73,-16.12"/>
<text text-anchor="middle" x="1008.1" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#080099">Пока, привиденечка.</text>
</g>
<!-- Node005&#45;&gt;Node999 -->
<g id="edge18" class="edge">
<title>Node005&#45;&gt;Node999</title>
<path fill="none" stroke="#259900" d="M1011.61,-167.94C1054.37,-142.67 1123.63,-93.06 1087.47,-54 1059.48,-23.77 776.1,-19.57 671.76,-19.05"/>
<polygon fill="#259900" stroke="#259900" points="671.82,-15.54 661.81,-19 671.79,-22.54 671.82,-15.54"/>
<text text-anchor="middle" x="1200.85" y="-75.2" font-family="Times,serif" font-size="14.00" fill="#259900">Пока. Я постараюсь помочь</text>
<text text-anchor="middle" x="1200.85" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#259900">вам.</text>
</g>
<!-- Node004&#45;&gt;Node005 -->
<g id="edge14" class="edge">
<title>Node004&#45;&gt;Node005</title>
<path fill="none" stroke="#8e0099" d="M985.81,-334.33C984.43,-328.53 983.22,-322.45 982.47,-316.68 977.94,-281.69 978.56,-240.97 979.73,-214.48"/>
<polygon fill="#8e0099" stroke="#8e0099" points="983.27,-214.89 980.28,-204.72 976.28,-214.53 983.27,-214.89"/>
<text text-anchor="middle" x="1061.97" y="-303.38" font-family="Times,serif" font-size="14.00" fill="#8e0099">Ой, ну что вы, я тут</text>
<text text-anchor="middle" x="1061.97" y="-286.13" font-family="Times,serif" font-size="14.00" fill="#8e0099">первый раз. Это не я.</text>
</g>
<!-- Node004&#45;&gt;Node005 -->
<g id="edge15" class="edge">
<title>Node004&#45;&gt;Node005</title>
<path fill="none" stroke="#009961" d="M894.68,-344.51C852.21,-335.32 810.93,-324.62 804.72,-316.68 795.27,-304.61 795.37,-294.34 804.72,-282.18 823.71,-257.49 844.28,-277.45 872.47,-264.18 902.48,-250.06 932.88,-227.51 953.93,-210.31"/>
<polygon fill="#009961" stroke="#009961" points="955.9,-212.39 961.34,-203.31 951.42,-207.01 955.9,-212.39"/>
<text text-anchor="middle" x="891.35" y="-294.76" font-family="Times,serif" font-size="14.00" fill="#009961">Помочь вам найти его?</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge25" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#002b99" d="M373,-139.86C351.75,-126.64 332.47,-109.8 319.72,-88.5 311.85,-75.34 309.5,-65.43 319.72,-54 337.85,-33.74 516.35,-23.86 595.74,-20.44"/>
<polygon fill="#002b99" stroke="#002b99" points="595.41,-23.92 605.26,-20 595.12,-16.92 595.41,-23.92"/>
<text text-anchor="middle" x="368.85" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#002b99">До свидания.</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge26" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#589900" d="M438.53,-112.61C428.64,-92.33 425.66,-71.13 439.97,-54 459.4,-30.74 544.98,-22.91 595.58,-20.29"/>
<polygon fill="#589900" stroke="#589900" points="595.6,-23.75 605.42,-19.78 595.27,-16.76 595.6,-23.75"/>
<text text-anchor="middle" x="499.72" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#589900">Стой! Не уходи!</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge27" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#990084" d="M545.28,-109.94C562.89,-82.21 579.33,-56.71 581.97,-54 588.4,-47.39 596.27,-41.3 603.89,-36.12"/>
<polygon fill="#990084" stroke="#990084" points="605.46,-38.63 611.97,-30.27 601.67,-32.74 605.46,-38.63"/>
<text text-anchor="middle" x="628.22" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#990084">Иди к свету.</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge28" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#009981" d="M387.86,-130.6C369.2,-122.17 349.9,-113.82 331.47,-106.5 307.86,-97.12 292.09,-109.1 277.22,-88.5 268.25,-76.07 266.92,-65.36 277.22,-54 298.31,-30.73 508.21,-22.39 595.6,-19.91"/>
<polygon fill="#009981" stroke="#009981" points="595.46,-23.38 605.36,-19.61 595.27,-16.39 595.46,-23.38"/>
<text text-anchor="middle" x="293.6" y="-66.58" font-family="Times,serif" font-size="14.00" fill="#009981">Гыг.</text>
</g>
<!-- timed_event_p_proc -->
<g id="node22" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1357.47" cy="-890.25" rx="27" ry="18"/>
</g>
<!-- timed_event_p_proc&#45;&gt;Node008 -->
<g id="edge29" class="edge">
<title>timed_event_p_proc&#45;&gt;Node008</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1357.47,-872.01C1357.47,-855.27 1357.47,-829.58 1357.47,-809.91"/>
<polygon fill="#555555" stroke="#555555" points="1360.97,-810.14 1357.47,-800.14 1353.97,-810.14 1360.97,-810.14"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"[]","critter_p_proc":"if (has_trait(1, self_obj, 666)) then begin\n  if (obj_can_see_obj(self_obj, dude_obj)) then begin\n    if ((local_var(4) bwand 2) != 0) then begin\n      if (critter_is_fleeing(self_obj)) then begin\n        if (anim_busy(self_obj) == 0) then begin\n          if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin\n            if (anim_busy(self_obj) == 0) then begin\n              global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));\n              animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n              global_temp := (global_temp + 1) % 6;\n              while((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin\n                debug_msg(\"dcanna\" + \": \" + \"flee loop: rot == \" + global_temp + \"\\n\");\n                animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n                global_temp := (global_temp + 1) % 6;\n              end\n            end\n          end\n        end\n      end\n      else begin\n        attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n      end\n    end\n  end\nend\n","pickup_p_proc":"script_overrides;\n","talk_p_proc":"script_overrides;\nif (obj_is_carrying_obj_pid(self_obj, 252) > 0) then begin\n  call Node008;\nend\nelse begin\n  start_gdialog(49, self_obj, 4, 4294967295, 4294967295);\n  gsay_start;\n  if (obj_is_carrying_obj_pid(dude_obj, 252)) then begin\n    call Node006;\n  end\n  else begin\n    call Node001;\n  end\n  gsay_end;\n  end_dialogue;\n  set_local_var(4, local_var(4) bwor 1);\nend\nmetarule3(100, self_obj, 1, 0);\nadd_timer_event(self_obj, game_ticks(random(5, 15)), 1);\nset_global_var(447, global_var(447) bwor 2);\n","destroy_p_proc":"if (global_var(551) == 1) then begin\n  if (global_var(551) < 2) then begin\n    set_global_var(551, 2);\n  end\nend\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(49, 100 + ((local_var(4) bwand 1) != 0)));\n","description_p_proc":"script_overrides;\ndisplay_msg(message_str(49, 100 + ((local_var(4) bwand 1) != 0)));\n","use_skill_on_p_proc":"[]","damage_p_proc":"if (source_obj == dude_obj) then begin\n  call Node998;\nend\n","map_enter_p_proc":"if (metarule(22, 0) == 0) then begin\n  if (metarule(14, 0)) then begin\n    critter_add_trait(self_obj, 1, 6, 9);\n    critter_add_trait(self_obj, 1, 5, 24);\n  end\n  metarule3(100, self_obj, 0, 0);\n  add_timer_event(self_obj, game_ticks(random(10, 30)), 0);\n  metarule3(100, self_obj, 1, 0);\n  add_timer_event(self_obj, game_ticks(random(5, 15)), 1);\nend\n","map_update_p_proc":"if ((local_var(4) bwand 512) != 0) then begin\n  debug_msg(\"dcanna\" + \": \" + \"DESTROYING ANNA\" + \"\\n\");\n  restock_obj := create_object_sid(251, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, restock_obj, 1);\n  drop_obj(restock_obj);\n  if (tile_in_tile_rect(27913, 27903, 29713, 29703, tile_num(dude_obj))) then begin\n    if (get_critter_stat(dude_obj, 4) <= 3) then begin\n      float_msg(dude_obj, message_str(49, 551), 8);\n    end\n    else begin\n      float_msg(dude_obj, message_str(49, 550), 8);\n    end\n  end\n  destroy_object(self_obj);\nend\nelse begin\n  if (obj_is_carrying_obj_pid(self_obj, 252) > 0) then begin\n    debug_msg(\"dcanna\" + \": \" + \"setting DESTROY_ANNA\" + \"\\n\");\n    debug_msg(\"dcanna\" + \": \" + \" self_item_count(PID_ANNA_GOLD_LOCKET) == \" + obj_is_carrying_obj_pid(self_obj, 252) + \"\\n\");\n    debug_msg(\"dcanna\" + \": \" + \"SETTING DESTROY ANNA\" + \"\\n\");\n    set_local_var(4, local_var(4) bwor 512);\n  end\n  else begin\n    if (game_time_hour <= 400) then begin\n      if (has_trait(1, self_obj, 666) == 0) then begin\n        set_obj_visibility(self_obj, 0);\n      end\n    end\n    else begin\n      if (has_trait(1, self_obj, 666) == 1) then begin\n        set_obj_visibility(self_obj, 1);\n      end\n    end\n  end\nend\n","Node001":"debug_msg(\"dcanna\" + \": \" + \"Node001\" + \"\\n\");\ngsay_reply(49, 153);\ngiq_option(4, 49, 154, Node003, 50);\ngiq_option(4, 49, 155, Node002, 50);\ngiq_option(6, 49, 156, Node005, 51);\ngiq_option(4294967293, 49, 560, Node999, 51);\ngiq_option(4294967293, 49, 561, Node999, 50);\n","Node002":"debug_msg(\"dcanna\" + \": \" + \"Node002\" + \"\\n\");\ngsay_reply(49, 157);\ngiq_option(4, 49, 158, Node003, 50);\ngiq_option(4, 49, 159, Node005, 51);\n","Node003":"debug_msg(\"dcanna\" + \": \" + \"Node003\" + \"\\n\");\ngsay_reply(49, 160);\ngiq_option(4, 49, 161, Node004, 50);\ngiq_option(4, 49, 162, Node005, 51);\n","Node004":"debug_msg(\"dcanna\" + \": \" + \"Node004\" + \"\\n\");\nif (global_var(551) < 1) then begin\n  set_global_var(551, 1);\nend\ngsay_reply(49, 163);\ngiq_option(4, 49, 164, Node005, 50);\ngiq_option(4, 49, 165, Node005, 50);\n","Node005":"debug_msg(\"dcanna\" + \": \" + \"Node005\" + \"\\n\");\ngsay_reply(49, 166);\ngiq_option(4, 49, 167, Node999, 50);\ngiq_option(4, 49, 168, Node999, 50);\ngiq_option(4, 49, 169, Node999, 50);\n","Node006":"debug_msg(\"dcanna\" + \": \" + \"Node006\" + \"\\n\");\ngsay_reply(49, 170);\ngiq_option(4, 49, 171, Node999, 51);\ngiq_option(4, 49, 172, Node007, 50);\ngiq_option(6, 49, 173, Node007, 50);\ngiq_option(4294967293, 49, 174, Node007, 50);\ngiq_option(4294967293, 49, 175, Node999, 51);\ngiq_option(4294967293, 49, 560, Node999, 51);\n","Node007":"debug_msg(\"dcanna\" + \": \" + \"Node007\" + \"\\n\");\nif ((obj_is_carrying_obj_pid(self_obj, 252) > 0) == 0) then begin\n  debug_msg(\"dcanna\" + \": \" + \"SETTING ANNA HELPED\" + \"\\n\");\n  removed_qty := obj_is_carrying_obj_pid(dude_obj, 252);\n  if (1 < removed_qty) then begin\n    removed_qty := 1;\n  end\n  if (removed_qty > 0) then begin\n    restock_obj := obj_carrying_pid_obj(dude_obj, 252);\n    if (obj_type(self_obj) == 1) then begin\n      restock_obj := obj_carrying_pid_obj(dude_obj, 252);\n      if (critter_inven_obj(self_obj, 0) == restock_obj) then begin\n        if (obj_item_subtype(critter_inven_obj(dude_obj, 0)) == 0) then begin\n          restock_obj := critter_inven_obj(dude_obj, 0);\n          debug_msg(\"dcanna\" + \": \" + \"armour pid == \" + obj_pid(restock_obj) + \"\\n\");\n          rm_obj_from_inven(dude_obj, restock_obj);\n          add_obj_to_inven(dude_obj, restock_obj);\n        end\n      end\n      else begin\n        if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin\n          metarule(43, dude_obj);\n        end\n      end\n    end\n    restock_amt := rm_mult_objs_from_inven(dude_obj, restock_obj, removed_qty);\n    destroy_object(restock_obj);\n  end\n  restock_obj := 0;\n  restock_amt := 0;\n  restock_obj := create_object_sid(252, 0, 0, 4294967295);\n  add_mult_objs_to_inven(self_obj, restock_obj, 1);\n  set_global_var(445, global_var(445) bwor 2147483648);\n  set_global_var(0, global_var(0) + 3);\n  debug_msg(\"dcanna\" + \": \" + \"Player gains \" + 3 + \" Karma Points.\" + \"\\n\");\n  set_global_var(37, 0);\n  set_global_var(38, 0);\n  set_global_var(39, 0);\n  set_global_var(40, 0);\n  set_global_var(41, 0);\n  set_global_var(42, 0);\n  set_global_var(43, 0);\n  set_global_var(44, 0);\n  set_global_var(45, 0);\n  tmp_gen_rep := global_var(0);\n  if (has_trait(0, dude_obj, 95)) then begin\n    tmp_gen_rep := global_var(0) * 2;\n  end\n  if (tmp_gen_rep >= 1000) then begin\n    set_global_var(37, 1);\n  end\n  else begin\n    if (tmp_gen_rep >= 750) then begin\n      set_global_var(38, 1);\n    end\n    else begin\n      if (tmp_gen_rep >= 500) then begin\n        set_global_var(39, 1);\n      end\n      else begin\n        if (tmp_gen_rep >= 250) then begin\n          set_global_var(40, 1);\n        end\n        else begin\n          if (tmp_gen_rep > 4294967046) then begin\n            set_global_var(41, 1);\n          end\n          else begin\n            if (tmp_gen_rep > 4294966796) then begin\n              set_global_var(42, 1);\n            end\n            else begin\n              if (tmp_gen_rep > 4294966546) then begin\n                set_global_var(43, 1);\n              end\n              else begin\n                if (tmp_gen_rep > 4294966296) then begin\n                  set_global_var(44, 1);\n                end\n                else begin\n                  set_global_var(45, 1);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  display_msg(message_str(59, 1000));\n  give_exp_points(250);\n  display_msg(message_str(14, 100) + 250 + message_str(14, 101));\n  if (global_var(551) < 2) then begin\n    set_global_var(551, 2);\n  end\n  metarule3(100, self_obj, 0, 0);\n  add_timer_event(self_obj, game_ticks(3), 0);\nend\ngsay_reply(49, 176);\ngiq_option(4, 49, 177, Node999, 50);\ngiq_option(4, 49, 178, Node999, 50);\ngiq_option(6, 49, 179, Node999, 50);\ngiq_option(4294967293, 49, 561, Node999, 50);\n","Node008":"float_msg(self_obj, message_str(49, random(500, 503)), 9);\n","Node998":"set_local_var(4, local_var(4) bwor 2);\n","timed_event_p_proc":"if (fixed_param == 0) then begin\n  if (has_trait(1, self_obj, 666)) then begin\n    if (combat_is_initialized == 0) then begin\n      if (obj_is_carrying_obj_pid(self_obj, 252) > 0) then begin\n        call Node008;\n      end\n      else begin\n        if (has_trait(1, self_obj, 666)) then begin\n          float_msg(self_obj, message_str(49, random(200, 203)), 9);\n        end\n      end\n    end\n  end\n  metarule3(100, self_obj, 0, 0);\n  add_timer_event(self_obj, game_ticks(random(10, 30)), 0);\nend\nelse begin\n  if (fixed_param == 1) then begin\n    if (combat_is_initialized == 0) then begin\n      temp_room_tile := tile_num_in_direction(tile_num(self_obj), random(0, 5), random(1, 5));\n      if (tile_in_tile_rect(27913, 27903, 29713, 29703, temp_room_tile)) then begin\n        animate_move_obj_to_tile(self_obj, temp_room_tile, 0);\n      end\n    end\n    metarule3(100, self_obj, 1, 0);\n    add_timer_event(self_obj, game_ticks(random(5, 15)), 1);\n  end\nend\n","Node999":"[]"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>