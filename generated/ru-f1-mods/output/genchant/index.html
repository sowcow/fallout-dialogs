<!DOCTYPE html><html><head><title>genchant</title><meta charset="utf-8" /></head><body><svg width="1556pt" height="606pt"
 viewBox="0.00 0.00 1555.87 605.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 601.8)">
<title>genchant</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-601.8 1551.87,-601.8 1551.87,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="782.67" cy="-494.57" rx="157.15" ry="103.24"/>
<text text-anchor="middle" x="782.67" y="-550.27" font-family="Times,serif" font-size="14.00">Вы видите чтеца Собора.</text>
<text text-anchor="middle" x="782.67" y="-533.02" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="782.67" y="-515.77" font-family="Times,serif" font-size="14.00">Создатель простит нам</text>
<text text-anchor="middle" x="782.67" y="-498.52" font-family="Times,serif" font-size="14.00">наши грехи!</text>
<text text-anchor="middle" x="782.67" y="-481.27" font-family="Times,serif" font-size="14.00">Присоединяйтесь к нам,</text>
<text text-anchor="middle" x="782.67" y="-464.02" font-family="Times,serif" font-size="14.00">чтобы освободиться!</text>
<text text-anchor="middle" x="782.67" y="-446.77" font-family="Times,serif" font-size="14.00">Вознесите хвалу Создателю</text>
<text text-anchor="middle" x="782.67" y="-429.52" font-family="Times,serif" font-size="14.00">и его милосердию!</text>
</g>
<!-- Chant01 -->
<g id="node2" class="node">
<title>Chant01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="782.67" cy="-287.68" rx="155.56" ry="66.64"/>
<text text-anchor="middle" x="782.67" y="-317.51" font-family="Times,serif" font-size="14.00">Здравствуй! Давай вместе</text>
<text text-anchor="middle" x="782.67" y="-300.26" font-family="Times,serif" font-size="14.00">споем песнь славы?</text>
<text text-anchor="middle" x="782.67" y="-283.01" font-family="Times,serif" font-size="14.00">&quot;Однажды я слепо блуждал</text>
<text text-anchor="middle" x="782.67" y="-265.76" font-family="Times,serif" font-size="14.00">по землям таким</text>
<text text-anchor="middle" x="782.67" y="-248.51" font-family="Times,serif" font-size="14.00">недобрым...&quot;</text>
</g>
<!-- start&#45;&gt;Chant01 -->
<g id="edge1" class="edge">
<title>start&#45;&gt;Chant01</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M782.67,-391.13C782.67,-382.5 782.67,-373.87 782.67,-365.49"/>
<polygon fill="#555555" stroke="#555555" points="786.17,-365.64 782.67,-355.64 779.17,-365.64 786.17,-365.64"/>
</g>
<!-- Chant02 -->
<g id="node3" class="node">
<title>Chant02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="148.67" cy="-66.64" rx="148.67" ry="66.64"/>
<text text-anchor="middle" x="148.67" y="-96.47" font-family="Times,serif" font-size="14.00">Он сам найдет тебя, когда</text>
<text text-anchor="middle" x="148.67" y="-79.22" font-family="Times,serif" font-size="14.00">ты этого не ожидаешь!</text>
<text text-anchor="middle" x="148.67" y="-61.97" font-family="Times,serif" font-size="14.00">Восславим Создателя!</text>
<text text-anchor="middle" x="148.67" y="-44.72" font-family="Times,serif" font-size="14.00">Восславим Священный</text>
<text text-anchor="middle" x="148.67" y="-27.47" font-family="Times,serif" font-size="14.00">Огонь! Восславим мир!</text>
</g>
<!-- Chant01&#45;&gt;Chant02 -->
<g id="edge2" class="edge">
<title>Chant01&#45;&gt;Chant02</title>
<path fill="none" stroke="#993300" d="M629.61,-274.74C541.15,-263.79 429.33,-242.87 336.42,-203.04 296.24,-185.81 256.31,-158.78 223.67,-133.39"/>
<polygon fill="#993300" stroke="#993300" points="226.12,-130.07 216.1,-126.62 221.78,-135.57 226.12,-130.07"/>
<text text-anchor="middle" x="433.79" y="-189.74" font-family="Times,serif" font-size="14.00" fill="#993300">Мне очень неловко</text>
<text text-anchor="middle" x="433.79" y="-172.49" font-family="Times,serif" font-size="14.00" fill="#993300">прерывать вас, но мне</text>
<text text-anchor="middle" x="433.79" y="-155.24" font-family="Times,serif" font-size="14.00" fill="#993300">нужно увидеть Создателя.</text>
</g>
<!-- Chant03 -->
<g id="node4" class="node">
<title>Chant03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="468.67" cy="-66.64" rx="153.44" ry="66.64"/>
<text text-anchor="middle" x="468.67" y="-96.47" font-family="Times,serif" font-size="14.00">Какая чудесная шутка!</text>
<text text-anchor="middle" x="468.67" y="-79.22" font-family="Times,serif" font-size="14.00">Раньше у меня не было</text>
<text text-anchor="middle" x="468.67" y="-61.97" font-family="Times,serif" font-size="14.00">чувства юмора, но</text>
<text text-anchor="middle" x="468.67" y="-44.72" font-family="Times,serif" font-size="14.00">Создатель подарил мне</text>
<text text-anchor="middle" x="468.67" y="-27.47" font-family="Times,serif" font-size="14.00">его! Восславим Создателя!</text>
</g>
<!-- Chant01&#45;&gt;Chant03 -->
<g id="edge3" class="edge">
<title>Chant01&#45;&gt;Chant03</title>
<path fill="none" stroke="#060099" d="M662.72,-244.97C636.95,-233.37 610.72,-219.37 588.17,-203.04 563.52,-185.18 540.38,-161.4 521.15,-138.75"/>
<polygon fill="#060099" stroke="#060099" points="523.34,-136.91 514.25,-131.47 517.96,-141.4 523.34,-136.91"/>
<text text-anchor="middle" x="683.92" y="-172.49" font-family="Times,serif" font-size="14.00" fill="#060099">Не отвлекайся от работы.</text>
</g>
<!-- Chant04 -->
<g id="node5" class="node">
<title>Chant04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="782.67" cy="-66.64" rx="142.84" ry="66.64"/>
<text text-anchor="middle" x="782.67" y="-96.47" font-family="Times,serif" font-size="14.00">Он над землей и под</text>
<text text-anchor="middle" x="782.67" y="-79.22" font-family="Times,serif" font-size="14.00">землей, он внутри и</text>
<text text-anchor="middle" x="782.67" y="-61.97" font-family="Times,serif" font-size="14.00">вовне... Восславим</text>
<text text-anchor="middle" x="782.67" y="-44.72" font-family="Times,serif" font-size="14.00">Создателя за ясность его</text>
<text text-anchor="middle" x="782.67" y="-27.47" font-family="Times,serif" font-size="14.00">взора!</text>
</g>
<!-- Chant01&#45;&gt;Chant04 -->
<g id="edge4" class="edge">
<title>Chant01&#45;&gt;Chant04</title>
<path fill="none" stroke="#269900" d="M782.67,-220.67C782.67,-196.64 782.67,-169.27 782.67,-144.39"/>
<polygon fill="#269900" stroke="#269900" points="786.17,-144.53 782.67,-134.53 779.17,-144.53 786.17,-144.53"/>
<text text-anchor="middle" x="846.79" y="-172.49" font-family="Times,serif" font-size="14.00" fill="#269900">Кто тут главный?</text>
</g>
<!-- Chant05 -->
<g id="node6" class="node">
<title>Chant05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1087.67" cy="-66.64" rx="143.9" ry="66.64"/>
<text text-anchor="middle" x="1087.67" y="-96.47" font-family="Times,serif" font-size="14.00">Возможно, когда&#45;нибудь</text>
<text text-anchor="middle" x="1087.67" y="-79.22" font-family="Times,serif" font-size="14.00">мне позволят поцеловать</text>
<text text-anchor="middle" x="1087.67" y="-61.97" font-family="Times,serif" font-size="14.00">Создателя. Восславим</text>
<text text-anchor="middle" x="1087.67" y="-44.72" font-family="Times,serif" font-size="14.00">Создателя! Восславим</text>
<text text-anchor="middle" x="1087.67" y="-27.47" font-family="Times,serif" font-size="14.00">Священный Огонь!</text>
</g>
<!-- Chant01&#45;&gt;Chant05 -->
<g id="edge5" class="edge">
<title>Chant01&#45;&gt;Chant05</title>
<path fill="none" stroke="#990053" d="M870.81,-232.54C885.62,-222.96 900.7,-212.89 914.67,-203.04 946.15,-180.83 979.73,-155.06 1008.85,-132"/>
<polygon fill="#990053" stroke="#990053" points="1010.68,-134.22 1016.33,-125.26 1006.32,-128.74 1010.68,-134.22"/>
<text text-anchor="middle" x="1062.92" y="-181.11" font-family="Times,serif" font-size="14.00" fill="#990053">&quot;... но теперь я целую</text>
<text text-anchor="middle" x="1062.92" y="-163.86" font-family="Times,serif" font-size="14.00" fill="#990053">Создателя прямо в...&quot;</text>
</g>
<!-- Chant06 -->
<g id="node7" class="node">
<title>Chant06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1398.67" cy="-66.64" rx="149.2" ry="66.64"/>
<text text-anchor="middle" x="1398.67" y="-96.47" font-family="Times,serif" font-size="14.00">Хм, это не то, что я имел</text>
<text text-anchor="middle" x="1398.67" y="-79.22" font-family="Times,serif" font-size="14.00">в виду. Повторяй за мной!</text>
<text text-anchor="middle" x="1398.67" y="-61.97" font-family="Times,serif" font-size="14.00">Восславим Создателя!</text>
<text text-anchor="middle" x="1398.67" y="-44.72" font-family="Times,serif" font-size="14.00">Восславим Священный</text>
<text text-anchor="middle" x="1398.67" y="-27.47" font-family="Times,serif" font-size="14.00">Огонь!</text>
</g>
<!-- Chant01&#45;&gt;Chant06 -->
<g id="edge6" class="edge">
<title>Chant01&#45;&gt;Chant06</title>
<path fill="none" stroke="#008099" d="M927.45,-262.65C995.27,-249.07 1076.41,-229.44 1146.67,-203.04 1200.49,-182.81 1257.17,-153.19 1303.12,-126.81"/>
<polygon fill="#008099" stroke="#008099" points="1304.56,-129.44 1311.46,-121.4 1301.05,-123.38 1304.56,-129.44"/>
<text text-anchor="middle" x="1345.29" y="-172.49" font-family="Times,serif" font-size="14.00" fill="#008099">Ура! Ура! Я хорошо пою!</text>
</g>
<!-- ChantEnd -->
<g id="node8" class="node">
<title>ChantEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="984.67" cy="-494.57" rx="27" ry="18"/>
</g>
<!-- Combat -->
<g id="node9" class="node">
<title>Combat</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1056.67" cy="-494.57" rx="27" ry="18"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (Only_Once) then begin\n  critter_add_trait(self_obj, 1, 6, 20);\n  critter_add_trait(self_obj, 1, 5, 69);\n  Only_Once := 0;\nend\nif ((script_action == 21) or (script_action == 3)) then begin\n  script_overrides;\n  display_msg(message_str(396, 100));\nend\nelse begin\n  if (script_action == 18) then begin\n    if (source_obj == dude_obj) then begin\n      if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n        set_global_var(156, 1);\n        set_global_var(157, 0);\n      end\n      if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n        set_global_var(157, 1);\n        set_global_var(156, 0);\n      end\n      set_global_var(159, global_var(159) + 1);\n      if ((global_var(159) % 2) == 0) then begin\n        set_global_var(155, global_var(155) - 1);\n      end\n    end\n  end\n  else begin\n    if (script_action == 4) then begin\n      Hostile := 1;\n    end\n    else begin\n      if (script_action == 12) then begin\n        if (Hostile) then begin\n          Hostile := 0;\n          attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n        end\n      end\n    end\n  end\nend\nif (script_action == 11) then begin\n  script_overrides;\n  if (global_var(195) == 1) then begin\n    float_msg(self_obj, message_str(396, 101), 0);\n  end\n  else begin\n    start_gdialog(396, self_obj, 4, -1, -1);\n    gsay_start;\n    call Chant01;\n    gsay_end;\n    end_dialogue;\n  end\nend\n","Chant01":"gsay_reply(396, 102);\ngiq_option(7, 396, 103, Chant02, 50);\ngiq_option(4, 396, 104, Chant03, 50);\ngiq_option(4, 396, 105, Chant04, 50);\nif (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n  giq_option(4, 396, 106, Chant05, 50);\nend\ngiq_option(-3, 396, 107, Chant06, 50);\n","Chant02":"gsay_reply(396, 108);\ngsay_option(396, 113, ChantEnd, 50);\n","Chant03":"gsay_reply(396, 109);\ngsay_option(396, 113, ChantEnd, 50);\n","Chant04":"gsay_reply(396, 110);\ngsay_option(396, 113, ChantEnd, 50);\n","Chant05":"gsay_reply(396, 111);\ngsay_option(396, 113, ChantEnd, 50);\n","Chant06":"gsay_reply(396, 112);\ngsay_option(396, 113, ChantEnd, 50);\n","ChantEnd":"[]","Combat":"Hostile := 1;\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(name, code, x, y) {
    $('#thecode').show();
    $('#thecode').text("# " + name + "\n" + code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(nodeName, Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>