<!DOCTYPE html><html><head><title>dcDerek</title><meta charset="utf-8" /></head><body><svg width="1491pt" height="742pt"
 viewBox="0.00 0.00 1491.00 742.37" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 738.37)">
<title>dcDerek</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-738.37 1487,-738.37 1487,4 -4,4"/>
<!-- checkPartyMembersNearDoor -->
<g id="node1" class="node">
<title>checkPartyMembersNearDoor</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- start -->
<g id="node2" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="99" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- critter_p_proc -->
<g id="node3" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node4" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="243" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- Node998 -->
<g id="node5" class="node">
<title>Node998</title>
<ellipse fill="#ffffff" stroke="#000000" cx="243" cy="-607.21" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc&#45;&gt;Node998 -->
<g id="edge1" class="edge">
<title>pickup_p_proc&#45;&gt;Node998</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M243,-685.87C243,-672.06 243,-652.5 243,-636.47"/>
<polygon fill="#555555" stroke="#555555" points="246.5,-636.54 243,-626.54 239.5,-636.55 246.5,-636.54"/>
</g>
<!-- talk_p_proc -->
<g id="node6" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="506" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- Node001 -->
<g id="node7" class="node">
<title>Node001</title>
<ellipse fill="#ffffff" stroke="#000000" cx="315" cy="-607.21" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;Node001 -->
<g id="edge2" class="edge">
<title>talk_p_proc&#45;&gt;Node001</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M482.18,-695.49C450.88,-684.69 394.76,-663.55 351,-637.26 346.97,-634.84 342.91,-632.01 339.03,-629.09"/>
<polygon fill="#555555" stroke="#555555" points="341.43,-625.73 331.43,-622.23 337.06,-631.2 341.43,-625.73"/>
</g>
<!-- Node010 -->
<g id="node8" class="node">
<title>Node010</title>
<ellipse fill="#ffffff" stroke="#000000" cx="387" cy="-607.21" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;Node010 -->
<g id="edge3" class="edge">
<title>talk_p_proc&#45;&gt;Node010</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M484.59,-692.82C468.19,-684.22 445.49,-671.1 428,-656.26 419.65,-649.18 411.57,-640.31 404.83,-632.12"/>
<polygon fill="#555555" stroke="#555555" points="407.04,-630.28 398.08,-624.63 401.56,-634.64 407.04,-630.28"/>
</g>
<!-- Node005 -->
<g id="node9" class="node">
<title>Node005</title>
<ellipse fill="#ffffff" stroke="#000000" cx="431" cy="-457.27" rx="74.88" ry="18"/>
<text text-anchor="middle" x="431" y="-452.59" font-family="Times,serif" font-size="14.00">Oh, hi again.</text>
</g>
<!-- talk_p_proc&#45;&gt;Node005 -->
<g id="edge4" class="edge">
<title>talk_p_proc&#45;&gt;Node005</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M492.27,-688.57C484.51,-675.31 476.05,-655.23 470,-637.26 452.29,-584.72 436.67,-521.79 431.1,-486.28"/>
<polygon fill="#555555" stroke="#555555" points="434.48,-486.19 429.65,-476.76 427.55,-487.14 434.48,-486.19"/>
</g>
<!-- talk_p_proc&#45;&gt;Node005 -->
<g id="edge5" class="edge">
<title>talk_p_proc&#45;&gt;Node005</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M505.6,-685.88C501.42,-672.69 493.66,-654.05 488,-637.26 470.17,-584.35 454.45,-520.92 443.38,-485.54"/>
<polygon fill="#555555" stroke="#555555" points="446.53,-484.92 440.09,-476.51 439.88,-487.1 446.53,-484.92"/>
</g>
<!-- Node004 -->
<g id="node10" class="node">
<title>Node004</title>
<ellipse fill="#ffffff" stroke="#000000" cx="628" cy="-607.21" rx="139.65" ry="30.05"/>
<text text-anchor="middle" x="628" y="-611.16" font-family="Times,serif" font-size="14.00">Hey you looking for some</text>
<text text-anchor="middle" x="628" y="-593.91" font-family="Times,serif" font-size="14.00">freshly baked bread?</text>
</g>
<!-- talk_p_proc&#45;&gt;Node004 -->
<g id="edge6" class="edge">
<title>talk_p_proc&#45;&gt;Node004</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M516.7,-687.55C521.73,-683.22 527.57,-678.54 533,-674.26 546.23,-663.85 560.7,-652.65 574.33,-642.49"/>
<polygon fill="#555555" stroke="#555555" points="576.18,-644.74 582.14,-635.98 572.02,-639.11 576.18,-644.74"/>
</g>
<!-- talk_p_proc&#45;&gt;Node004 -->
<g id="edge7" class="edge">
<title>talk_p_proc&#45;&gt;Node004</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M526.96,-692.75C534.76,-687.21 543.3,-680.33 551,-674.26 563.74,-664.23 577.64,-653.48 590.14,-643.62"/>
<polygon fill="#555555" stroke="#555555" points="591.88,-645.91 597.53,-636.95 587.52,-640.43 591.88,-645.91"/>
</g>
<!-- Node003 -->
<g id="node11" class="node">
<title>Node003</title>
<ellipse fill="#ffffff" stroke="#000000" cx="813" cy="-607.21" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;Node003 -->
<g id="edge8" class="edge">
<title>talk_p_proc&#45;&gt;Node003</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M520.58,-688.64C526.71,-683.29 534.22,-677.72 542,-674.26 638.65,-631.38 680.35,-680.14 777,-637.26 781.5,-635.27 785.91,-632.56 790.01,-629.6"/>
<polygon fill="#555555" stroke="#555555" points="791.79,-631.86 797.42,-622.89 787.42,-626.39 791.79,-631.86"/>
</g>
<!-- Node002 -->
<g id="node12" class="node">
<title>Node002</title>
<ellipse fill="#ffffff" stroke="#000000" cx="885" cy="-607.21" rx="27" ry="18"/>
</g>
<!-- talk_p_proc&#45;&gt;Node002 -->
<g id="edge9" class="edge">
<title>talk_p_proc&#45;&gt;Node002</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M520.17,-688.8C526.35,-683.34 534.01,-677.64 542,-674.26 605.31,-647.54 785.69,-663.99 849,-637.26 853.62,-635.31 858.13,-632.59 862.3,-629.58"/>
<polygon fill="#555555" stroke="#555555" points="864.22,-631.72 869.83,-622.73 859.84,-626.26 864.22,-631.72"/>
</g>
<!-- Node999 -->
<g id="node21" class="node">
<title>Node999</title>
<ellipse fill="#ffffff" stroke="#000000" cx="643" cy="-18" rx="27" ry="18"/>
</g>
<!-- Node005&#45;&gt;Node999 -->
<g id="edge15" class="edge">
<title>Node005&#45;&gt;Node999</title>
<path fill="none" stroke="#739900" d="M424.51,-439.03C404.33,-382.19 348.77,-198.04 431.5,-89.25 472.46,-35.39 556.15,-22.33 605.08,-19.47"/>
<polygon fill="#739900" stroke="#739900" points="605.02,-22.93 614.85,-18.97 604.7,-15.93 605.02,-22.93"/>
<text text-anchor="middle" x="447.75" y="-200.01" font-family="Times,serif" font-size="14.00" fill="#739900">Bye.</text>
</g>
<!-- Node008 -->
<g id="node23" class="node">
<title>Node008</title>
<ellipse fill="#ffffff" stroke="#000000" cx="605" cy="-204.69" rx="132.76" ry="115.44"/>
<text text-anchor="middle" x="605" y="-269.01" font-family="Times,serif" font-size="14.00">Oh yeah. I didn&#39;t like</text>
<text text-anchor="middle" x="605" y="-251.76" font-family="Times,serif" font-size="14.00">it. Too much kissing. I</text>
<text text-anchor="middle" x="605" y="-234.51" font-family="Times,serif" font-size="14.00">threw it in the corner of</text>
<text text-anchor="middle" x="605" y="-217.26" font-family="Times,serif" font-size="14.00">that building... no that</text>
<text text-anchor="middle" x="605" y="-200.01" font-family="Times,serif" font-size="14.00">building... no... was it</text>
<text text-anchor="middle" x="605" y="-182.76" font-family="Times,serif" font-size="14.00">a building? Maybe I</text>
<text text-anchor="middle" x="605" y="-165.51" font-family="Times,serif" font-size="14.00">dropped it somewhere</text>
<text text-anchor="middle" x="605" y="-148.26" font-family="Times,serif" font-size="14.00">else... or did I throw</text>
<text text-anchor="middle" x="605" y="-131.01" font-family="Times,serif" font-size="14.00">it? Ow! My head!</text>
</g>
<!-- Node005&#45;&gt;Node008 -->
<g id="edge13" class="edge">
<title>Node005&#45;&gt;Node008</title>
<path fill="none" stroke="#990019" d="M426.63,-439.15C421.47,-415.15 415.47,-370.8 431.75,-338.12 444.1,-313.33 463.54,-291.89 485.01,-273.92"/>
<polygon fill="#990019" stroke="#990019" points="486.75,-276.21 492.33,-267.2 482.35,-270.76 486.75,-276.21"/>
<text text-anchor="middle" x="523.12" y="-350.7" font-family="Times,serif" font-size="14.00" fill="#990019">So where&#39;s Becky&#39;s book?</text>
</g>
<!-- Node009 -->
<g id="node24" class="node">
<title>Node009</title>
<ellipse fill="#ffffff" stroke="#000000" cx="211" cy="-204.69" rx="153.44" ry="66.64"/>
<text text-anchor="middle" x="211" y="-234.51" font-family="Times,serif" font-size="14.00">What? Are you mocking me!</text>
<text text-anchor="middle" x="211" y="-217.26" font-family="Times,serif" font-size="14.00">Screw you! I&#39;m not</text>
<text text-anchor="middle" x="211" y="-200.01" font-family="Times,serif" font-size="14.00">unstable! I can cook! I</text>
<text text-anchor="middle" x="211" y="-182.76" font-family="Times,serif" font-size="14.00">don&#39;t have voices in my</text>
<text text-anchor="middle" x="211" y="-165.51" font-family="Times,serif" font-size="14.00">head!</text>
</g>
<!-- Node005&#45;&gt;Node009 -->
<g id="edge14" class="edge">
<title>Node005&#45;&gt;Node009</title>
<path fill="none" stroke="#004699" d="M362.59,-449.62C312.6,-440.8 247.93,-420.29 214.5,-372.62 196.34,-346.72 193.02,-312.56 195.2,-281.9"/>
<polygon fill="#004699" stroke="#004699" points="198.75,-282.5 196.18,-272.22 191.78,-281.85 198.75,-282.5"/>
<text text-anchor="middle" x="299.75" y="-359.32" font-family="Times,serif" font-size="14.00" fill="#004699">Hey, how about some of</text>
<text text-anchor="middle" x="299.75" y="-342.07" font-family="Times,serif" font-size="14.00" fill="#004699">that bread?</text>
</g>
<!-- Node004&#45;&gt;Node999 -->
<g id="edge12" class="edge">
<title>Node004&#45;&gt;Node999</title>
<path fill="none" stroke="#009913" d="M728.91,-586.1C744.98,-583.03 761.43,-579.95 777,-577.16 921.51,-551.28 977.06,-599.35 1103,-523.91 1279.08,-418.44 1392.27,-245.35 1259,-89.25 1221.31,-45.1 809.66,-25.47 681.12,-20.39"/>
<polygon fill="#009913" stroke="#009913" points="681.4,-16.86 671.27,-19.97 681.13,-23.85 681.4,-16.86"/>
<text text-anchor="middle" x="1319.62" y="-350.7" font-family="Times,serif" font-size="14.00" fill="#009913">No, bye.</text>
</g>
<!-- Node006 -->
<g id="node22" class="node">
<title>Node006</title>
<ellipse fill="#ffffff" stroke="#000000" cx="951" cy="-457.27" rx="143.37" ry="66.64"/>
<text text-anchor="middle" x="951" y="-487.09" font-family="Times,serif" font-size="14.00">Ha! So am I. Have I told</text>
<text text-anchor="middle" x="951" y="-469.84" font-family="Times,serif" font-size="14.00">you what a great cook I</text>
<text text-anchor="middle" x="951" y="-452.59" font-family="Times,serif" font-size="14.00">am? Becky wont&#39; hire me</text>
<text text-anchor="middle" x="951" y="-435.34" font-family="Times,serif" font-size="14.00">for some reason. She says</text>
<text text-anchor="middle" x="951" y="-418.09" font-family="Times,serif" font-size="14.00">I&#39;m unstable.</text>
</g>
<!-- Node004&#45;&gt;Node006 -->
<g id="edge10" class="edge">
<title>Node004&#45;&gt;Node006</title>
<path fill="none" stroke="#996d00" d="M686.12,-579.59C728.78,-560.05 788.04,-532.91 839.69,-509.25"/>
<polygon fill="#996d00" stroke="#996d00" points="840.94,-512.07 848.57,-504.72 838.03,-505.7 840.94,-512.07"/>
<text text-anchor="middle" x="775.25" y="-545.86" font-family="Times,serif" font-size="14.00" fill="#996d00">Yes.</text>
</g>
<!-- Node004&#45;&gt;Node008 -->
<g id="edge11" class="edge">
<title>Node004&#45;&gt;Node008</title>
<path fill="none" stroke="#400099" d="M626.62,-576.85C624.26,-527.52 619.21,-424.89 614,-338.12 613.86,-335.74 613.71,-333.33 613.56,-330.91"/>
<polygon fill="#400099" stroke="#400099" points="617.01,-330.94 612.89,-321.17 610.02,-331.37 617.01,-330.94"/>
<text text-anchor="middle" x="706" y="-461.22" font-family="Times,serif" font-size="14.00" fill="#400099">I&#39;m looking for Becky&#39;s</text>
<text text-anchor="middle" x="706" y="-443.97" font-family="Times,serif" font-size="14.00" fill="#400099">book.</text>
</g>
<!-- destroy_p_proc -->
<g id="node13" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="578" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node14" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="750" cy="-704.32" rx="127.46" ry="30.05"/>
<text text-anchor="middle" x="750" y="-708.27" font-family="Times,serif" font-size="14.00">You see a citizen of the</text>
<text text-anchor="middle" x="750" y="-691.02" font-family="Times,serif" font-size="14.00">Den.</text>
</g>
<!-- description_p_proc -->
<g id="node15" class="node">
<title>description_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1009" cy="-704.32" rx="113.82" ry="18"/>
<text text-anchor="middle" x="1009" y="-699.64" font-family="Times,serif" font-size="14.00">He looks quite agile.</text>
</g>
<!-- use_skill_on_p_proc -->
<g id="node16" class="node">
<title>use_skill_on_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1168" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- damage_p_proc -->
<g id="node17" class="node">
<title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1240" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- map_enter_p_proc -->
<g id="node18" class="node">
<title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1312" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- map_exit_p_proc -->
<g id="node19" class="node">
<title>map_exit_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1384" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- timed_event_p_proc -->
<g id="node20" class="node">
<title>timed_event_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1456" cy="-704.32" rx="27" ry="18"/>
</g>
<!-- Node006&#45;&gt;Node999 -->
<g id="edge18" class="edge">
<title>Node006&#45;&gt;Node999</title>
<path fill="none" stroke="#993a00" d="M894.04,-395.7C873.26,-375.73 848.75,-354.47 824,-338.12 807.56,-327.26 795.1,-336.04 783.5,-320.12 713.46,-223.98 830.47,-145.95 755,-54 737.1,-32.19 705.78,-23.74 680.81,-20.57"/>
<polygon fill="#993a00" stroke="#993a00" points="681.51,-17.02 671.2,-19.48 680.79,-23.98 681.51,-17.02"/>
<text text-anchor="middle" x="862.75" y="-208.64" font-family="Times,serif" font-size="14.00" fill="#993a00">That&#39;s great. I&#39;ve uh…</text>
<text text-anchor="middle" x="862.75" y="-191.39" font-family="Times,serif" font-size="14.00" fill="#993a00">got to go.</text>
</g>
<!-- Node006&#45;&gt;Node008 -->
<g id="edge17" class="edge">
<title>Node006&#45;&gt;Node008</title>
<path fill="none" stroke="#009966" d="M850.17,-409.59C831.77,-402.38 812.53,-395.66 794,-390.62 765.43,-382.84 684.86,-391.43 662,-372.62 653.26,-365.43 644.82,-348.48 637.23,-328"/>
<polygon fill="#009966" stroke="#009966" points="640.21,-326.94 633.57,-318.69 633.62,-329.28 640.21,-326.94"/>
<text text-anchor="middle" x="743" y="-359.32" font-family="Times,serif" font-size="14.00" fill="#009966">I&#39;m looking for Becky&#39;s</text>
<text text-anchor="middle" x="743" y="-342.07" font-family="Times,serif" font-size="14.00" fill="#009966">book.</text>
</g>
<!-- Node007 -->
<g id="node25" class="node">
<title>Node007</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1100" cy="-204.69" rx="150.26" ry="30.05"/>
<text text-anchor="middle" x="1100" y="-208.64" font-family="Times,serif" font-size="14.00">What? You! Screw you</text>
<text text-anchor="middle" x="1100" y="-191.39" font-family="Times,serif" font-size="14.00">buddy! I&#39;m not… Ow! Fuck.</text>
</g>
<!-- Node006&#45;&gt;Node007 -->
<g id="edge16" class="edge">
<title>Node006&#45;&gt;Node007</title>
<path fill="none" stroke="#930099" d="M988.79,-392.71C1016.73,-345.73 1053.84,-283.31 1077.33,-243.8"/>
<polygon fill="#930099" stroke="#930099" points="1080.61,-246.15 1082.71,-235.77 1074.59,-242.57 1080.61,-246.15"/>
<text text-anchor="middle" x="1096" y="-350.7" font-family="Times,serif" font-size="14.00" fill="#930099">She&#39;s probably right.</text>
</g>
<!-- Node008&#45;&gt;Node999 -->
<g id="edge21" class="edge">
<title>Node008&#45;&gt;Node999</title>
<path fill="none" stroke="#99004c" d="M628.25,-90.67C631.57,-74.55 634.7,-59.32 637.22,-47.08"/>
<polygon fill="#99004c" stroke="#99004c" points="640.85,-47.83 639.43,-37.33 633.99,-46.42 640.85,-47.83"/>
<text text-anchor="middle" x="693.75" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#99004c">That helps a lot.</text>
</g>
<!-- Node008&#45;&gt;Node999 -->
<g id="edge22" class="edge">
<title>Node008&#45;&gt;Node999</title>
<path fill="none" stroke="#007999" d="M593.61,-89.56C595.37,-77.23 598.49,-65.14 603.5,-54 606.2,-48.01 610.49,-42.62 615.26,-37.98"/>
<polygon fill="#007999" stroke="#007999" points="617.24,-40.04 622.56,-30.88 612.69,-34.72 617.24,-40.04"/>
<text text-anchor="middle" x="616.75" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#007999">Uh.</text>
</g>
<!-- Node009&#45;&gt;Node999 -->
<g id="edge23" class="edge">
<title>Node009&#45;&gt;Node999</title>
<path fill="none" stroke="#998c00" d="M214.27,-137.75C219.36,-107.65 230.74,-74.26 255.5,-54 282.16,-32.18 512.38,-22.91 604.82,-20.05"/>
<polygon fill="#998c00" stroke="#998c00" points="604.75,-23.52 614.64,-19.72 604.54,-16.52 604.75,-23.52"/>
<text text-anchor="middle" x="271.75" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#998c00">Bye.</text>
</g>
<!-- Node009&#45;&gt;Node999 -->
<g id="edge24" class="edge">
<title>Node009&#45;&gt;Node999</title>
<path fill="none" stroke="#600099" d="M243.21,-139.33C262.25,-108.26 289.39,-73.55 323.75,-54 371,-27.12 531.49,-20.88 605.3,-19.44"/>
<polygon fill="#600099" stroke="#600099" points="605.01,-22.92 614.95,-19.25 604.89,-15.93 605.01,-22.92"/>
<text text-anchor="middle" x="355.12" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#600099">Nothing.</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge19" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#0d0099" d="M1067.09,-175.1C1035.5,-149.09 985.4,-111.45 936,-89.25 849,-50.16 737.28,-31.11 680.2,-23.39"/>
<polygon fill="#0d0099" stroke="#0d0099" points="680.91,-19.82 670.54,-22 680,-26.76 680.91,-19.82"/>
<text text-anchor="middle" x="913.25" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#0d0099">Damn.</text>
</g>
<!-- Node007&#45;&gt;Node999 -->
<g id="edge20" class="edge">
<title>Node007&#45;&gt;Node999</title>
<path fill="none" stroke="#209900" d="M1078.73,-174.5C1051.26,-139.31 999.93,-81.46 941,-54 895.6,-32.85 750.27,-23.72 680.74,-20.49"/>
<polygon fill="#209900" stroke="#209900" points="681.01,-16.96 670.87,-20.01 680.7,-23.95 681.01,-16.96"/>
<text text-anchor="middle" x="999.38" y="-57.95" font-family="Times,serif" font-size="14.00" fill="#209900">Nuf Said.</text>
</g>
</g>
</svg>
<script>window.Codes = {"checkPartyMembersNearDoor":"if (party_member_obj(16777278) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777278)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777376) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777376)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777377) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777377)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777305) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777305)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777313) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777313)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777323) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777323)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777352) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777352)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777378) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777378)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777368) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777368)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777379) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777379)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777380) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777380)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777295) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777295)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777381) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777381)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777407) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777407)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777411) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777411)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777412) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777412)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777413) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777413)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777481) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777481)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777558) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777558)) <= 5) then begin\n    return 1;\n  end\nend\nif (party_member_obj(16777600) != 0) then begin\n  if (tile_distance_objs(self_obj, party_member_obj(16777600)) <= 5) then begin\n    return 1;\n  end\nend\nreturn 0;\n","start":"[]","critter_p_proc":"if (obj_can_see_obj(self_obj, dude_obj)) then begin\n  if ((local_var(4) bwand 2) != 0) then begin\n    if (critter_is_fleeing(self_obj)) then begin\n      if (anim_busy(self_obj) == 0) then begin\n        if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin\n          if (anim_busy(self_obj) == 0) then begin\n            global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));\n            animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n            global_temp := (global_temp + 1) % 6;\n            while((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin\n              debug_msg(\"flee loop: rot == \" + global_temp);\n              animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);\n              global_temp := (global_temp + 1) % 6;\n            end\n          end\n        end\n      end\n    end\n    else begin\n      attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\n    end\n  end\nend\n","pickup_p_proc":"if (source_obj == dude_obj) then begin\n  call Node998;\nend\n","talk_p_proc":"if ((game_time_hour <= 600) or (game_time_hour >= 1800)) then begin\n  call Node001;\nend\nelse begin\n  if ((global_var(371) == 2) and ((global_var(446) bwand 256) != 0)) then begin\n    if (get_critter_stat(dude_obj, 4) <= 3) then begin\n      call Node010;\n    end\n    else begin\n      if ((global_var(446) bwand 4) != 0) then begin\n        if (in_dialog == 0) then begin\n          in_dialog := 1;\n          start_gdialog(904, self_obj, 4, -1, -1);\n          gsay_start;\n          call Node005;\n          gsay_end;\n          end_dialogue;\n          in_dialog := 0;\n        end\n        else begin\n          call Node005;\n        end\n      end\n      else begin\n        if (in_dialog == 0) then begin\n          in_dialog := 1;\n          start_gdialog(904, self_obj, 4, -1, -1);\n          gsay_start;\n          call Node004;\n          gsay_end;\n          end_dialogue;\n          in_dialog := 0;\n        end\n        else begin\n          call Node004;\n        end\n      end\n    end\n  end\n  else begin\n    if ((global_var(446) bwand 4) != 0) then begin\n      call Node003;\n    end\n    else begin\n      call Node002;\n    end\n  end\nend\nset_local_var(4, local_var(4) bwor 1);\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(5, global_var(5) + 1);\n  if (metarule(51, self_obj) == 2) then begin\n    if (source_obj == dude_obj) then begin\n      set_global_var(2, 0);\n      set_global_var(1, global_var(1) + 1);\n      set_global_var(0, global_var(0) - -15);\n      set_global_var(37, 0);\n      set_global_var(38, 0);\n      set_global_var(39, 0);\n      set_global_var(40, 0);\n      set_global_var(41, 0);\n      set_global_var(42, 0);\n      set_global_var(43, 0);\n      set_global_var(44, 0);\n      set_global_var(45, 0);\n      if (global_var(0) >= 1000) then begin\n        set_global_var(37, 1);\n      end\n      else begin\n        if (global_var(0) >= 750) then begin\n          set_global_var(38, 1);\n        end\n        else begin\n          if (global_var(0) >= 500) then begin\n            set_global_var(39, 1);\n          end\n          else begin\n            if (global_var(0) >= 250) then begin\n              set_global_var(40, 1);\n            end\n            else begin\n              if (global_var(0) > -250) then begin\n                set_global_var(41, 1);\n              end\n              else begin\n                if (global_var(0) > -500) then begin\n                  set_global_var(42, 1);\n                end\n                else begin\n                  if (global_var(0) > -750) then begin\n                    set_global_var(43, 1);\n                  end\n                  else begin\n                    if (global_var(0) > -1000) then begin\n                      set_global_var(44, 1);\n                    end\n                    else begin\n                      set_global_var(45, 1);\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin\n    set_global_var(2, 1);\n    set_global_var(3, 0);\n  end\n  if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin\n    set_global_var(3, 1);\n    set_global_var(2, 0);\n  end\n  set_global_var(0, global_var(0) + -10);\n  debug_msg(\"Player gains \" + -10 + \" Karma Points.\");\n  set_global_var(37, 0);\n  set_global_var(38, 0);\n  set_global_var(39, 0);\n  set_global_var(40, 0);\n  set_global_var(41, 0);\n  set_global_var(42, 0);\n  set_global_var(43, 0);\n  set_global_var(44, 0);\n  set_global_var(45, 0);\n  if (global_var(0) >= 1000) then begin\n    set_global_var(37, 1);\n  end\n  else begin\n    if (global_var(0) >= 750) then begin\n      set_global_var(38, 1);\n    end\n    else begin\n      if (global_var(0) >= 500) then begin\n        set_global_var(39, 1);\n      end\n      else begin\n        if (global_var(0) >= 250) then begin\n          set_global_var(40, 1);\n        end\n        else begin\n          if (global_var(0) > -250) then begin\n            set_global_var(41, 1);\n          end\n          else begin\n            if (global_var(0) > -500) then begin\n              set_global_var(42, 1);\n            end\n            else begin\n              if (global_var(0) > -750) then begin\n                set_global_var(43, 1);\n              end\n              else begin\n                if (global_var(0) > -1000) then begin\n                  set_global_var(44, 1);\n                end\n                else begin\n                  set_global_var(45, 1);\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend\nset_global_var(445, global_var(445) bwor 2048);\n","look_at_p_proc":"script_overrides;\ndisplay_msg(message_str(904, 100 + ((local_var(4) bwand 1) != 0)));\n","description_p_proc":"script_overrides;\ndisplay_msg(message_str(904, 150));\nset_local_var(4, local_var(4) bwor 4);\n","use_skill_on_p_proc":"[]","damage_p_proc":"if (source_obj == dude_obj) then begin\n  set_local_var(4, local_var(4) bwor 8);\n  set_local_var(4, local_var(4) bwor 2);\nend\n","map_enter_p_proc":"if (metarule(22, 0) == 0) then begin\n  if (metarule(14, 0)) then begin\n    critter_add_trait(self_obj, 1, 6, 8);\n    critter_add_trait(self_obj, 1, 5, 11);\n  end\n  metarule3(100, self_obj, 1, 0);\n  add_timer_event(self_obj, game_ticks(random(10, 60)), 1);\nend\n","map_exit_p_proc":"[]","timed_event_p_proc":"if (fixed_param == 1) then begin\n  if ((combat_is_initialized == 0) and random(0, 1) and (((game_time_hour <= 600) or (game_time_hour >= 1800)) == 0)) then begin\n    if (tile_distance(tile_num(self_obj), local_var(7)) > 20) then begin\n      animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num(self_obj), local_var(7)), random(5, 10)), 0);\n    end\n    else begin\n      animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), random(0, 5), random(5, 10)), 0);\n    end\n    metarule3(100, self_obj, 1, 0);\n    add_timer_event(self_obj, game_ticks(random(10, 60)), 1);\n  end\nend\n","Node998":"set_local_var(4, local_var(4) bwor 2);\n","Node999":"[]","Node001":"float_msg(self_obj, message_str(904, random(200, 207)), 8);\n","Node002":"float_msg(self_obj, message_str(904, random(220, 228)), 8);\n","Node003":"float_msg(self_obj, message_str(904, random(240, 252)), 8);\n","Node004":"set_global_var(446, global_var(446) bwor 4);\ngsay_reply(904, 260);\ngiq_option(4, 904, 261, Node006, 50);\ngiq_option(4, 904, 262, Node008, 50);\ngiq_option(4, 904, 263, Node999, 50);\n","Node005":"gsay_reply(904, 270);\ngiq_option(4, 904, 271, Node008, 50);\ngiq_option(4, 904, 272, Node009, 50);\ngiq_option(4, 904, 273, Node999, 50);\n","Node006":"gsay_reply(904, 280);\ngiq_option(4, 904, 281, Node007, 50);\ngiq_option(4, 904, 282, Node008, 50);\ngiq_option(4, 904, 283, Node999, 50);\n","Node007":"gsay_reply(904, 290 + (get_critter_stat(dude_obj, 34) == 1));\ngiq_option(4, 904, 292, Node999, 50);\ngiq_option(4, 904, 293, Node999, 50);\n","Node008":"gsay_reply(904, 300 + local_var(5));\nif (local_var(5) < 4) then begin\n  set_local_var(5, local_var(5) + 1);\nend\ngiq_option(4, 904, 305, Node999, 50);\ngiq_option(4, 904, 306, Node999, 50);\n","Node009":"gsay_reply(904, 310 + local_var(6));\nif (local_var(6) < 2) then begin\n  set_local_var(6, local_var(6) + 1);\nend\ngiq_option(4, 904, 313, Node999, 50);\ngiq_option(4, 904, 314, Node999, 50);\n","Node010":"set_global_var(446, global_var(446) bwor 4);\nfloat_msg(self_obj, message_str(904, random(320, 321)), 8);\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(name, code, x, y) {
    $('#thecode').show();
    $('#thecode').text("# " + name + "\n" + code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(nodeName, Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>