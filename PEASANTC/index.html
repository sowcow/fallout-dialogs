<!DOCTYPE html><html><head><title>PEASANTC</title><meta charset="utf-8" /></head><body><svg width="920pt" height="1299pt"
 viewBox="0.00 0.00 919.64 1298.98" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1294.98)">
<title>PEASANTC</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1294.98 915.643,-1294.98 915.643,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-1272.98" rx="27" ry="18"/>
</g>
<!-- destroy_p_proc -->
<g id="node2" class="node"><title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-1148.69" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;destroy_p_proc -->
<g id="edge1" class="edge"><title>start&#45;&gt;destroy_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M146.941,-1264.8C123.165,-1256.67 86.9701,-1241.45 63,-1217.98 51.0527,-1206.29 42.2016,-1189.78 36.2657,-1175.92"/>
<polygon fill="#555555" stroke="#555555" points="39.4222,-1174.39 32.4561,-1166.41 32.9237,-1176.99 39.4222,-1174.39"/>
</g>
<!-- map_enter_p_proc -->
<g id="node3" class="node"><title>map_enter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="99" cy="-1148.69" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;map_enter_p_proc -->
<g id="edge2" class="edge"><title>start&#45;&gt;map_enter_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M159.849,-1256.19C152.504,-1245.57 142.833,-1231.15 135,-1217.98 126.756,-1204.12 118.308,-1188.2 111.67,-1175.22"/>
<polygon fill="#555555" stroke="#555555" points="114.617,-1173.29 106.979,-1165.95 108.371,-1176.45 114.617,-1173.29"/>
</g>
<!-- map_update_p_proc -->
<g id="node4" class="node"><title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-1148.69" rx="27" ry="18"/>
</g>
<!-- start&#45;&gt;map_update_p_proc -->
<g id="edge3" class="edge"><title>start&#45;&gt;map_update_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M171,-1254.98C171,-1234.83 171,-1200.99 171,-1177.12"/>
<polygon fill="#555555" stroke="#555555" points="174.5,-1176.94 171,-1166.94 167.5,-1176.94 174.5,-1176.94"/>
</g>
<!-- pickup_p_proc -->
<g id="node5" class="node"><title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="312" cy="-1148.69" rx="96.3833" ry="18"/>
<text text-anchor="middle" x="312" y="-1144.99" font-family="Times,serif" font-size="14.00">Please leave me alone!</text>
</g>
<!-- start&#45;&gt;pickup_p_proc -->
<g id="edge4" class="edge"><title>start&#45;&gt;pickup_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M186.9,-1258.19C210.732,-1237.52 256.01,-1198.25 285.06,-1173.05"/>
<polygon fill="#555555" stroke="#555555" points="287.532,-1175.54 292.793,-1166.35 282.945,-1170.26 287.532,-1175.54"/>
</g>
<!-- talk_p_proc -->
<g id="node6" class="node"><title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="538" cy="-1148.69" rx="111.946" ry="69.0935"/>
<text text-anchor="middle" x="538" y="-1182.49" font-family="Times,serif" font-size="14.00">Please leave me alone!</text>
<text text-anchor="middle" x="538" y="-1167.49" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="538" y="-1152.49" font-family="Times,serif" font-size="14.00">Get out of here!</text>
<text text-anchor="middle" x="538" y="-1137.49" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="538" y="-1122.49" font-family="Times,serif" font-size="14.00">I&#39;ve heard bad things</text>
<text text-anchor="middle" x="538" y="-1107.49" font-family="Times,serif" font-size="14.00">about you, are they true?</text>
</g>
<!-- start&#45;&gt;talk_p_proc -->
<g id="edge5" class="edge"><title>start&#45;&gt;talk_p_proc</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M191.559,-1261.13C196.513,-1258.83 201.862,-1256.62 207,-1254.98 297.317,-1226.27 327.786,-1249.96 417,-1217.98 428.378,-1213.91 439.937,-1208.81 451.171,-1203.25"/>
<polygon fill="#555555" stroke="#555555" points="452.78,-1206.35 460.101,-1198.7 449.602,-1200.12 452.78,-1206.35"/>
</g>
<!-- sleeping -->
<g id="node8" class="node"><title>sleeping</title>
<ellipse fill="#ffffff" stroke="#000000" cx="171" cy="-1015.52" rx="27" ry="18"/>
</g>
<!-- map_update_p_proc&#45;&gt;sleeping -->
<g id="edge6" class="edge"><title>map_update_p_proc&#45;&gt;sleeping</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M171,-1130.54C171,-1108.45 171,-1069.78 171,-1043.67"/>
<polygon fill="#555555" stroke="#555555" points="174.5,-1043.67 171,-1033.67 167.5,-1043.67 174.5,-1043.67"/>
</g>
<!-- PeasantC00 -->
<g id="node9" class="node"><title>PeasantC00</title>
<ellipse fill="#ffffff" stroke="#000000" cx="538" cy="-1015.52" rx="106.132" ry="26.7407"/>
<text text-anchor="middle" x="538" y="-1019.32" font-family="Times,serif" font-size="14.00">I hope you&#39;re not going</text>
<text text-anchor="middle" x="538" y="-1004.32" font-family="Times,serif" font-size="14.00">to kick me out of here.</text>
</g>
<!-- talk_p_proc&#45;&gt;PeasantC00 -->
<g id="edge7" class="edge"><title>talk_p_proc&#45;&gt;PeasantC00</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M538,-1079.03C538,-1069.88 538,-1060.81 538,-1052.53"/>
<polygon fill="#555555" stroke="#555555" points="541.5,-1052.52 538,-1042.52 534.5,-1052.52 541.5,-1052.52"/>
</g>
<!-- damage_p_proc -->
<g id="node7" class="node"><title>damage_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="243" cy="-1272.98" rx="27" ry="18"/>
</g>
<!-- PeasantCEnd -->
<g id="node10" class="node"><title>PeasantCEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="462" cy="-26.8701" rx="27" ry="18"/>
</g>
<!-- PeasantC00&#45;&gt;PeasantCEnd -->
<g id="edge8" class="edge"><title>PeasantC00&#45;&gt;PeasantCEnd</title>
<path fill="none" stroke="#993e00" d="M494.665,-990.9C457.531,-967.14 410,-926.734 410,-875.568 410,-875.568 410,-875.568 410,-300.316 410,-208.574 438.801,-102.486 453.534,-54.2184"/>
<polygon fill="#993e00" stroke="#993e00" points="456.912,-55.1439 456.533,-44.5559 450.226,-53.0689 456.912,-55.1439"/>
<text text-anchor="middle" x="420.5" y="-614.191" font-family="Times,serif" font-size="14.00" fill="#993e00">No.</text>
</g>
<!-- PeasantC00a -->
<g id="node11" class="node"><title>PeasantC00a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="539" cy="-874.568" rx="27" ry="18"/>
</g>
<!-- PeasantC00&#45;&gt;PeasantC00a -->
<g id="edge9" class="edge"><title>PeasantC00&#45;&gt;PeasantC00a</title>
<path fill="none" stroke="#110099" d="M538.188,-988.385C538.364,-964.005 538.624,-927.771 538.803,-902.986"/>
<polygon fill="#110099" stroke="#110099" points="542.304,-902.836 538.876,-892.811 535.304,-902.785 542.304,-902.836"/>
<text text-anchor="middle" x="603" y="-959.451" font-family="Times,serif" font-size="14.00" fill="#110099">That&#39;s a strange way to</text>
<text text-anchor="middle" x="603" y="-944.451" font-family="Times,serif" font-size="14.00" fill="#110099">start a conversation.</text>
</g>
<!-- PeasantC01 -->
<g id="node12" class="node"><title>PeasantC01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="691" cy="-874.568" rx="107.46" ry="48.1667"/>
<text text-anchor="middle" x="691" y="-893.368" font-family="Times,serif" font-size="14.00">Oh, well, if you want to</text>
<text text-anchor="middle" x="691" y="-878.368" font-family="Times,serif" font-size="14.00">stay a while, go right</text>
<text text-anchor="middle" x="691" y="-863.368" font-family="Times,serif" font-size="14.00">ahead. I think we are</text>
<text text-anchor="middle" x="691" y="-848.368" font-family="Times,serif" font-size="14.00"> safe here.</text>
</g>
<!-- PeasantC00&#45;&gt;PeasantC01 -->
<g id="edge10" class="edge"><title>PeasantC00&#45;&gt;PeasantC01</title>
<path fill="none" stroke="#1b9900" d="M624.055,-999.578C640.868,-993.119 656.984,-983.876 669,-970.651 678.443,-960.257 684.078,-946.626 687.38,-932.945"/>
<polygon fill="#1b9900" stroke="#1b9900" points="690.836,-933.515 689.394,-923.019 683.976,-932.123 690.836,-933.515"/>
<text text-anchor="middle" x="702" y="-951.951" font-family="Times,serif" font-size="14.00" fill="#1b9900">Hnnn.</text>
</g>
<!-- PeasantC03 -->
<g id="node13" class="node"><title>PeasantC03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="539" cy="-720.188" rx="101.233" ry="69.0935"/>
<text text-anchor="middle" x="539" y="-753.988" font-family="Times,serif" font-size="14.00">Well, it&#39;s true. After</text>
<text text-anchor="middle" x="539" y="-738.988" font-family="Times,serif" font-size="14.00">what happened to my</text>
<text text-anchor="middle" x="539" y="-723.988" font-family="Times,serif" font-size="14.00">friends, I gotta protect</text>
<text text-anchor="middle" x="539" y="-708.988" font-family="Times,serif" font-size="14.00">my</text>
<text text-anchor="middle" x="539" y="-693.988" font-family="Times,serif" font-size="14.00">turf. I just hope you&#39;re</text>
<text text-anchor="middle" x="539" y="-678.988" font-family="Times,serif" font-size="14.00">not gonna kill me.</text>
</g>
<!-- PeasantC00a&#45;&gt;PeasantC03 -->
<g id="edge11" class="edge"><title>PeasantC00a&#45;&gt;PeasantC03</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M539,-856.384C539,-842.273 539,-821.206 539,-799.876"/>
<polygon fill="#555555" stroke="#555555" points="542.5,-799.749 539,-789.749 535.5,-799.749 542.5,-799.749"/>
</g>
<!-- PeasantC02 -->
<g id="node14" class="node"><title>PeasantC02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="753" cy="-720.188" rx="94.5053" ry="58.8803"/>
<text text-anchor="middle" x="753" y="-746.488" font-family="Times,serif" font-size="14.00">Well, you gotta be</text>
<text text-anchor="middle" x="753" y="-731.488" font-family="Times,serif" font-size="14.00">careful these days. I</text>
<text text-anchor="middle" x="753" y="-716.488" font-family="Times,serif" font-size="14.00">hope you&#39;re having a</text>
<text text-anchor="middle" x="753" y="-701.488" font-family="Times,serif" font-size="14.00">better life</text>
<text text-anchor="middle" x="753" y="-686.488" font-family="Times,serif" font-size="14.00"> than I am.</text>
</g>
<!-- PeasantC00a&#45;&gt;PeasantC02 -->
<g id="edge12" class="edge"><title>PeasantC00a&#45;&gt;PeasantC02</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M548.495,-857.666C555.008,-847.758 564.373,-835.27 575,-826.484 603.34,-803.055 617.133,-807.83 649,-789.484 659.635,-783.362 670.672,-776.593 681.409,-769.766"/>
<polygon fill="#555555" stroke="#555555" points="683.416,-772.637 689.941,-764.29 679.635,-766.746 683.416,-772.637"/>
</g>
<!-- PeasantC03&#45;&gt;PeasantCEnd -->
<g id="edge15" class="edge"><title>PeasantC03&#45;&gt;PeasantCEnd</title>
<path fill="none" stroke="#999100" d="M510.646,-653.649C502.404,-632.114 494.224,-607.814 489,-584.891 443.652,-385.89 454.681,-136.911 459.988,-55.2104"/>
<polygon fill="#999100" stroke="#999100" points="463.494,-55.2392 460.677,-45.0256 456.51,-54.7664 463.494,-55.2392"/>
<text text-anchor="middle" x="488.5" y="-519.691" font-family="Times,serif" font-size="14.00" fill="#999100">No.</text>
</g>
<!-- PeasantC04 -->
<g id="node15" class="node"><title>PeasantC04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="532" cy="-566.891" rx="33.5952" ry="18"/>
<text text-anchor="middle" x="532" y="-563.191" font-family="Times,serif" font-size="14.00">Gack!</text>
</g>
<!-- PeasantC03&#45;&gt;PeasantC04 -->
<g id="edge13" class="edge"><title>PeasantC03&#45;&gt;PeasantC04</title>
<path fill="none" stroke="#990048" d="M533.91,-650.904C533.56,-644.815 533.248,-638.743 533,-632.891 532.473,-620.46 532.214,-606.68 532.09,-595.019"/>
<polygon fill="#990048" stroke="#990048" points="535.59,-594.978 532.011,-585.006 528.591,-595.033 535.59,-594.978"/>
<text text-anchor="middle" x="592" y="-621.691" font-family="Times,serif" font-size="14.00" fill="#990048">No, I won&#39;t hurt you.</text>
<text text-anchor="middle" x="592" y="-606.691" font-family="Times,serif" font-size="14.00" fill="#990048">Much.</text>
</g>
<!-- PeasantC03a -->
<g id="node16" class="node"><title>PeasantC03a</title>
<ellipse fill="#ffffff" stroke="#000000" cx="673" cy="-566.891" rx="27" ry="18"/>
</g>
<!-- PeasantC03&#45;&gt;PeasantC03a -->
<g id="edge14" class="edge"><title>PeasantC03&#45;&gt;PeasantC03a</title>
<path fill="none" stroke="#007599" d="M612.614,-672.53C626.814,-660.936 640.512,-647.572 651,-632.891 659.062,-621.607 664.341,-607.145 667.701,-594.729"/>
<polygon fill="#007599" stroke="#007599" points="671.13,-595.439 670.091,-584.895 664.328,-593.786 671.13,-595.439"/>
<text text-anchor="middle" x="727.5" y="-614.191" font-family="Times,serif" font-size="14.00" fill="#007599">Why do you say that?</text>
</g>
<!-- PeasantC06 -->
<g id="node17" class="node"><title>PeasantC06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="613" cy="-301.316" rx="123.073" ry="196.651"/>
<text text-anchor="middle" x="613" y="-425.116" font-family="Times,serif" font-size="14.00">Those &#39;helpful&#39; healing</text>
<text text-anchor="middle" x="613" y="-410.116" font-family="Times,serif" font-size="14.00">guys wanted my friend&#39;s</text>
<text text-anchor="middle" x="613" y="-395.116" font-family="Times,serif" font-size="14.00">place, so they took it.</text>
<text text-anchor="middle" x="613" y="-380.116" font-family="Times,serif" font-size="14.00">I don&#39;t know what</text>
<text text-anchor="middle" x="613" y="-365.116" font-family="Times,serif" font-size="14.00">happened to my friends.</text>
<text text-anchor="middle" x="613" y="-350.116" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="613" y="-335.116" font-family="Times,serif" font-size="14.00">There&#39;s nobody around to</text>
<text text-anchor="middle" x="613" y="-320.116" font-family="Times,serif" font-size="14.00">help me.</text>
<text text-anchor="middle" x="613" y="-305.116" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="613" y="-290.116" font-family="Times,serif" font-size="14.00">Gizmo laughed at me when</text>
<text text-anchor="middle" x="613" y="-275.116" font-family="Times,serif" font-size="14.00">I asked for his help.</text>
<text text-anchor="middle" x="613" y="-260.116" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="613" y="-245.116" font-family="Times,serif" font-size="14.00">Killian is too busy</text>
<text text-anchor="middle" x="613" y="-230.116" font-family="Times,serif" font-size="14.00">cleaning up Gizmo&#39;s mess</text>
<text text-anchor="middle" x="613" y="-215.116" font-family="Times,serif" font-size="14.00">to help.</text>
<text text-anchor="middle" x="613" y="-200.116" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="613" y="-185.116" font-family="Times,serif" font-size="14.00">And Killian is too busy</text>
<text text-anchor="middle" x="613" y="-170.116" font-family="Times,serif" font-size="14.00">to help me.</text>
</g>
<!-- PeasantC03a&#45;&gt;PeasantC06 -->
<g id="edge16" class="edge"><title>PeasantC03a&#45;&gt;PeasantC06</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M669.155,-549.003C666.283,-536.383 662.014,-517.631 657.09,-496"/>
<polygon fill="#555555" stroke="#555555" points="660.496,-495.192 654.863,-486.219 653.67,-496.746 660.496,-495.192"/>
</g>
<!-- PeasantC05 -->
<g id="node18" class="node"><title>PeasantC05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="833" cy="-301.316" rx="78.7863" ry="18"/>
<text text-anchor="middle" x="833" y="-297.616" font-family="Times,serif" font-size="14.00">No reason. Really.</text>
</g>
<!-- PeasantC03a&#45;&gt;PeasantC05 -->
<g id="edge17" class="edge"><title>PeasantC03a&#45;&gt;PeasantC05</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M690.258,-552.874C706.116,-540.217 729.451,-519.746 745,-497.891 783.935,-443.168 811.692,-368.463 824.693,-329.104"/>
<polygon fill="#555555" stroke="#555555" points="828.072,-330.031 827.822,-319.439 821.412,-327.874 828.072,-330.031"/>
</g>
<!-- PeasantC06&#45;&gt;PeasantCEnd -->
<g id="edge19" class="edge"><title>PeasantC06&#45;&gt;PeasantCEnd</title>
<path fill="none" stroke="#009938" d="M531.533,-153.327C509.986,-114.45 489.091,-76.7494 475.927,-52.9981"/>
<polygon fill="#009938" stroke="#009938" points="478.854,-51.0585 470.945,-44.0087 472.731,-54.4519 478.854,-51.0585"/>
<text text-anchor="middle" x="538" y="-75.5401" font-family="Times,serif" font-size="14.00" fill="#009938">That&#39;s a shame.</text>
</g>
<!-- PeasantC07 -->
<g id="node19" class="node"><title>PeasantC07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="613" cy="-26.8701" rx="105.218" ry="26.7407"/>
<text text-anchor="middle" x="613" y="-30.6701" font-family="Times,serif" font-size="14.00">I hope so, I really hope</text>
<text text-anchor="middle" x="613" y="-15.6701" font-family="Times,serif" font-size="14.00">so.</text>
</g>
<!-- PeasantC06&#45;&gt;PeasantC07 -->
<g id="edge18" class="edge"><title>PeasantC06&#45;&gt;PeasantC07</title>
<path fill="none" stroke="#640099" d="M613,-104.486C613,-89.459 613,-75.6371 613,-63.9928"/>
<polygon fill="#640099" stroke="#640099" points="616.5,-63.9392 613,-53.9393 609.5,-63.9393 616.5,-63.9392"/>
<text text-anchor="middle" x="653" y="-75.5401" font-family="Times,serif" font-size="14.00" fill="#640099">Are you safe?</text>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (script_action == 18) then begin\n  call destroy_p_proc;\nend\nelse begin\n  if (script_action == 15) then begin\n    call map_enter_p_proc;\n  end\n  else begin\n    if (script_action == 23) then begin\n      call map_update_p_proc;\n    end\n    else begin\n      if (script_action == 4) then begin\n        call pickup_p_proc;\n      end\n      else begin\n        if (script_action == 11) then begin\n          call talk_p_proc;\n        end\n      end\n    end\n  end\nend\n","damage_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(247, 1);\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  set_global_var(247, 1);\n  if (source_obj == dude_obj) then begin\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n      set_global_var(156, 1);\n      set_global_var(157, 0);\n    end\n    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n      set_global_var(157, 1);\n      set_global_var(156, 0);\n    end\n    set_global_var(159, global_var(159) + 1);\n    if ((global_var(159) % 2) == 0) then begin\n      set_global_var(155, global_var(155) - 1);\n    end\n  end\nend\n","map_enter_p_proc":"if (map_var(2) == 1) then begin\n  set_obj_visibility(self_obj, 1);\n  removal_ptr := self_obj;\nend\nelse begin\n  sleep_time := random(2215, 2230);\n  wake_time := random(715, 730);\n  if ((game_time / (10 * 60 * 60 * 24)) < 80) then begin\n    sleep_tile := 15275;\n    home_tile := 14267;\n  end\n  else begin\n    sleep_tile := 23524;\n    home_tile := 23923;\n  end\nend\n","map_update_p_proc":"call sleeping;\n","pickup_p_proc":"set_local_var(1, 1);\nfloat_msg(self_obj, message_str(438, 124), 2);\n","talk_p_proc":"if (local_var(2) == 1) then begin\n  float_msg(self_obj, message_str(185, 166), 0);\nend\nelse begin\n  if (local_var(1) == 1) then begin\n    float_msg(self_obj, message_str(438, 124), 2);\n  end\n  else begin\n    if ((game_time / (10 * 60 * 60 * 24)) < 80) then begin\n      set_local_var(0, 1);\n      if (global_var(247) == 1) then begin\n        float_msg(self_obj, message_str(438, 100), 2);\n      end\n      else begin\n        if (global_var(155) < -10) then begin\n          float_msg(self_obj, message_str(438, 101), 7);\n        end\n        else begin\n          if (get_critter_stat(dude_obj, 34) == 0) then begin\n            float_msg(self_obj, message_str(438, random(102, 103)), 3);\n          end\n          else begin\n            float_msg(self_obj, message_str(438, random(102, 104)), 3);\n          end\n        end\n      end\n    end\n    else begin\n      set_map_var(2, 1);\n      start_gdialog(438, self_obj, 4, -1, -1);\n      gsay_start;\n      call PeasantC00;\n      gsay_end;\n      end_dialogue;\n    end\n  end\nend\n","PeasantC00":"gsay_reply(438, 105);\ngiq_option(4, 438, 106, PeasantCEnd, 50);\ngiq_option(5, 438, 107, PeasantC00a, 50);\ngiq_option(-3, 438, 108, PeasantC01, 50);\n","PeasantC00a":"if (is_success(roll_vs_skill(dude_obj, 14, 0))) then begin\n  call PeasantC03;\nend\nelse begin\n  call PeasantC02;\nend\n","PeasantC01":"gsay_message(438, 109, 50);\n","PeasantC02":"gsay_message(438, 110, 50);\n","PeasantC03":"gsay_reply(438, 111);\ngiq_option(5, 438, 112, PeasantC04, 51);\ngiq_option(6, 438, 113, PeasantC03a, 50);\ngiq_option(4, 438, 106, PeasantCEnd, 50);\n","PeasantC03a":"if (is_success(roll_vs_skill(dude_obj, 14, -10))) then begin\n  call PeasantC06;\nend\nelse begin\n  call PeasantC05;\nend\n","PeasantC04":"set_local_var(1, 1);\ngsay_message(438, 114, 51);\n","PeasantC05":"gsay_message(438, 115, 50);\n","PeasantC06":"variable LVar0 := 0;\nLVar0 := message_str(438, 116);\nif (global_var(37) == 1) then begin\n  if (global_var(38) == 1) then begin\n    LVar0 := LVar0 + message_str(438, 120);\n  end\n  else begin\n    LVar0 := LVar0 + message_str(438, 119);\n  end\nend\nelse begin\n  if (global_var(38) == 1) then begin\n    LVar0 := LVar0 + message_str(438, 118);\n  end\n  else begin\n    LVar0 := LVar0 + message_str(438, 117);\n  end\nend\ngsay_reply(438, LVar0);\ngiq_option(5, 438, 121, PeasantC07, 50);\ngiq_option(5, 438, 122, PeasantCEnd, 50);\n","PeasantC07":"gsay_message(438, 123, 50);\n","PeasantCEnd":"[]","sleeping":"if (local_var(2) == 1) then begin\n  if (not(night_person) and (game_time_hour >= wake_time) and (game_time_hour < sleep_time) or (night_person and ((game_time_hour >= wake_time) or (game_time_hour < sleep_time)))) then begin\n    if (((game_time_hour - wake_time) < 10) and ((game_time_hour - wake_time) > 0)) then begin\n      if (tile_num(self_obj) != home_tile) then begin\n        animate_move_obj_to_tile(self_obj, home_tile, 0);\n      end\n      else begin\n        set_local_var(2, 0);\n      end\n    end\n    else begin\n      move_to(self_obj, home_tile, elevation(self_obj));\n      if (tile_num(self_obj) == home_tile) then begin\n        set_local_var(2, 0);\n      end\n    end\n  end\nend\nelse begin\n  if (night_person and (game_time_hour >= sleep_time) and (game_time_hour < wake_time) or (not(night_person) and ((game_time_hour >= sleep_time) or (game_time_hour < wake_time)))) then begin\n    if (((game_time_hour - sleep_time) < 10) and ((game_time_hour - sleep_time) > 0)) then begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        animate_move_obj_to_tile(self_obj, self_obj, 0);\n      end\n      else begin\n        set_local_var(2, 1);\n      end\n    end\n    else begin\n      if (tile_num(self_obj) != sleep_tile) then begin\n        move_to(self_obj, sleep_tile, elevation(self_obj));\n      end\n      else begin\n        set_local_var(2, 1);\n      end\n    end\n  end\nend\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script type="text/javascript">(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>