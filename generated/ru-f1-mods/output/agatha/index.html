<!DOCTYPE html><html><head><title>agatha</title><meta charset="utf-8" /></head><body><svg width="2497pt" height="1731pt"
 viewBox="0.00 0.00 2496.75 1730.68" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1726.68)">
<title>agatha</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1726.68 2492.75,-1726.68 2492.75,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="#000000" cx="27" cy="-1631.64" rx="27" ry="18"/>
</g>
<!-- look_at_p_proc -->
<g id="node2" class="node">
<title>look_at_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="226" cy="-1631.64" rx="153.97" ry="91.04"/>
<text text-anchor="middle" x="226" y="-1678.72" font-family="Times,serif" font-size="14.00">Агата &#45; седая морщинистая</text>
<text text-anchor="middle" x="226" y="-1661.47" font-family="Times,serif" font-size="14.00">женщина. Для своего</text>
<text text-anchor="middle" x="226" y="-1644.22" font-family="Times,serif" font-size="14.00">возраста она держится</text>
<text text-anchor="middle" x="226" y="-1626.97" font-family="Times,serif" font-size="14.00">довольно бодро.</text>
<text text-anchor="middle" x="226" y="-1609.72" font-family="Times,serif" font-size="14.00">&#45;&#45;&#45;</text>
<text text-anchor="middle" x="226" y="-1592.47" font-family="Times,serif" font-size="14.00">Вы видите пожилую</text>
<text text-anchor="middle" x="226" y="-1575.22" font-family="Times,serif" font-size="14.00">женщину.</text>
</g>
<!-- critter_p_proc -->
<g id="node3" class="node">
<title>critter_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="425" cy="-1631.64" rx="27" ry="18"/>
</g>
<!-- pickup_p_proc -->
<g id="node4" class="node">
<title>pickup_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="497" cy="-1631.64" rx="27" ry="18"/>
</g>
<!-- destroy_p_proc -->
<g id="node5" class="node">
<title>destroy_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="569" cy="-1631.64" rx="27" ry="18"/>
</g>
<!-- talk_p_proc -->
<g id="node6" class="node">
<title>talk_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="641" cy="-1631.64" rx="27" ry="18"/>
</g>
<!-- Agatha14 -->
<g id="node7" class="node">
<title>Agatha14</title>
<ellipse fill="#ffffff" stroke="#000000" cx="359" cy="-275.49" rx="152.91" ry="42.25"/>
<text text-anchor="middle" x="359" y="-288.06" font-family="Times,serif" font-size="14.00">Прости, дитя, но я очень</text>
<text text-anchor="middle" x="359" y="-270.81" font-family="Times,serif" font-size="14.00">устала. Мне нужно</text>
<text text-anchor="middle" x="359" y="-253.56" font-family="Times,serif" font-size="14.00">отдохнуть. Приходи позже.</text>
</g>
<!-- talk_p_proc&#45;&gt;Agatha14 -->
<g id="edge1" class="edge">
<title>talk_p_proc&#45;&gt;Agatha14</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M638.38,-1613.43C634.47,-1593.41 625.28,-1560.56 605,-1540.6 524.65,-1461.51 368,-1562.9 368,-1450.15 368,-1450.15 368,-1450.15 368,-710.03 368,-572.52 363.42,-410.52 360.79,-328.99"/>
<polygon fill="#555555" stroke="#555555" points="364.26,-328.91 360.44,-319.03 357.26,-329.14 364.26,-328.91"/>
</g>
<!-- Agatha08 -->
<g id="node8" class="node">
<title>Agatha08</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1584" cy="-1449.15" rx="131.7" ry="54.45"/>
<text text-anchor="middle" x="1584" y="-1470.35" font-family="Times,serif" font-size="14.00">Здравствуй. Это о тебе</text>
<text text-anchor="middle" x="1584" y="-1453.1" font-family="Times,serif" font-size="14.00">здесь все судачат?</text>
<text text-anchor="middle" x="1584" y="-1435.85" font-family="Times,serif" font-size="14.00">[вздыхает] Я могу тебе</text>
<text text-anchor="middle" x="1584" y="-1418.6" font-family="Times,serif" font-size="14.00">помочь?</text>
</g>
<!-- talk_p_proc&#45;&gt;Agatha08 -->
<g id="edge2" class="edge">
<title>talk_p_proc&#45;&gt;Agatha08</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M642.66,-1613.18C645.66,-1592.27 653.99,-1557.91 677,-1540.6 736.74,-1495.66 1202.5,-1467.78 1442.31,-1456.27"/>
<polygon fill="#555555" stroke="#555555" points="1442.38,-1459.72 1452.2,-1455.75 1442.05,-1452.73 1442.38,-1459.72"/>
</g>
<!-- AgathaEnd -->
<g id="node15" class="node">
<title>AgathaEnd</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1172" cy="-42.25" rx="27" ry="18"/>
</g>
<!-- Agatha14&#45;&gt;AgathaEnd -->
<g id="edge24" class="edge">
<title>Agatha14&#45;&gt;AgathaEnd</title>
<path fill="none" stroke="#00996c" d="M410.92,-235.47C441.56,-214.08 481.9,-188.65 521,-172.25 741.18,-79.89 1031.48,-52.53 1134.1,-45.45"/>
<polygon fill="#00996c" stroke="#00996c" points="1134.09,-48.9 1143.83,-44.74 1133.62,-41.91 1134.09,-48.9"/>
<text text-anchor="middle" x="749" y="-123.7" font-family="Times,serif" font-size="14.00" fill="#00996c">Пока.</text>
</g>
<!-- Agatha14&#45;&gt;AgathaEnd -->
<g id="edge25" class="edge">
<title>Agatha14&#45;&gt;AgathaEnd</title>
<path fill="none" stroke="#994000" d="M407.19,-235.14C437.84,-212.49 479.45,-185.88 521,-172.25 628.11,-137.11 662.93,-173.49 774,-154.25 911.87,-130.37 1070.72,-78.43 1138.52,-55.06"/>
<polygon fill="#994000" stroke="#994000" points="1139.3,-58.15 1147.6,-51.57 1137.01,-51.54 1139.3,-58.15"/>
<text text-anchor="middle" x="1007.12" y="-123.7" font-family="Times,serif" font-size="14.00" fill="#994000">Ладно.</text>
</g>
<!-- Agatha15 -->
<g id="node25" class="node">
<title>Agatha15</title>
<ellipse fill="#ffffff" stroke="#000000" cx="359" cy="-42.25" rx="136.47" ry="42.25"/>
<text text-anchor="middle" x="359" y="-54.82" font-family="Times,serif" font-size="14.00">Я плохо сплю по ночам,</text>
<text text-anchor="middle" x="359" y="-37.57" font-family="Times,serif" font-size="14.00">дитя мое. Это все</text>
<text text-anchor="middle" x="359" y="-20.32" font-family="Times,serif" font-size="14.00">старость.</text>
</g>
<!-- Agatha14&#45;&gt;Agatha15 -->
<g id="edge26" class="edge">
<title>Agatha14&#45;&gt;Agatha15</title>
<path fill="none" stroke="#130099" d="M359,-232.88C359,-194.53 359,-137.43 359,-95.91"/>
<polygon fill="#130099" stroke="#130099" points="362.5,-95.91 359,-85.91 355.5,-95.91 362.5,-95.91"/>
<text text-anchor="middle" x="455.75" y="-123.7" font-family="Times,serif" font-size="14.00" fill="#130099">А почему ты так устаешь?</text>
</g>
<!-- Agatha01 -->
<g id="node10" class="node">
<title>Agatha01</title>
<ellipse fill="#ffffff" stroke="#000000" cx="703" cy="-1233.17" rx="142.31" ry="54.45"/>
<text text-anchor="middle" x="703" y="-1254.37" font-family="Times,serif" font-size="14.00">Молодежь &#45; наша</text>
<text text-anchor="middle" x="703" y="-1237.12" font-family="Times,serif" font-size="14.00">единственная надежда.</text>
<text text-anchor="middle" x="703" y="-1219.87" font-family="Times,serif" font-size="14.00">Потеря Танди станет для</text>
<text text-anchor="middle" x="703" y="-1202.62" font-family="Times,serif" font-size="14.00">нас ужасным горем.</text>
</g>
<!-- Agatha08&#45;&gt;Agatha01 -->
<g id="edge15" class="edge">
<title>Agatha08&#45;&gt;Agatha01</title>
<path fill="none" stroke="#009299" d="M1452.51,-1445.2C1272.64,-1439.48 960.4,-1423.02 857.25,-1376.71 815.87,-1358.13 778.29,-1323.96 750.58,-1293.73"/>
<polygon fill="#009299" stroke="#009299" points="753.68,-1291.83 744.39,-1286.73 748.48,-1296.51 753.68,-1291.83"/>
<text text-anchor="middle" x="953.38" y="-1363.41" font-family="Times,serif" font-size="14.00" fill="#009299">Вы можете, рассказать об</text>
<text text-anchor="middle" x="953.38" y="-1346.16" font-family="Times,serif" font-size="14.00" fill="#009299">исчезновении Танди?</text>
</g>
<!-- Agatha08&#45;&gt;AgathaEnd -->
<g id="edge18" class="edge">
<title>Agatha08&#45;&gt;AgathaEnd</title>
<path fill="none" stroke="#00991a" d="M1463.55,-1426.83C1404.54,-1409.66 1338.67,-1378.92 1303,-1324.21 1190.45,-1151.54 1344.39,-599.41 1307,-396.72 1283.33,-268.4 1215.11,-126.4 1185.73,-69.21"/>
<polygon fill="#00991a" stroke="#00991a" points="1188.43,-67.81 1180.72,-60.54 1182.21,-71.03 1188.43,-67.81"/>
<text text-anchor="middle" x="1334" y="-706.36" font-family="Times,serif" font-size="14.00" fill="#00991a">Пока.</text>
</g>
<!-- Agatha06 -->
<g id="node16" class="node">
<title>Agatha06</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1092" cy="-1057.48" rx="157.15" ry="66.64"/>
<text text-anchor="middle" x="1092" y="-1087.31" font-family="Times,serif" font-size="14.00">Говорят, тебе удалось</text>
<text text-anchor="middle" x="1092" y="-1070.06" font-family="Times,serif" font-size="14.00">спасти Танди. Ты</text>
<text text-anchor="middle" x="1092" y="-1052.81" font-family="Times,serif" font-size="14.00">молодчина! У тебя хорошая</text>
<text text-anchor="middle" x="1092" y="-1035.56" font-family="Times,serif" font-size="14.00">карма, и тебя ждет</text>
<text text-anchor="middle" x="1092" y="-1018.31" font-family="Times,serif" font-size="14.00">блестящее будущее!</text>
</g>
<!-- Agatha08&#45;&gt;Agatha06 -->
<g id="edge16" class="edge">
<title>Agatha08&#45;&gt;Agatha06</title>
<path fill="none" stroke="#997300" d="M1451.95,-1448.55C1317.33,-1445.8 1121.62,-1432.03 1073.5,-1376.71 1016.12,-1310.74 1036.61,-1205 1060.71,-1133.7"/>
<polygon fill="#997300" stroke="#997300" points="1064.3,-1135.04 1064.28,-1124.44 1057.68,-1132.73 1064.3,-1135.04"/>
<text text-anchor="middle" x="1171.25" y="-1363.41" font-family="Times,serif" font-size="14.00" fill="#997300">Я разобрался с проблемой</text>
<text text-anchor="middle" x="1171.25" y="-1346.16" font-family="Times,serif" font-size="14.00" fill="#997300">Арадеша.</text>
</g>
<!-- Agatha07 -->
<g id="node17" class="node">
<title>Agatha07</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1458" cy="-1233.17" rx="146.02" ry="54.45"/>
<text text-anchor="middle" x="1458" y="-1254.37" font-family="Times,serif" font-size="14.00">Мне так жаль Танди! Она</text>
<text text-anchor="middle" x="1458" y="-1237.12" font-family="Times,serif" font-size="14.00">была славной девушкой и</text>
<text text-anchor="middle" x="1458" y="-1219.87" font-family="Times,serif" font-size="14.00">могла прожить долгую,</text>
<text text-anchor="middle" x="1458" y="-1202.62" font-family="Times,serif" font-size="14.00">счастливую жизнь.</text>
</g>
<!-- Agatha08&#45;&gt;Agatha07 -->
<g id="edge17" class="edge">
<title>Agatha08&#45;&gt;Agatha07</title>
<path fill="none" stroke="#460099" d="M1540.98,-1397.28C1535.95,-1390.53 1531.07,-1383.56 1526.75,-1376.71 1511.03,-1351.78 1496.42,-1322.71 1484.74,-1297.36"/>
<polygon fill="#460099" stroke="#460099" points="1487.57,-1296.13 1480.25,-1288.48 1481.2,-1299.03 1487.57,-1296.13"/>
<text text-anchor="middle" x="1606.62" y="-1363.41" font-family="Times,serif" font-size="14.00" fill="#460099">Прости Агата, но я не</text>
<text text-anchor="middle" x="1606.62" y="-1346.16" font-family="Times,serif" font-size="14.00" fill="#460099">смог спасти Танди.</text>
</g>
<!-- Agatha09 -->
<g id="node18" class="node">
<title>Agatha09</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2057" cy="-42.25" rx="149.73" ry="42.25"/>
<text text-anchor="middle" x="2057" y="-54.82" font-family="Times,serif" font-size="14.00">В этом я не могу тебе</text>
<text text-anchor="middle" x="2057" y="-37.57" font-family="Times,serif" font-size="14.00">помочь, дитя. Да пребудет</text>
<text text-anchor="middle" x="2057" y="-20.32" font-family="Times,serif" font-size="14.00">с тобой Дхарма.</text>
</g>
<!-- Agatha08&#45;&gt;Agatha09 -->
<g id="edge10" class="edge">
<title>Agatha08&#45;&gt;Agatha09</title>
<path fill="none" stroke="#00994d" d="M1685.57,-1414.23C1789.52,-1379.31 1936.53,-1329.29 1941,-1324.21 1995.58,-1262.12 1926.12,-1205.67 1979,-1142.13 1992.52,-1125.89 2010.88,-1141.43 2023,-1124.13 2253.17,-795.54 2122.78,-262.42 2073.39,-95.15"/>
<polygon fill="#00994d" stroke="#00994d" points="2076.47,-94.25 2070.26,-85.67 2069.76,-96.25 2076.47,-94.25"/>
<text text-anchor="middle" x="2167.38" y="-706.36" font-family="Times,serif" font-size="14.00" fill="#00994d">Гм.</text>
</g>
<!-- Agatha08&#45;&gt;Agatha09 -->
<g id="edge14" class="edge">
<title>Agatha08&#45;&gt;Agatha09</title>
<path fill="none" stroke="#990066" d="M1715.63,-1444.86C1923.03,-1438.36 2306.98,-1420.51 2351,-1376.71 2396.12,-1331.81 2365,-1297.82 2365,-1234.17 2365,-1234.17 2365,-1234.17 2365,-274.49 2365,-173.57 2257.94,-111.27 2170.06,-77.13"/>
<polygon fill="#990066" stroke="#990066" points="2171.58,-73.59 2160.99,-73.31 2169.09,-80.13 2171.58,-73.59"/>
<text text-anchor="middle" x="2426.88" y="-706.36" font-family="Times,serif" font-size="14.00" fill="#990066">Отвали, старуха.</text>
</g>
<!-- Agatha10 -->
<g id="node19" class="node">
<title>Agatha10</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1777" cy="-1233.17" rx="154.5" ry="54.45"/>
<text text-anchor="middle" x="1777" y="-1254.37" font-family="Times,serif" font-size="14.00">Меня зовут Агата. Я храню</text>
<text text-anchor="middle" x="1777" y="-1237.12" font-family="Times,serif" font-size="14.00">историю Шэйди Сэндс,</text>
<text text-anchor="middle" x="1777" y="-1219.87" font-family="Times,serif" font-size="14.00">чтобы люди знали свое</text>
<text text-anchor="middle" x="1777" y="-1202.62" font-family="Times,serif" font-size="14.00">прошлое.</text>
</g>
<!-- Agatha08&#45;&gt;Agatha10 -->
<g id="edge11" class="edge">
<title>Agatha08&#45;&gt;Agatha10</title>
<path fill="none" stroke="#992000" d="M1657.29,-1403.54C1668.2,-1395.32 1678.84,-1386.28 1688,-1376.71 1710.46,-1353.24 1730.21,-1323.23 1745.37,-1296.8"/>
<polygon fill="#992000" stroke="#992000" points="1748.89,-1298.68 1750.74,-1288.25 1742.79,-1295.25 1748.89,-1298.68"/>
<text text-anchor="middle" x="1742.5" y="-1354.78" font-family="Times,serif" font-size="14.00" fill="#992000">Кто ты?</text>
</g>
<!-- Agatha13 -->
<g id="node20" class="node">
<title>Agatha13</title>
<ellipse fill="#ffffff" stroke="#000000" cx="2144" cy="-1233.17" rx="155.56" ry="91.04"/>
<text text-anchor="middle" x="2144" y="-1280.24" font-family="Times,serif" font-size="14.00">Спасибо, что спрашиваешь.</text>
<text text-anchor="middle" x="2144" y="-1262.99" font-family="Times,serif" font-size="14.00">Я старая, вот и весь</text>
<text text-anchor="middle" x="2144" y="-1245.74" font-family="Times,serif" font-size="14.00">сказ. Плохо сплю по</text>
<text text-anchor="middle" x="2144" y="-1228.49" font-family="Times,serif" font-size="14.00">ночам. Закрываю глаза...</text>
<text text-anchor="middle" x="2144" y="-1211.24" font-family="Times,serif" font-size="14.00">[Агата затихает.] И не</text>
<text text-anchor="middle" x="2144" y="-1193.99" font-family="Times,serif" font-size="14.00">могу уснуть. Это все мои</text>
<text text-anchor="middle" x="2144" y="-1176.74" font-family="Times,serif" font-size="14.00">старые больные кости...</text>
</g>
<!-- Agatha08&#45;&gt;Agatha13 -->
<g id="edge12" class="edge">
<title>Agatha08&#45;&gt;Agatha13</title>
<path fill="none" stroke="#000c99" d="M1716.01,-1448.16C1856.5,-1445.22 2066.12,-1431.42 2122,-1376.71 2133.59,-1365.35 2140.73,-1350.62 2144.92,-1334.93"/>
<polygon fill="#000c99" stroke="#000c99" points="2148.48,-1336.04 2147.26,-1325.52 2141.65,-1334.5 2148.48,-1336.04"/>
<text text-anchor="middle" x="2243.75" y="-1363.41" font-family="Times,serif" font-size="14.00" fill="#000c99">Ты очень плохо выглядишь.</text>
<text text-anchor="middle" x="2243.75" y="-1346.16" font-family="Times,serif" font-size="14.00" fill="#000c99">Что&#45;то случилось?</text>
</g>
<!-- Agatha08&#45;&gt;Agatha13 -->
<g id="edge13" class="edge">
<title>Agatha08&#45;&gt;Agatha13</title>
<path fill="none" stroke="#399900" d="M1714.77,-1441.94C1774.32,-1433.46 1842.77,-1415.18 1894,-1376.71 1908.04,-1366.16 1899.54,-1353.18 1913.25,-1342.21 1935.24,-1324.61 1947.93,-1334.85 1974,-1324.21 1990.15,-1317.61 2006.8,-1309.96 2023.05,-1301.95"/>
<polygon fill="#399900" stroke="#399900" points="2024.19,-1304.8 2031.57,-1297.21 2021.06,-1298.54 2024.19,-1304.8"/>
<text text-anchor="middle" x="2015.38" y="-1354.78" font-family="Times,serif" font-size="14.00" fill="#399900">Почему ты такая грустная?</text>
</g>
<!-- map_update_p_proc -->
<g id="node9" class="node">
<title>map_update_p_proc</title>
<ellipse fill="#ffffff" stroke="#000000" cx="713" cy="-1631.64" rx="27" ry="18"/>
</g>
<!-- Agatha02 -->
<g id="node11" class="node">
<title>Agatha02</title>
<ellipse fill="#ffffff" stroke="#000000" cx="688" cy="-275.49" rx="157.68" ry="91.04"/>
<text text-anchor="middle" x="688" y="-322.56" font-family="Times,serif" font-size="14.00">Я верю в тебя. Найди</text>
<text text-anchor="middle" x="688" y="-305.31" font-family="Times,serif" font-size="14.00">Танди, спаси ее от этих</text>
<text text-anchor="middle" x="688" y="-288.06" font-family="Times,serif" font-size="14.00">чудовищ и приведи к</text>
<text text-anchor="middle" x="688" y="-270.81" font-family="Times,serif" font-size="14.00">Арадешу. Этим ты очень</text>
<text text-anchor="middle" x="688" y="-253.56" font-family="Times,serif" font-size="14.00">поможешь нашей общине, а</text>
<text text-anchor="middle" x="688" y="-236.31" font-family="Times,serif" font-size="14.00">заодно улучшишь свою</text>
<text text-anchor="middle" x="688" y="-219.06" font-family="Times,serif" font-size="14.00">репутацию.</text>
</g>
<!-- Agatha01&#45;&gt;Agatha02 -->
<g id="edge3" class="edge">
<title>Agatha01&#45;&gt;Agatha02</title>
<path fill="none" stroke="#995300" d="M630.64,-1185.97C566.84,-1140.53 478.21,-1064.71 439.75,-972.84 394.82,-865.5 385.87,-552.36 439.75,-449.22 447.69,-434.03 512.11,-389.4 573.34,-349.31"/>
<polygon fill="#995300" stroke="#995300" points="574.88,-351.83 581.34,-343.43 571.06,-345.97 574.88,-351.83"/>
<text text-anchor="middle" x="459.62" y="-706.36" font-family="Times,serif" font-size="14.00" fill="#995300">Хм&#45;м.</text>
</g>
<!-- Agatha03 -->
<g id="node12" class="node">
<title>Agatha03</title>
<ellipse fill="#ffffff" stroke="#000000" cx="981" cy="-711.03" rx="155.03" ry="103.24"/>
<text text-anchor="middle" x="981" y="-766.73" font-family="Times,serif" font-size="14.00">Арадеш очень любит свою</text>
<text text-anchor="middle" x="981" y="-749.48" font-family="Times,serif" font-size="14.00">дочь. Эта любовь придает</text>
<text text-anchor="middle" x="981" y="-732.23" font-family="Times,serif" font-size="14.00">ему сил &#45; а он должен</text>
<text text-anchor="middle" x="981" y="-714.98" font-family="Times,serif" font-size="14.00">быть сильным, чтобы</text>
<text text-anchor="middle" x="981" y="-697.73" font-family="Times,serif" font-size="14.00">управлять общиной. Без</text>
<text text-anchor="middle" x="981" y="-680.48" font-family="Times,serif" font-size="14.00">Танди он умрет от горя, а</text>
<text text-anchor="middle" x="981" y="-663.23" font-family="Times,serif" font-size="14.00">потом и деревню постигнет</text>
<text text-anchor="middle" x="981" y="-645.98" font-family="Times,serif" font-size="14.00">та же участь...</text>
</g>
<!-- Agatha01&#45;&gt;Agatha03 -->
<g id="edge4" class="edge">
<title>Agatha01&#45;&gt;Agatha03</title>
<path fill="none" stroke="#270099" d="M736.01,-1179.87C746.8,-1162.32 758.67,-1142.52 769,-1124.13 826.23,-1022.24 886.76,-903.31 928.43,-819.47"/>
<polygon fill="#270099" stroke="#270099" points="931.98,-821.19 933.29,-810.68 925.71,-818.08 931.98,-821.19"/>
<text text-anchor="middle" x="867.25" y="-1052.81" font-family="Times,serif" font-size="14.00" fill="#270099">Почему?</text>
</g>
<!-- Agatha05 -->
<g id="node13" class="node">
<title>Agatha05</title>
<ellipse fill="#ffffff" stroke="#000000" cx="649" cy="-711.03" rx="158.75" ry="66.64"/>
<text text-anchor="middle" x="649" y="-740.86" font-family="Times,serif" font-size="14.00">Ты что, слышишь плохо?</text>
<text text-anchor="middle" x="649" y="-723.61" font-family="Times,serif" font-size="14.00">Танди пропала. Я не</text>
<text text-anchor="middle" x="649" y="-706.36" font-family="Times,serif" font-size="14.00">сомневаюсь в том, что ее</text>
<text text-anchor="middle" x="649" y="-689.11" font-family="Times,serif" font-size="14.00">похитили. Арадеш обезумел</text>
<text text-anchor="middle" x="649" y="-671.86" font-family="Times,serif" font-size="14.00">от горя. Это ужасно...</text>
</g>
<!-- Agatha01&#45;&gt;Agatha05 -->
<g id="edge5" class="edge">
<title>Agatha01&#45;&gt;Agatha05</title>
<path fill="none" stroke="#069900" d="M697.42,-1178.46C687.8,-1085.74 668.03,-895.34 656.96,-788.71"/>
<polygon fill="#069900" stroke="#069900" points="660.37,-788.61 655.85,-779.02 653.4,-789.33 660.37,-788.61"/>
<text text-anchor="middle" x="727.75" y="-1052.81" font-family="Times,serif" font-size="14.00" fill="#069900">Ты о чем?</text>
</g>
<!-- Agatha03&#45;&gt;Agatha02 -->
<g id="edge7" class="edge">
<title>Agatha03&#45;&gt;Agatha02</title>
<path fill="none" stroke="#005f99" d="M932.34,-612.6C903.35,-560.49 863.24,-497.33 817,-449.22 807.2,-439.02 800.68,-441.3 790.75,-431.22 773.22,-413.44 756.9,-392.25 742.65,-371.35"/>
<polygon fill="#005f99" stroke="#005f99" points="745.15,-369.79 736.68,-363.42 739.33,-373.68 745.15,-369.79"/>
<text text-anchor="middle" x="861.62" y="-409.3" font-family="Times,serif" font-size="14.00" fill="#005f99">Хм&#45;м. Посмотрим...</text>
</g>
<!-- Agatha04 -->
<g id="node14" class="node">
<title>Agatha04</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1004" cy="-275.49" rx="140.18" ry="91.04"/>
<text text-anchor="middle" x="1004" y="-322.56" font-family="Times,serif" font-size="14.00">Я чувствую, как она</text>
<text text-anchor="middle" x="1004" y="-305.31" font-family="Times,serif" font-size="14.00">мучается в заточении,</text>
<text text-anchor="middle" x="1004" y="-288.06" font-family="Times,serif" font-size="14.00">чувствую ее ненависть к</text>
<text text-anchor="middle" x="1004" y="-270.81" font-family="Times,serif" font-size="14.00">похитителям &#45; боль и</text>
<text text-anchor="middle" x="1004" y="-253.56" font-family="Times,serif" font-size="14.00">страдания идут с</text>
<text text-anchor="middle" x="1004" y="-236.31" font-family="Times,serif" font-size="14.00">юго&#45;востока. Я уверена,</text>
<text text-anchor="middle" x="1004" y="-219.06" font-family="Times,serif" font-size="14.00">она там. Удачи тебе!</text>
</g>
<!-- Agatha03&#45;&gt;Agatha04 -->
<g id="edge6" class="edge">
<title>Agatha03&#45;&gt;Agatha04</title>
<path fill="none" stroke="#990033" d="M951.78,-609.2C938.14,-547.29 928.13,-466.71 944.5,-396.72 946.46,-388.34 949.1,-379.87 952.17,-371.51"/>
<polygon fill="#990033" stroke="#990033" points="955.75,-372.98 956.12,-362.39 949.23,-370.43 955.75,-372.98"/>
<text text-anchor="middle" x="1046.75" y="-417.92" font-family="Times,serif" font-size="14.00" fill="#990033">Вы можете мне подсказать,</text>
<text text-anchor="middle" x="1046.75" y="-400.67" font-family="Times,serif" font-size="14.00" fill="#990033">где ее искать?</text>
</g>
<!-- Agatha04&#45;&gt;AgathaEnd -->
<g id="edge8" class="edge">
<title>Agatha04&#45;&gt;AgathaEnd</title>
<path fill="none" stroke="#8c9900" d="M1039.59,-187.09C1053.66,-158.41 1071.58,-127.5 1092.75,-102.5 1106.95,-85.73 1126.74,-70.93 1142.99,-60.31"/>
<polygon fill="#8c9900" stroke="#8c9900" points="1144.5,-62.87 1151.08,-54.56 1140.76,-56.95 1144.5,-62.87"/>
<text text-anchor="middle" x="1124.62" y="-123.7" font-family="Times,serif" font-size="14.00" fill="#8c9900">Спасибо.</text>
</g>
<!-- Agatha06&#45;&gt;AgathaEnd -->
<g id="edge9" class="edge">
<title>Agatha06&#45;&gt;AgathaEnd</title>
<path fill="none" stroke="#790099" d="M1136.76,-993.33C1140.04,-986.63 1142.89,-979.74 1145,-972.84 1171.9,-884.9 1172.31,-217.22 1172.07,-71.35"/>
<polygon fill="#790099" stroke="#790099" points="1175.57,-71.66 1172.05,-61.66 1168.57,-71.67 1175.57,-71.66"/>
<text text-anchor="middle" x="1236.75" y="-409.3" font-family="Times,serif" font-size="14.00" fill="#790099">Спасибо. Прощай.</text>
</g>
<!-- Agatha10&#45;&gt;AgathaEnd -->
<g id="edge21" class="edge">
<title>Agatha10&#45;&gt;AgathaEnd</title>
<path fill="none" stroke="#6c9900" d="M1699.12,-1185.9C1672.32,-1170.93 1641.8,-1154.91 1613,-1142.13 1590.65,-1132.21 1582.4,-1135.97 1561,-1124.13 1467.16,-1072.2 1423.24,-1067.59 1373,-972.84 1318.31,-869.69 1356.22,-562.99 1330,-449.22 1295.56,-299.83 1216.59,-132.47 1185.21,-69.28"/>
<polygon fill="#6c9900" stroke="#6c9900" points="1188.03,-68.09 1180.43,-60.71 1181.77,-71.22 1188.03,-68.09"/>
<text text-anchor="middle" x="1368.25" y="-409.3" font-family="Times,serif" font-size="14.00" fill="#6c9900">А, ну ладно.</text>
</g>
<!-- Agatha11 -->
<g id="node21" class="node">
<title>Agatha11</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1538" cy="-711.03" rx="156.09" ry="261.81"/>
<text text-anchor="middle" x="1538" y="-878.86" font-family="Times,serif" font-size="14.00">Шэйди Сэндс основала</text>
<text text-anchor="middle" x="1538" y="-861.61" font-family="Times,serif" font-size="14.00">группа выходцев из</text>
<text text-anchor="middle" x="1538" y="-844.36" font-family="Times,serif" font-size="14.00">Убежища 15 при помощи</text>
<text text-anchor="middle" x="1538" y="-827.11" font-family="Times,serif" font-size="14.00">ГЭКК, который позволил</text>
<text text-anchor="middle" x="1538" y="-809.86" font-family="Times,serif" font-size="14.00">жителям создать</text>
<text text-anchor="middle" x="1538" y="-792.61" font-family="Times,serif" font-size="14.00">независимое сообщество и</text>
<text text-anchor="middle" x="1538" y="-775.36" font-family="Times,serif" font-size="14.00">возвести каменные здания.</text>
<text text-anchor="middle" x="1538" y="-758.11" font-family="Times,serif" font-size="14.00">Уже через несколько лет,</text>
<text text-anchor="middle" x="1538" y="-740.86" font-family="Times,serif" font-size="14.00">Шэйди Сэндс представлял</text>
<text text-anchor="middle" x="1538" y="-723.61" font-family="Times,serif" font-size="14.00">собой самодостаточную</text>
<text text-anchor="middle" x="1538" y="-706.36" font-family="Times,serif" font-size="14.00">фермерскую общину с</text>
<text text-anchor="middle" x="1538" y="-689.11" font-family="Times,serif" font-size="14.00">собственной системой</text>
<text text-anchor="middle" x="1538" y="-671.86" font-family="Times,serif" font-size="14.00">орошения. Жители города</text>
<text text-anchor="middle" x="1538" y="-654.61" font-family="Times,serif" font-size="14.00">смогли орошать пустынную</text>
<text text-anchor="middle" x="1538" y="-637.36" font-family="Times,serif" font-size="14.00">почву, выращивать</text>
<text text-anchor="middle" x="1538" y="-620.11" font-family="Times,serif" font-size="14.00">некоторые культуры (в</text>
<text text-anchor="middle" x="1538" y="-602.86" font-family="Times,serif" font-size="14.00">основном, кукурузу и</text>
<text text-anchor="middle" x="1538" y="-585.61" font-family="Times,serif" font-size="14.00">капусту) и разводить</text>
<text text-anchor="middle" x="1538" y="-568.36" font-family="Times,serif" font-size="14.00">браминов. В центре города</text>
<text text-anchor="middle" x="1538" y="-551.11" font-family="Times,serif" font-size="14.00">у нас установлен обелиск</text>
<text text-anchor="middle" x="1538" y="-533.86" font-family="Times,serif" font-size="14.00">— Столп Заветов.</text>
</g>
<!-- Agatha10&#45;&gt;Agatha11 -->
<g id="edge19" class="edge">
<title>Agatha10&#45;&gt;Agatha11</title>
<path fill="none" stroke="#990013" d="M1688.65,-1188.31C1663,-1171.54 1637.33,-1150.08 1620.25,-1124.13 1592.24,-1081.58 1573.4,-1031.59 1560.8,-981.39"/>
<polygon fill="#990013" stroke="#990013" points="1564.04,-980.9 1558.28,-972.01 1557.23,-982.55 1564.04,-980.9"/>
<text text-anchor="middle" x="1705.88" y="-1061.43" font-family="Times,serif" font-size="14.00" fill="#990013">Расскажи мне о Шэйди</text>
<text text-anchor="middle" x="1705.88" y="-1044.18" font-family="Times,serif" font-size="14.00" fill="#990013">Сэндс.</text>
</g>
<!-- Agatha12 -->
<g id="node22" class="node">
<title>Agatha12</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1866" cy="-711.03" rx="153.97" ry="176.42"/>
<text text-anchor="middle" x="1866" y="-818.48" font-family="Times,serif" font-size="14.00">Да, верно. [Агата</text>
<text text-anchor="middle" x="1866" y="-801.23" font-family="Times,serif" font-size="14.00">внимательно смотрит на</text>
<text text-anchor="middle" x="1866" y="-783.98" font-family="Times,serif" font-size="14.00">вас.] Свою историю нужно</text>
<text text-anchor="middle" x="1866" y="-766.73" font-family="Times,serif" font-size="14.00">знать, чтобы делать</text>
<text text-anchor="middle" x="1866" y="-749.48" font-family="Times,serif" font-size="14.00">меньше ошибок. На нашу</text>
<text text-anchor="middle" x="1866" y="-732.23" font-family="Times,serif" font-size="14.00">жизнь часто влияют</text>
<text text-anchor="middle" x="1866" y="-714.98" font-family="Times,serif" font-size="14.00">события, которые</text>
<text text-anchor="middle" x="1866" y="-697.73" font-family="Times,serif" font-size="14.00">случились давным&#45;давно.</text>
<text text-anchor="middle" x="1866" y="-680.48" font-family="Times,serif" font-size="14.00">Теперь мне нужно немного</text>
<text text-anchor="middle" x="1866" y="-663.23" font-family="Times,serif" font-size="14.00">отдохнуть. Да пребудет с</text>
<text text-anchor="middle" x="1866" y="-645.98" font-family="Times,serif" font-size="14.00">тобой Дхарма.</text>
<text text-anchor="middle" x="1866" y="-628.73" font-family="Times,serif" font-size="14.00">Возвращайся, когда я</text>
<text text-anchor="middle" x="1866" y="-611.48" font-family="Times,serif" font-size="14.00">восстановлю силы, и мы</text>
<text text-anchor="middle" x="1866" y="-594.23" font-family="Times,serif" font-size="14.00">поговорим.</text>
</g>
<!-- Agatha10&#45;&gt;Agatha12 -->
<g id="edge20" class="edge">
<title>Agatha10&#45;&gt;Agatha12</title>
<path fill="none" stroke="#004099" d="M1786.19,-1178.46C1797.57,-1111.97 1817.54,-995.24 1834.66,-895.2"/>
<polygon fill="#004099" stroke="#004099" points="1838.23,-896.09 1836.46,-885.64 1831.33,-894.91 1838.23,-896.09"/>
<text text-anchor="middle" x="1917.62" y="-1061.43" font-family="Times,serif" font-size="14.00" fill="#004099">Хорошо, что ты заботишься</text>
<text text-anchor="middle" x="1917.62" y="-1044.18" font-family="Times,serif" font-size="14.00" fill="#004099">об этом.</text>
</g>
<!-- Agatha21 -->
<g id="node23" class="node">
<title>Agatha21</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1538" cy="-275.49" rx="154.5" ry="103.24"/>
<text text-anchor="middle" x="1538" y="-331.19" font-family="Times,serif" font-size="14.00">У нас очень мирное</text>
<text text-anchor="middle" x="1538" y="-313.94" font-family="Times,serif" font-size="14.00">сообщество и мы не любим</text>
<text text-anchor="middle" x="1538" y="-296.69" font-family="Times,serif" font-size="14.00">насилие. Мы постоянно</text>
<text text-anchor="middle" x="1538" y="-279.44" font-family="Times,serif" font-size="14.00">подвергаемся атакам</text>
<text text-anchor="middle" x="1538" y="-262.19" font-family="Times,serif" font-size="14.00">радскорпионов и</text>
<text text-anchor="middle" x="1538" y="-244.94" font-family="Times,serif" font-size="14.00">налетчиков&#45;рейдеров,</text>
<text text-anchor="middle" x="1538" y="-227.69" font-family="Times,serif" font-size="14.00">преимущественно Ханов. И</text>
<text text-anchor="middle" x="1538" y="-210.44" font-family="Times,serif" font-size="14.00">нас некому защитить.</text>
</g>
<!-- Agatha11&#45;&gt;Agatha21 -->
<g id="edge22" class="edge">
<title>Agatha11&#45;&gt;Agatha21</title>
<path fill="none" stroke="#990099" d="M1538,-448.77C1538,-428.26 1538,-408.31 1538,-389.69"/>
<polygon fill="#990099" stroke="#990099" points="1541.5,-389.88 1538,-379.88 1534.5,-389.88 1541.5,-389.88"/>
<text text-anchor="middle" x="1640" y="-417.92" font-family="Times,serif" font-size="14.00" fill="#990099">Пожалуйста, расскажи мне</text>
<text text-anchor="middle" x="1640" y="-400.67" font-family="Times,serif" font-size="14.00" fill="#990099">еще о чем&#45;нибудь.</text>
</g>
<!-- UpReact -->
<g id="node24" class="node">
<title>UpReact</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1863" cy="-275.49" rx="27" ry="18"/>
</g>
<!-- Agatha12&#45;&gt;UpReact -->
<g id="edge23" class="edge">
<title>Agatha12&#45;&gt;UpReact</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1864.78,-534.32C1864.18,-447.3 1863.52,-351.12 1863.2,-304.67"/>
<polygon fill="#555555" stroke="#555555" points="1866.69,-304.68 1863.12,-294.71 1859.69,-304.73 1866.69,-304.68"/>
</g>
<!-- Agatha21&#45;&gt;AgathaEnd -->
<g id="edge27" class="edge">
<title>Agatha21&#45;&gt;AgathaEnd</title>
<path fill="none" stroke="#1a9900" d="M1451.74,-189.65C1417.45,-159.2 1376.35,-126.49 1335,-102.5 1293.99,-78.7 1241.76,-61.77 1207.63,-52.25"/>
<polygon fill="#1a9900" stroke="#1a9900" points="1208.79,-48.67 1198.22,-49.42 1206.96,-55.42 1208.79,-48.67"/>
<text text-anchor="middle" x="1498.88" y="-140.95" font-family="Times,serif" font-size="14.00" fill="#1a9900">Я постараюсь вам</text>
<text text-anchor="middle" x="1498.88" y="-123.7" font-family="Times,serif" font-size="14.00" fill="#1a9900">чем&#45;нибудь помочь, если</text>
<text text-anchor="middle" x="1498.88" y="-106.45" font-family="Times,serif" font-size="14.00" fill="#1a9900">смогу.</text>
</g>
<!-- Agatha21&#45;&gt;Agatha09 -->
<g id="edge28" class="edge">
<title>Agatha21&#45;&gt;Agatha09</title>
<path fill="none" stroke="#990046" d="M1664.88,-216.29C1738.66,-182.65 1833.52,-139.75 1918.25,-102.5 1933.44,-95.82 1949.61,-88.82 1965.34,-82.06"/>
<polygon fill="#990046" stroke="#990046" points="1966.26,-85.05 1974.07,-77.9 1963.5,-78.62 1966.26,-85.05"/>
<text text-anchor="middle" x="1979.88" y="-123.7" font-family="Times,serif" font-size="14.00" fill="#990046">Отвали, старуха.</text>
</g>
<!-- ReactToLevel -->
<g id="node26" class="node">
<title>ReactToLevel</title>
<ellipse fill="#ffffff" stroke="#000000" cx="1862" cy="-42.25" rx="27" ry="18"/>
</g>
<!-- UpReact&#45;&gt;ReactToLevel -->
<g id="edge29" class="edge">
<title>UpReact&#45;&gt;ReactToLevel</title>
<path fill="none" stroke="#555555" stroke-dasharray="1,5" d="M1862.92,-257.11C1862.75,-217.42 1862.33,-119.84 1862.12,-71.43"/>
<polygon fill="#555555" stroke="#555555" points="1865.62,-71.5 1862.07,-61.52 1858.62,-71.53 1865.62,-71.5"/>
</g>
</g>
</svg>
<script>window.Codes = {"start":"if (not(initialized)) then begin\n  critter_add_trait(self_obj, 1, 6, 2);\n  critter_add_trait(self_obj, 1, 5, 23);\n  initialized := 1;\nend\n","look_at_p_proc":"script_overrides;\nif (local_var(3) == 1) then begin\n  display_msg(message_str(663, 102));\nend\nelse begin\n  display_msg(message_str(663, 100));\nend\n","critter_p_proc":"if (hostile) then begin\n  hostile := 0;\n  attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);\nend\n","pickup_p_proc":"if (source_obj == dude_obj) then begin\n  hostile := 1;\nend\n","destroy_p_proc":"if (source_obj == dude_obj) then begin\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin\n    set_global_var(156, 1);\n    set_global_var(157, 0);\n  end\n  if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin\n    set_global_var(157, 1);\n    set_global_var(156, 0);\n  end\n  set_global_var(159, global_var(159) + 1);\n  if ((global_var(159) % 2) == 0) then begin\n    set_global_var(155, global_var(155) - 1);\n  end\nend\n","talk_p_proc":"set_local_var(3, 1);\nstart_gdialog(663, self_obj, 4, -1, -1);\ngsay_start;\nif ((game_time_hour >= 1900) or (game_time_hour < 600)) then begin\n  call Agatha14;\nend\nelse begin\n  call Agatha08;\nend\ngsay_end;\nend_dialogue;\n","map_update_p_proc":"if ((game_time_hour >= 1900) or (game_time_hour < 600)) then begin\n  animate_move_obj_to_tile(self_obj, 16523, 0);\nend\nelse begin\n  animate_move_obj_to_tile(self_obj, 16131, 0);\n  if (anim_busy(self_obj) == 0) then begin\n    anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), 16131));\n  end\nend\n","Agatha01":"gsay_reply(663, 104);\ngiq_option(-3, 663, 105, Agatha02, 49);\ngiq_option(5, 663, 107, Agatha03, 50);\ngiq_option(4, 663, 108, Agatha05, 50);\n","Agatha02":"gsay_message(663, 109, 49);\n","Agatha03":"gsay_reply(663, 110);\ngiq_option(6, 663, 112, Agatha04, 50);\ngiq_option(5, 663, 113, Agatha02, 50);\n","Agatha04":"gsay_reply(663, 114);\ngiq_option(5, 663, 115, AgathaEnd, 49);\n","Agatha05":"gsay_message(663, 116, 50);\n","Agatha06":"gsay_reply(663, 117);\ngiq_option(4, 663, 142, AgathaEnd, 50);\n","Agatha07":"gsay_message(663, 118, 50);\n","Agatha08":"gsay_reply(663, 119);\ngiq_option(-3, 663, 120, Agatha09, 50);\ngiq_option(4, 663, 121, Agatha10, 50);\nif (get_critter_stat(dude_obj, 34) == 1) then begin\n  giq_option(5, 663, 122, Agatha13, 50);\nend\nelse begin\n  giq_option(7, 663, 123, Agatha13, 50);\nend\ngiq_option(4, 663, 124, Agatha09, 51);\nif (global_var(26) == 1) then begin\n  giq_option(4, 663, 152, Agatha01, 50);\nend\nif (global_var(26) == 2) then begin\n  giq_option(4, 663, 153, Agatha06, 50);\nend\nif (global_var(26) == 3) then begin\n  giq_option(4, 663, 154, Agatha07, 50);\nend\ngiq_option(4, 663, 134, AgathaEnd, 50);\n","Agatha09":"gsay_message(663, 125, 50);\n","Agatha10":"gsay_reply(663, 126);\ngiq_option(4, 663, 127, Agatha11, 50);\ngiq_option(6, 663, 129, Agatha12, 49);\ngiq_option(4, 663, 128, AgathaEnd, 50);\n","Agatha11":"gsay_reply(663, 130);\ngiq_option(4, 663, 145, Agatha21, 50);\n","Agatha12":"call UpReact;\ngsay_message(663, 131, 50);\n","Agatha13":"gsay_message(663, 132, 50);\n","Agatha14":"gsay_reply(663, 133);\ngiq_option(-3, 663, 134, AgathaEnd, 50);\ngiq_option(4, 663, 135, AgathaEnd, 50);\ngiq_option(6, 663, 136, Agatha15, 50);\n","Agatha15":"gsay_message(663, 137, 50);\n","Agatha21":"gsay_reply(663, 150);\ngiq_option(4, 663, 151, AgathaEnd, 50);\ngiq_option(4, 663, 124, Agatha09, 51);\n","AgathaEnd":"[]","ReactToLevel":"if (local_var(0) <= 25) then begin\n  set_local_var(1, 1);\nend\nelse begin\n  if (local_var(0) <= 75) then begin\n    set_local_var(1, 2);\n  end\n  else begin\n    set_local_var(1, 3);\n  end\nend\n","UpReact":"set_local_var(0, local_var(0) + 10);\ncall ReactToLevel;\n"}</script></body><script src="../jquery.js"></script><script src="../underscore.js"></script><script>(function() {
  var downAt, hideCode, nodes, positionCode, showCode;

  $('svg').attr('unselectable', 'on').css({
    '-moz-user-select': '-moz-none',
    '-moz-user-select': 'none',
    '-o-user-select': 'none',
    '-khtml-user-select': 'none',
    '-webkit-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  }).bind('selectstart', function() {
    return false;
  });

  $('<div/>', {
    id: 'thecode'
  }).appendTo('body');

  $('#thecode').css({
    'pointer-events': 'none',
    background: 'white',
    padding: '1em',
    outline: 'solid gray 1px',
    'white-space': 'pre',
    position: 'fixed',
    left: 0,
    top: 0
  });

  showCode = function(code, x, y) {
    $('#thecode').show();
    $('#thecode').text(code);
    return positionCode(x, y);
  };

  hideCode = function() {
    return $('#thecode').hide();
  };

  positionCode = function(x, y) {
    return $('#thecode').css({
      left: x,
      top: y
    });
  };

  nodes = $('.node');

  _.each(nodes, function(node) {
    var nodeName;
    nodeName = $(node).find('title').text();
    $(node).mousemove(function(e) {
      return showCode(Codes[nodeName], e.clientX, e.clientY);
    });
    return $(node).mouseleave(function() {
      return hideCode();
    });
  });

  $('svg title').remove();

  downAt = null;

  $('svg').mousedown(function(e) {
    var x, y;
    x = e.pageX;
    y = e.pageY;
    return downAt = {
      x: x,
      y: y
    };
  });

  $('svg').mousemove(function(e) {
    var delta, x, y;
    if (!downAt) {
      return;
    }
    x = e.pageX;
    y = e.pageY;
    delta = {
      x: x - downAt.x,
      y: y - downAt.y
    };
    window.scrollBy(-delta.x, -delta.y);
    return false;
  });

  $('svg').mouseup(function(e) {
    return downAt = null;
  });

  $('svg').mouseleave(function(e) {
    return downAt = null;
  });

}).call(this);
</script></html>